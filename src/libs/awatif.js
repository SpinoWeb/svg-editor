var qs=Object.create;var Fi=Object.defineProperty;var Rs=Object.getOwnPropertyDescriptor;var Us=Object.getOwnPropertyNames;var Ls=Object.getPrototypeOf,Zs=Object.prototype.hasOwnProperty;var ze=Math.pow;var Nt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Vs=(r,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Us(e))!Zs.call(r,n)&&n!==t&&Fi(r,n,{get:()=>e[n],enumerable:!(a=Rs(e,n))||a.enumerable});return r};var Bt=(r,e,t)=>(t=r!=null?qs(Ls(r)):{},Vs(e||!r||!r.__esModule?Fi(t,"default",{value:r,enumerable:!0}):t,r));var to=Nt((xn,yn)=>{(function(r,e){typeof xn=="object"&&typeof yn!="undefined"?yn.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r.typed=e())})(xn,function(){"use strict";function r(i,s){var l=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!l){if(Array.isArray(i)||(l=e(i))||s&&i&&typeof i.length=="number"){l&&(i=l);var v=0,d=function(){};return{s:d,n:function(){return v>=i.length?{done:!0}:{done:!1,value:i[v++]}},e:function(x){throw x},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,h=!1,g;return{s:function(){l=l.call(i)},n:function(){var x=l.next();return c=x.done,x},e:function(x){h=!0,g=x},f:function(){try{!c&&l.return!=null&&l.return()}finally{if(h)throw g}}}}function e(i,s){if(i){if(typeof i=="string")return t(i,s);var l=Object.prototype.toString.call(i).slice(8,-1);if(l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set")return Array.from(i);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return t(i,s)}}function t(i,s){(s==null||s>i.length)&&(s=i.length);for(var l=0,v=new Array(s);l<s;l++)v[l]=i[l];return v}function a(i){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(i)}function n(){return!0}function o(){return!1}function p(){}var m="Argument is not a typed-function.";function f(){function i(N){return a(N)==="object"&&N!==null&&N.constructor===Object}var s=[{name:"number",test:function(O){return typeof O=="number"}},{name:"string",test:function(O){return typeof O=="string"}},{name:"boolean",test:function(O){return typeof O=="boolean"}},{name:"Function",test:function(O){return typeof O=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(O){return O instanceof Date}},{name:"RegExp",test:function(O){return O instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(O){return O===null}},{name:"undefined",test:function(O){return O===void 0}}],l={name:"any",test:n,isAny:!0},v,d,c=0,h={createCount:0};function g(N){var O=v.get(N);if(O)return O;var L='Unknown type "'+N+'"',Y=N.toLowerCase(),k,j=r(d),tr;try{for(j.s();!(tr=j.n()).done;)if(k=tr.value,k.toLowerCase()===Y){L+='. Did you mean "'+k+'" ?';break}}catch(K){j.e(K)}finally{j.f()}throw new TypeError(L)}function y(N){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",L=O?g(O).index:d.length,Y=[],k=0;k<N.length;++k){if(!N[k]||typeof N[k].name!="string"||typeof N[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var j=N[k].name;if(v.has(j))throw new TypeError('Duplicate type name "'+j+'"');Y.push(j),v.set(j,{name:j,test:N[k].test,isAny:N[k].isAny,index:L+k,conversionsTo:[]})}var tr=d.slice(L);d=d.slice(0,L).concat(Y).concat(tr);for(var K=L+Y.length;K<d.length;++K)v.get(d[K]).index=K}function x(){v=new Map,d=[],c=0,y([l],!1)}x(),y(s);function E(){var N,O=r(d),L;try{for(O.s();!(L=O.n()).done;)N=L.value,v.get(N).conversionsTo=[]}catch(Y){O.e(Y)}finally{O.f()}c=0}function C(N){var O=d.filter(function(L){var Y=v.get(L);return!Y.isAny&&Y.test(N)});return O.length?O:["any"]}function D(N){return N&&typeof N=="function"&&"_typedFunctionData"in N}function A(N,O,L){if(!D(N))throw new TypeError(m);var Y=L&&L.exact,k=Array.isArray(O)?O.join(","):O,j=q(k),tr=w(j);if(!Y||tr in N.signatures){var K=N._typedFunctionData.signatureMap.get(tr);if(K)return K}var rr=j.length,lr;if(Y){lr=[];var Er;for(Er in N.signatures)lr.push(N._typedFunctionData.signatureMap.get(Er))}else lr=N._typedFunctionData.signatures;for(var ar=0;ar<rr;++ar){var jr=j[ar],Zr=[],$r=void 0,Pr=r(lr),ne;try{for(Pr.s();!(ne=Pr.n()).done;){$r=ne.value;var Ur=Z($r.params,ar);if(!(!Ur||jr.restParam&&!Ur.restParam)){if(!Ur.hasAny){var pe=function(){var ae=I(Ur);if(jr.types.some(function(Qe){return!ae.has(Qe.name)}))return"continue"}();if(pe==="continue")continue}Zr.push($r)}}}catch(ae){Pr.e(ae)}finally{Pr.f()}if(lr=Zr,lr.length===0)break}var re,ee=r(lr),Ve;try{for(ee.s();!(Ve=ee.n()).done;)if(re=Ve.value,re.params.length<=rr)return re}catch(ae){ee.e(ae)}finally{ee.f()}throw new TypeError("Signature not found (signature: "+(N.name||"unnamed")+"("+w(j,", ")+"))")}function F(N,O,L){return A(N,O,L).implementation}function b(N,O){var L=g(O);if(L.test(N))return N;var Y=L.conversionsTo;if(Y.length===0)throw new Error("There are no conversions to "+O+" defined.");for(var k=0;k<Y.length;k++){var j=g(Y[k].from);if(j.test(N))return Y[k].convert(N)}throw new Error("Cannot convert "+N+" to "+O)}function w(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return N.map(function(L){return L.name}).join(O)}function S(N){var O=N.indexOf("...")===0,L=O?N.length>3?N.slice(3):"any":N,Y=L.split("|").map(function(K){return g(K.trim())}),k=!1,j=O?"...":"",tr=Y.map(function(K){return k=K.isAny||k,j+=K.name+"|",{name:K.name,typeIndex:K.index,test:K.test,isAny:K.isAny,conversion:null,conversionIndex:-1}});return{types:tr,name:j.slice(0,-1),hasAny:k,hasConversion:!1,restParam:O}}function M(N){var O=N.types.map(function(tr){return tr.name}),L=W(O),Y=N.hasAny,k=N.name,j=L.map(function(tr){var K=g(tr.from);return Y=K.isAny||Y,k+="|"+tr.from,{name:tr.from,typeIndex:K.index,test:K.test,isAny:K.isAny,conversion:tr,conversionIndex:tr.index}});return{types:N.types.concat(j),name:k,hasAny:Y,hasConversion:j.length>0,restParam:N.restParam}}function I(N){return N.typeSet||(N.typeSet=new Set,N.types.forEach(function(O){return N.typeSet.add(O.name)})),N.typeSet}function q(N){var O=[];if(typeof N!="string")throw new TypeError("Signatures must be strings");var L=N.trim();if(L==="")return O;for(var Y=L.split(","),k=0;k<Y.length;++k){var j=S(Y[k].trim());if(j.restParam&&k!==Y.length-1)throw new SyntaxError('Unexpected rest parameter "'+Y[k]+'": only allowed for the last parameter');if(j.types.length===0)return null;O.push(j)}return O}function T(N){var O=yr(N);return O?O.restParam:!1}function B(N){if(!N||N.types.length===0)return n;if(N.types.length===1)return g(N.types[0].name).test;if(N.types.length===2){var O=g(N.types[0].name).test,L=g(N.types[1].name).test;return function(j){return O(j)||L(j)}}else{var Y=N.types.map(function(k){return g(k.name).test});return function(j){for(var tr=0;tr<Y.length;tr++)if(Y[tr](j))return!0;return!1}}}function Q(N){var O,L,Y;if(T(N)){O=fr(N).map(B);var k=O.length,j=B(yr(N)),tr=function(rr){for(var lr=k;lr<rr.length;lr++)if(!j(rr[lr]))return!1;return!0};return function(rr){for(var lr=0;lr<O.length;lr++)if(!O[lr](rr[lr]))return!1;return tr(rr)&&rr.length>=k+1}}else return N.length===0?function(rr){return rr.length===0}:N.length===1?(L=B(N[0]),function(rr){return L(rr[0])&&rr.length===1}):N.length===2?(L=B(N[0]),Y=B(N[1]),function(rr){return L(rr[0])&&Y(rr[1])&&rr.length===2}):(O=N.map(B),function(rr){for(var lr=0;lr<O.length;lr++)if(!O[lr](rr[lr]))return!1;return rr.length===O.length})}function Z(N,O){return O<N.length?N[O]:T(N)?yr(N):null}function _(N,O){var L=Z(N,O);return L?I(L):new Set}function z(N){return N.conversion===null||N.conversion===void 0}function U(N,O){var L=new Set;return N.forEach(function(Y){var k=_(Y.params,O),j,tr=r(k),K;try{for(tr.s();!(K=tr.n()).done;)j=K.value,L.add(j)}catch(rr){tr.e(rr)}finally{tr.f()}}),L.has("any")?["any"]:Array.from(L)}function H(N,O,L){var Y,k,j=N||"unnamed",tr=L,K,rr=function(){var Pr=[];if(tr.forEach(function(Ur){var pe=Z(Ur.params,K),re=B(pe);(K<Ur.params.length||T(Ur.params))&&re(O[K])&&Pr.push(Ur)}),Pr.length===0){if(k=U(tr,K),k.length>0){var ne=C(O[K]);return Y=new TypeError("Unexpected type of argument in function "+j+" (expected: "+k.join(" or ")+", actual: "+ne.join(" | ")+", index: "+K+")"),Y.data={category:"wrongType",fn:j,index:K,actual:ne,expected:k},{v:Y}}}else tr=Pr};for(K=0;K<O.length;K++){var lr=rr();if(a(lr)==="object")return lr.v}var Er=tr.map(function($r){return T($r.params)?1/0:$r.params.length});if(O.length<Math.min.apply(null,Er))return k=U(tr,K),Y=new TypeError("Too few arguments in function "+j+" (expected: "+k.join(" or ")+", index: "+O.length+")"),Y.data={category:"tooFewArgs",fn:j,index:O.length,expected:k},Y;var ar=Math.max.apply(null,Er);if(O.length>ar)return Y=new TypeError("Too many arguments in function "+j+" (expected: "+ar+", actual: "+O.length+")"),Y.data={category:"tooManyArgs",fn:j,index:O.length,expectedLength:ar},Y;for(var jr=[],Zr=0;Zr<O.length;++Zr)jr.push(C(O[Zr]).join("|"));return Y=new TypeError('Arguments of type "'+jr.join(", ")+'" do not match any of the defined signatures of function '+j+"."),Y.data={category:"mismatch",actual:jr},Y}function V(N){for(var O=d.length+1,L=0;L<N.types.length;L++)z(N.types[L])&&(O=Math.min(O,N.types[L].typeIndex));return O}function R(N){for(var O=c+1,L=0;L<N.types.length;L++)z(N.types[L])||(O=Math.min(O,N.types[L].conversionIndex));return O}function G(N,O){if(N.hasAny){if(!O.hasAny)return 1}else if(O.hasAny)return-1;if(N.restParam){if(!O.restParam)return 1}else if(O.restParam)return-1;if(N.hasConversion){if(!O.hasConversion)return 1}else if(O.hasConversion)return-1;var L=V(N)-V(O);if(L<0)return-1;if(L>0)return 1;var Y=R(N)-R(O);return Y<0?-1:Y>0?1:0}function $(N,O){var L=N.params,Y=O.params,k=yr(L),j=yr(Y),tr=T(L),K=T(Y);if(tr&&k.hasAny){if(!K||!j.hasAny)return 1}else if(K&&j.hasAny)return-1;var rr=0,lr=0,Er,ar=r(L),jr;try{for(ar.s();!(jr=ar.n()).done;)Er=jr.value,Er.hasAny&&++rr,Er.hasConversion&&++lr}catch(ct){ar.e(ct)}finally{ar.f()}var Zr=0,$r=0,Pr=r(Y),ne;try{for(Pr.s();!(ne=Pr.n()).done;)Er=ne.value,Er.hasAny&&++Zr,Er.hasConversion&&++$r}catch(ct){Pr.e(ct)}finally{Pr.f()}if(rr!==Zr)return rr-Zr;if(tr&&k.hasConversion){if(!K||!j.hasConversion)return 1}else if(K&&j.hasConversion)return-1;if(lr!==$r)return lr-$r;if(tr){if(!K)return 1}else if(K)return-1;var Ur=(L.length-Y.length)*(tr?-1:1);if(Ur!==0)return Ur;for(var pe=[],re=0,ee=0;ee<L.length;++ee){var Ve=G(L[ee],Y[ee]);pe.push(Ve),re+=Ve}if(re!==0)return re;for(var ae,Qe=0,bt=pe;Qe<bt.length;Qe++)if(ae=bt[Qe],ae!==0)return ae;return 0}function W(N){if(N.length===0)return[];var O=N.map(g);N.length>1&&O.sort(function(rr,lr){return rr.index-lr.index});var L=O[0].conversionsTo;if(N.length===1)return L;L=L.concat([]);for(var Y=new Set(N),k=1;k<O.length;++k){var j=void 0,tr=r(O[k].conversionsTo),K;try{for(tr.s();!(K=tr.n()).done;)j=K.value,Y.has(j.from)||(L.push(j),Y.add(j.from))}catch(rr){tr.e(rr)}finally{tr.f()}}return L}function er(N,O){var L=O;if(N.some(function(K){return K.hasConversion})){var Y=T(N),k=N.map(nr);L=function(){for(var rr=[],lr=Y?arguments.length-1:arguments.length,Er=0;Er<lr;Er++)rr[Er]=k[Er](arguments[Er]);return Y&&(rr[lr]=arguments[lr].map(k[lr])),O.apply(this,rr)}}var j=L;if(T(N)){var tr=N.length-1;j=function(){return L.apply(this,br(arguments,0,tr).concat([br(arguments,tr)]))}}return j}function nr(N){var O,L,Y,k,j=[],tr=[];switch(N.types.forEach(function(K){K.conversion&&(j.push(g(K.conversion.from).test),tr.push(K.conversion.convert))}),tr.length){case 0:return function(rr){return rr};case 1:return O=j[0],Y=tr[0],function(rr){return O(rr)?Y(rr):rr};case 2:return O=j[0],L=j[1],Y=tr[0],k=tr[1],function(rr){return O(rr)?Y(rr):L(rr)?k(rr):rr};default:return function(rr){for(var lr=0;lr<tr.length;lr++)if(j[lr](rr))return tr[lr](rr);return rr}}}function X(N){function O(L,Y,k){if(Y<L.length){var j=L[Y],tr=[];if(j.restParam){var K=j.types.filter(z);K.length<j.types.length&&tr.push({types:K,name:"..."+K.map(function(rr){return rr.name}).join("|"),hasAny:K.some(function(rr){return rr.isAny}),hasConversion:!1,restParam:!0}),tr.push(j)}else tr=j.types.map(function(rr){return{types:[rr],name:rr.name,hasAny:rr.isAny,hasConversion:rr.conversion,restParam:!1}});return Or(tr,function(rr){return O(L,Y+1,k.concat([rr]))})}else return[k]}return O(N,0,[])}function gr(N,O){for(var L=Math.max(N.length,O.length),Y=0;Y<L;Y++){var k=_(N,Y),j=_(O,Y),tr=!1,K=void 0,rr=r(j),lr;try{for(rr.s();!(lr=rr.n()).done;)if(K=lr.value,k.has(K)){tr=!0;break}}catch($r){rr.e($r)}finally{rr.f()}if(!tr)return!1}var Er=N.length,ar=O.length,jr=T(N),Zr=T(O);return jr?Zr?Er===ar:ar>=Er:Zr?Er>=ar:Er===ar}function cr(N){return N.map(function(O){return Ce(O)?Xr(O.referToSelf.callback):xe(O)?le(O.referTo.references,O.referTo.callback):O})}function ir(N,O,L){var Y=[],k,j=r(N),tr;try{for(j.s();!(tr=j.n()).done;){k=tr.value;var K=L[k];if(typeof K!="number")throw new TypeError('No definition for referenced signature "'+k+'"');if(K=O[K],typeof K!="function")return!1;Y.push(K)}}catch(rr){j.e(rr)}finally{j.f()}return Y}function or(N,O,L){for(var Y=cr(N),k=new Array(Y.length).fill(!1),j=!0;j;){j=!1;for(var tr=!0,K=0;K<Y.length;++K)if(!k[K]){var rr=Y[K];if(Ce(rr))Y[K]=rr.referToSelf.callback(L),Y[K].referToSelf=rr.referToSelf,k[K]=!0,tr=!1;else if(xe(rr)){var lr=ir(rr.referTo.references,Y,O);lr?(Y[K]=rr.referTo.callback.apply(this,lr),Y[K].referTo=rr.referTo,k[K]=!0,tr=!1):j=!0}}if(tr&&j)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Y}function xr(N){var O=/\bthis(\(|\.signatures\b)/;Object.keys(N).forEach(function(L){var Y=N[L];if(O.test(Y.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ar(N,O){if(h.createCount++,Object.keys(O).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&xr(O);var L=[],Y=[],k={},j=[],tr,K=function(){if(!Object.prototype.hasOwnProperty.call(O,tr))return"continue";var Vr=q(tr);if(!Vr)return"continue";L.forEach(function(He){if(gr(He,Vr))throw new TypeError('Conflicting signatures "'+w(He)+'" and "'+w(Vr)+'".')}),L.push(Vr);var Ai=Y.length;Y.push(O[tr]);var Ps=Vr.map(M),Mt=void 0,St=r(X(Ps)),Ei;try{for(St.s();!(Ei=St.n()).done;){Mt=Ei.value;var Ci=w(Mt);j.push({params:Mt,name:Ci,fn:Ai}),Mt.every(function(He){return!He.hasConversion})&&(k[Ci]=Ai)}}catch(He){St.e(He)}finally{St.f()}};for(tr in O)var rr=K();j.sort($);var lr=or(Y,k,pt),Er;for(Er in k)Object.prototype.hasOwnProperty.call(k,Er)&&(k[Er]=lr[k[Er]]);for(var ar=[],jr=new Map,Zr=0,$r=j;Zr<$r.length;Zr++)Er=$r[Zr],jr.has(Er.name)||(Er.fn=lr[Er.fn],ar.push(Er),jr.set(Er.name,Er));for(var Pr=ar[0]&&ar[0].params.length<=2&&!T(ar[0].params),ne=ar[1]&&ar[1].params.length<=2&&!T(ar[1].params),Ur=ar[2]&&ar[2].params.length<=2&&!T(ar[2].params),pe=ar[3]&&ar[3].params.length<=2&&!T(ar[3].params),re=ar[4]&&ar[4].params.length<=2&&!T(ar[4].params),ee=ar[5]&&ar[5].params.length<=2&&!T(ar[5].params),Ve=Pr&&ne&&Ur&&pe&&re&&ee,ae=0;ae<ar.length;++ae)ar[ae].test=Q(ar[ae].params);for(var Qe=Pr?B(ar[0].params[0]):o,bt=ne?B(ar[1].params[0]):o,ct=Ur?B(ar[2].params[0]):o,cs=pe?B(ar[3].params[0]):o,ls=re?B(ar[4].params[0]):o,ps=ee?B(ar[5].params[0]):o,vs=Pr?B(ar[0].params[1]):o,ms=ne?B(ar[1].params[1]):o,hs=Ur?B(ar[2].params[1]):o,ds=pe?B(ar[3].params[1]):o,gs=re?B(ar[4].params[1]):o,Ds=ee?B(ar[5].params[1]):o,lt=0;lt<ar.length;++lt)ar[lt].implementation=er(ar[lt].params,ar[lt].fn);var xs=Pr?ar[0].implementation:p,ys=ne?ar[1].implementation:p,ws=Ur?ar[2].implementation:p,As=pe?ar[3].implementation:p,Es=re?ar[4].implementation:p,Cs=ee?ar[5].implementation:p,Fs=Pr?ar[0].params.length:-1,bs=ne?ar[1].params.length:-1,Ms=Ur?ar[2].params.length:-1,Ss=pe?ar[3].params.length:-1,Ns=re?ar[4].params.length:-1,Bs=ee?ar[5].params.length:-1,_s=Ve?6:0,zs=ar.length,Ts=ar.map(function(fe){return fe.test}),Is=ar.map(function(fe){return fe.implementation}),Os=function(){for(var Vr=_s;Vr<zs;Vr++)if(Ts[Vr](arguments))return Is[Vr].apply(this,arguments);return h.onMismatch(N,arguments,ar)};function pt(fe,Vr){return arguments.length===Fs&&Qe(fe)&&vs(Vr)?xs.apply(this,arguments):arguments.length===bs&&bt(fe)&&ms(Vr)?ys.apply(this,arguments):arguments.length===Ms&&ct(fe)&&hs(Vr)?ws.apply(this,arguments):arguments.length===Ss&&cs(fe)&&ds(Vr)?As.apply(this,arguments):arguments.length===Ns&&ls(fe)&&gs(Vr)?Es.apply(this,arguments):arguments.length===Bs&&ps(fe)&&Ds(Vr)?Cs.apply(this,arguments):Os.apply(this,arguments)}try{Object.defineProperty(pt,"name",{value:N})}catch(fe){}return pt.signatures=k,pt._typedFunctionData={signatures:ar,signatureMap:jr},pt}function Cr(N,O,L){throw H(N,O,L)}function fr(N){return br(N,0,N.length-1)}function yr(N){return N[N.length-1]}function br(N,O,L){return Array.prototype.slice.call(N,O,L)}function Ir(N,O){for(var L=0;L<N.length;L++)if(O(N[L]))return N[L]}function Or(N,O){return Array.prototype.concat.apply([],N.map(O))}function kr(){var N=fr(arguments).map(function(L){return w(q(L))}),O=yr(arguments);if(typeof O!="function")throw new TypeError("Callback function expected as last argument");return le(N,O)}function le(N,O){return{referTo:{references:N,callback:O}}}function Xr(N){if(typeof N!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:N}}}function xe(N){return N&&a(N.referTo)==="object"&&Array.isArray(N.referTo.references)&&typeof N.referTo.callback=="function"}function Ce(N){return N&&a(N.referToSelf)==="object"&&typeof N.referToSelf.callback=="function"}function ye(N,O){if(!N)return O;if(O&&O!==N){var L=new Error("Function names do not match (expected: "+N+", actual: "+O+")");throw L.data={actual:O,expected:N},L}return N}function Ft(N){var O;for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(D(N[L])||typeof N[L].signature=="string")&&(O=ye(O,N[L].name));return O}function gn(N,O){var L;for(L in O)if(Object.prototype.hasOwnProperty.call(O,L)){if(L in N&&O[L]!==N[L]){var Y=new Error('Signature "'+L+'" is defined twice');throw Y.data={signature:L,sourceFunction:O[L],destFunction:N[L]},Y}N[L]=O[L]}}var ft=h;h=function(O){for(var L=typeof O=="string",Y=L?1:0,k=L?O:"",j={},tr=Y;tr<arguments.length;++tr){var K=arguments[tr],rr={},lr=void 0;if(typeof K=="function"?(lr=K.name,typeof K.signature=="string"?rr[K.signature]=K:D(K)&&(rr=K.signatures)):i(K)&&(rr=K,L||(lr=Ft(K))),Object.keys(rr).length===0){var Er=new TypeError("Argument to 'typed' at index "+tr+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Er.data={index:tr,argument:K},Er}L||(k=ye(k,lr)),gn(j,rr)}return Ar(k||"",j)},h.create=f,h.createCount=ft.createCount,h.onMismatch=Cr,h.throwMismatchError=Cr,h.createError=H,h.clear=x,h.clearConversions=E,h.addTypes=y,h._findType=g,h.referTo=kr,h.referToSelf=Xr,h.convert=b,h.findSignature=A,h.find=F,h.isTypedFunction=D,h.warnAgainstDeprecatedThis=!0,h.addType=function(N,O){var L="any";O!==!1&&v.has("Object")&&(L="Object"),h.addTypes([N],L)};function wi(N){if(!N||typeof N.from!="string"||typeof N.to!="string"||typeof N.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(N.to===N.from)throw new SyntaxError('Illegal to define conversion from "'+N.from+'" to itself.')}return h.addConversion=function(N){wi(N);var O=g(N.to);if(O.conversionsTo.every(function(L){return L.from!==N.from}))O.conversionsTo.push({from:N.from,convert:N.convert,index:c++});else throw new Error('There is already a conversion from "'+N.from+'" to "'+O.name+'"')},h.addConversions=function(N){N.forEach(h.addConversion)},h.removeConversion=function(N){wi(N);var O=g(N.to),L=Ir(O.conversionsTo,function(k){return k.from===N.from});if(!L)throw new Error("Attempt to remove nonexistent conversion from "+N.from+" to "+N.to);if(L.convert!==N.convert)throw new Error("Conversion to remove does not match existing conversion");var Y=O.conversionsTo.indexOf(L);O.conversionsTo.splice(Y,1)},h.resolve=function(N,O){if(!D(N))throw new TypeError(m);for(var L=N._typedFunctionData.signatures,Y=0;Y<L.length;++Y)if(L[Y].test(O))return L[Y];return null},h}var u=f();return u})});var Lo=Nt((Ln,Uo)=>{(function(r){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var i=Math.PI/4;if(-i>u||u>i)return Math.cos(u)-1;var s=u*u;return s*(s*(s*(s*(s*(s*(s*(s/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},n=function(u,i){var s=Math.abs(u),l=Math.abs(i);return s<3e3&&l<3e3?Math.sqrt(s*s+l*l):(s<l?(s=l,l=u/i):l=i/u,s*Math.sqrt(1+l*l))},o=function(){throw SyntaxError("Invalid Param")};function p(u,i){var s=Math.abs(u),l=Math.abs(i);return u===0?Math.log(l):i===0?Math.log(s):s<3e3&&l<3e3?Math.log(u*u+i*i)*.5:(u=u/2,i=i/2,.5*Math.log(u*u+i*i)+Math.LN2)}var m=function(u,i){var s={re:0,im:0};if(u==null)s.re=s.im=0;else if(i!==void 0)s.re=u,s.im=i;else switch(typeof u){case"object":if("im"in u&&"re"in u)s.re=u.re,s.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return f.INFINITY;s.re=u.abs*Math.cos(u.arg),s.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return f.INFINITY;s.re=u.r*Math.cos(u.phi),s.im=u.r*Math.sin(u.phi)}else u.length===2?(s.re=u[0],s.im=u[1]):o();break;case"string":s.im=s.re=0;var l=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),v=1,d=0;l===null&&o();for(var c=0;c<l.length;c++){var h=l[c];h===" "||h==="	"||h===`
`||(h==="+"?v++:h==="-"?d++:h==="i"||h==="I"?(v+d===0&&o(),l[c+1]!==" "&&!isNaN(l[c+1])?(s.im+=parseFloat((d%2?"-":"")+l[c+1]),c++):s.im+=parseFloat((d%2?"-":"")+"1"),v=d=0):((v+d===0||isNaN(h))&&o(),l[c+1]==="i"||l[c+1]==="I"?(s.im+=parseFloat((d%2?"-":"")+h),c++):s.re+=parseFloat((d%2?"-":"")+h),v=d=0))}v+d>0&&o();break;case"number":s.im=0,s.re=u;break;default:o()}return isNaN(s.re)||isNaN(s.im),s};function f(u,i){if(!(this instanceof f))return new f(u,i);var s=m(u,i);this.re=s.re,this.im=s.im}f.prototype={re:0,im:0,sign:function(){var u=this.abs();return new f(this.re/u,this.im/u)},add:function(u,i){var s=new f(u,i);return this.isInfinite()&&s.isInfinite()?f.NAN:this.isInfinite()||s.isInfinite()?f.INFINITY:new f(this.re+s.re,this.im+s.im)},sub:function(u,i){var s=new f(u,i);return this.isInfinite()&&s.isInfinite()?f.NAN:this.isInfinite()||s.isInfinite()?f.INFINITY:new f(this.re-s.re,this.im-s.im)},mul:function(u,i){var s=new f(u,i);return this.isInfinite()&&s.isZero()||this.isZero()&&s.isInfinite()?f.NAN:this.isInfinite()||s.isInfinite()?f.INFINITY:s.im===0&&this.im===0?new f(this.re*s.re,0):new f(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(u,i){var s=new f(u,i);if(this.isZero()&&s.isZero()||this.isInfinite()&&s.isInfinite())return f.NAN;if(this.isInfinite()||s.isZero())return f.INFINITY;if(this.isZero()||s.isInfinite())return f.ZERO;u=this.re,i=this.im;var l=s.re,v=s.im,d,c;return v===0?new f(u/l,i/l):Math.abs(l)<Math.abs(v)?(c=l/v,d=l*c+v,new f((u*c+i)/d,(i*c-u)/d)):(c=v/l,d=v*c+l,new f((u+i*c)/d,(i-u*c)/d))},pow:function(u,i){var s=new f(u,i);if(u=this.re,i=this.im,s.isZero())return f.ONE;if(s.im===0){if(i===0&&u>0)return new f(Math.pow(u,s.re),0);if(u===0)switch((s.re%4+4)%4){case 0:return new f(Math.pow(i,s.re),0);case 1:return new f(0,Math.pow(i,s.re));case 2:return new f(-Math.pow(i,s.re),0);case 3:return new f(0,-Math.pow(i,s.re))}}if(u===0&&i===0&&s.re>0&&s.im>=0)return f.ZERO;var l=Math.atan2(i,u),v=p(u,i);return u=Math.exp(s.re*v-s.im*l),i=s.im*v+s.re*l,new f(u*Math.cos(i),u*Math.sin(i))},sqrt:function(){var u=this.re,i=this.im,s=this.abs(),l,v;if(u>=0){if(i===0)return new f(Math.sqrt(u),0);l=.5*Math.sqrt(2*(s+u))}else l=Math.abs(i)/Math.sqrt(2*(s-u));return u<=0?v=.5*Math.sqrt(2*(s-u)):v=Math.abs(i)/Math.sqrt(2*(s+u)),new f(l,i<0?-v:v)},exp:function(){var u=Math.exp(this.re);return this.im,new f(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,i=this.im;return new f(Math.expm1(u)*Math.cos(i)+a(i),Math.exp(u)*Math.sin(i))},log:function(){var u=this.re,i=this.im;return i===0&&u>0,new f(p(u,i),Math.atan2(i,u))},abs:function(){return n(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,i=this.im;return new f(Math.sin(u)*e(i),Math.cos(u)*t(i))},cos:function(){var u=this.re,i=this.im;return new f(Math.cos(u)*e(i),-Math.sin(u)*t(i))},tan:function(){var u=2*this.re,i=2*this.im,s=Math.cos(u)+e(i);return new f(Math.sin(u)/s,t(i)/s)},cot:function(){var u=2*this.re,i=2*this.im,s=Math.cos(u)-e(i);return new f(-Math.sin(u)/s,t(i)/s)},sec:function(){var u=this.re,i=this.im,s=.5*e(2*i)+.5*Math.cos(2*u);return new f(Math.cos(u)*e(i)/s,Math.sin(u)*t(i)/s)},csc:function(){var u=this.re,i=this.im,s=.5*e(2*i)-.5*Math.cos(2*u);return new f(Math.sin(u)*e(i)/s,-Math.cos(u)*t(i)/s)},asin:function(){var u=this.re,i=this.im,s=new f(i*i-u*u+1,-2*u*i).sqrt(),l=new f(s.re-i,s.im+u).log();return new f(l.im,-l.re)},acos:function(){var u=this.re,i=this.im,s=new f(i*i-u*u+1,-2*u*i).sqrt(),l=new f(s.re-i,s.im+u).log();return new f(Math.PI/2-l.im,l.re)},atan:function(){var u=this.re,i=this.im;if(u===0){if(i===1)return new f(0,1/0);if(i===-1)return new f(0,-1/0)}var s=u*u+(1-i)*(1-i),l=new f((1-i*i-u*u)/s,-2*u/s).log();return new f(-.5*l.im,.5*l.re)},acot:function(){var u=this.re,i=this.im;if(i===0)return new f(Math.atan2(1,u),0);var s=u*u+i*i;return s!==0?new f(u/s,-i/s).atan():new f(u!==0?u/0:0,i!==0?-i/0:0).atan()},asec:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new f(0,1/0);var s=u*u+i*i;return s!==0?new f(u/s,-i/s).acos():new f(u!==0?u/0:0,i!==0?-i/0:0).acos()},acsc:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new f(Math.PI/2,1/0);var s=u*u+i*i;return s!==0?new f(u/s,-i/s).asin():new f(u!==0?u/0:0,i!==0?-i/0:0).asin()},sinh:function(){var u=this.re,i=this.im;return new f(t(u)*Math.cos(i),e(u)*Math.sin(i))},cosh:function(){var u=this.re,i=this.im;return new f(e(u)*Math.cos(i),t(u)*Math.sin(i))},tanh:function(){var u=2*this.re,i=2*this.im,s=e(u)+Math.cos(i);return new f(t(u)/s,Math.sin(i)/s)},coth:function(){var u=2*this.re,i=2*this.im,s=e(u)-Math.cos(i);return new f(t(u)/s,-Math.sin(i)/s)},csch:function(){var u=this.re,i=this.im,s=Math.cos(2*i)-e(2*u);return new f(-2*t(u)*Math.cos(i)/s,2*e(u)*Math.sin(i)/s)},sech:function(){var u=this.re,i=this.im,s=Math.cos(2*i)+e(2*u);return new f(2*e(u)*Math.cos(i)/s,-2*t(u)*Math.sin(i)/s)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var i=this.asin();return this.re=-this.im,this.im=u,u=i.re,i.re=-i.im,i.im=u,i},acosh:function(){var u=this.acos();if(u.im<=0){var i=u.re;u.re=-u.im,u.im=i}else{var i=u.im;u.im=-u.re,u.re=i}return u},atanh:function(){var u=this.re,i=this.im,s=u>1&&i===0,l=1-u,v=1+u,d=l*l+i*i,c=d!==0?new f((v*l-i*i)/d,(i*l+v*i)/d):new f(u!==-1?u/0:0,i!==0?i/0:0),h=c.re;return c.re=p(c.re,c.im)/2,c.im=Math.atan2(c.im,h)/2,s&&(c.im=-c.im),c},acoth:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new f(0,Math.PI/2);var s=u*u+i*i;return s!==0?new f(u/s,-i/s).atanh():new f(u!==0?u/0:0,i!==0?-i/0:0).atanh()},acsch:function(){var u=this.re,i=this.im;if(i===0)return new f(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var s=u*u+i*i;return s!==0?new f(u/s,-i/s).asinh():new f(u!==0?u/0:0,i!==0?-i/0:0).asinh()},asech:function(){var u=this.re,i=this.im;if(this.isZero())return f.INFINITY;var s=u*u+i*i;return s!==0?new f(u/s,-i/s).acosh():new f(u!==0?u/0:0,i!==0?-i/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var u=this.re,i=this.im,s=u*u+i*i;return new f(u/s,-i/s)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new f(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new f(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new f(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,i){var s=new f(u,i);return Math.abs(s.re-this.re)<=f.EPSILON&&Math.abs(s.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var u=this.re,i=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<f.EPSILON&&(u=0),Math.abs(i)<f.EPSILON&&(i=0),i===0?s+u:(u!==0?(s+=u,s+=" ",i<0?(i=-i,s+="-"):s+="+",s+=" "):i<0&&(i=-i,s+="-"),i!==1&&(s+=i),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return f}):typeof Ln=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Complex=f,Uo.exports=f):r.Complex=f})(Ln)});var Vo=Nt((Vn,Zo)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function a(l,v){if(isNaN(l=parseInt(l,10)))throw s.InvalidParameter;return l*v}function n(l,v){if(v===0)throw s.DivisionByZero;var d=Object.create(s.prototype);d.s=l<0?-1:1,l=l<0?-l:l;var c=i(l,v);return d.n=l/c,d.d=v/c,d}function o(l){for(var v={},d=l,c=2,h=4;h<=d;){for(;d%c===0;)d/=c,v[c]=(v[c]||0)+1;h+=1+2*c++}return d!==l?d>1&&(v[d]=(v[d]||0)+1):v[l]=(v[l]||0)+1,v}var p=function(l,v){var d=0,c=1,h=1,g=0,y=0,x=0,E=1,C=1,D=0,A=1,F=1,b=1,w=1e7,S;if(l!=null)if(v!==void 0){if(d=l,c=v,h=d*c,d%1!==0||c%1!==0)throw s.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)d=l.n,c=l.d,"s"in l&&(d*=l.s);else if(0 in l)d=l[0],1 in l&&(c=l[1]);else throw s.InvalidParameter;h=d*c;break}case"number":{if(l<0&&(h=l,l=-l),l%1===0)d=l;else if(l>0){for(l>=1&&(C=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=C);A<=w&&b<=w;)if(S=(D+F)/(A+b),l===S){A+b<=w?(d=D+F,c=A+b):b>A?(d=F,c=b):(d=D,c=A);break}else l>S?(D+=F,A+=b):(F+=D,b+=A),A>w?(d=F,c=b):(d=D,c=A);d*=C}else(isNaN(l)||isNaN(v))&&(c=d=NaN);break}case"string":{if(A=l.match(/\d+|./g),A===null)throw s.InvalidParameter;if(A[D]==="-"?(h=-1,D++):A[D]==="+"&&D++,A.length===D+1?y=a(A[D++],h):A[D+1]==="."||A[D]==="."?(A[D]!=="."&&(g=a(A[D++],h)),D++,(D+1===A.length||A[D+1]==="("&&A[D+3]===")"||A[D+1]==="'"&&A[D+3]==="'")&&(y=a(A[D],h),E=Math.pow(10,A[D].length),D++),(A[D]==="("&&A[D+2]===")"||A[D]==="'"&&A[D+2]==="'")&&(x=a(A[D+1],h),C=Math.pow(10,A[D+1].length)-1,D+=3)):A[D+1]==="/"||A[D+1]===":"?(y=a(A[D],h),E=a(A[D+2],1),D+=3):A[D+3]==="/"&&A[D+1]===" "&&(g=a(A[D],h),y=a(A[D+2],h),E=a(A[D+4],1),D+=5),A.length<=D){c=E*C,h=d=x+c*g+C*y;break}}default:throw s.InvalidParameter}if(c===0)throw s.DivisionByZero;t.s=h<0?-1:1,t.n=Math.abs(d),t.d=Math.abs(c)};function m(l,v,d){for(var c=1;v>0;l=l*l%d,v>>=1)v&1&&(c=c*l%d);return c}function f(l,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var d=10%v,c=1;d!==1;c++)if(d=d*10%v,c>e)return 0;return c}function u(l,v,d){for(var c=1,h=m(10,d,v),g=0;g<300;g++){if(c===h)return g;c=c*10%v,h=h*10%v}return 0}function i(l,v){if(!l)return v;if(!v)return l;for(;;){if(l%=v,!l)return v;if(v%=l,!v)return l}}function s(l,v){if(p(l,v),this instanceof s)l=i(t.d,t.n),this.s=t.s,this.n=t.n/l,this.d=t.d/l;else return n(t.s*t.n,t.d)}s.DivisionByZero=new Error("Division by Zero"),s.InvalidParameter=new Error("Invalid argument"),s.NonIntegerParameter=new Error("Parameters must be integer"),s.prototype={s:1,n:0,d:1,abs:function(){return n(this.n,this.d)},neg:function(){return n(-this.s*this.n,this.d)},add:function(l,v){return p(l,v),n(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(l,v){return p(l,v),n(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(l,v){return p(l,v),n(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(l,v){return p(l,v),n(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return n(this.s*this.n,this.d)},mod:function(l,v){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(l===void 0)return n(this.s*this.n%this.d,1);if(p(l,v),t.n===0&&this.d===0)throw s.DivisionByZero;return n(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(l,v){return p(l,v),n(i(t.n,this.n)*i(t.d,this.d),t.d*this.d)},lcm:function(l,v){return p(l,v),t.n===0&&this.n===0?n(0,1):n(t.n*this.n,i(t.n,this.n)*i(t.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return n(this.s*this.d,this.n)},pow:function(l,v){if(p(l,v),t.d===1)return t.s<0?n(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):n(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var d=o(this.n),c=o(this.d),h=1,g=1;for(var y in d)if(y!=="1"){if(y==="0"){h=0;break}if(d[y]*=t.n,d[y]%t.d===0)d[y]/=t.d;else return null;h*=Math.pow(y,d[y])}for(var y in c)if(y!=="1"){if(c[y]*=t.n,c[y]%t.d===0)c[y]/=t.d;else return null;g*=Math.pow(y,c[y])}return t.s<0?n(g,h):n(h,g)},equals:function(l,v){return p(l,v),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(l,v){p(l,v);var d=this.s*this.n*t.d-t.s*t.n*this.d;return(0<d)-(d<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var v=this.abs(),d=v.toContinued(),c=1;c<d.length;c++){for(var h=n(d[c-1],1),g=c-2;g>=0;g--)h=h.inverse().add(d[g]);if(h.sub(v).abs().valueOf()<l)return h.mul(this.s)}return this},divisible:function(l,v){return p(l,v),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var v,d="",c=this.n,h=this.d;return this.s<0&&(d+="-"),h===1?d+=c:(l&&(v=Math.floor(c/h))>0&&(d+=v,d+=" ",c%=h),d+=c,d+="/",d+=h),d},toLatex:function(l){var v,d="",c=this.n,h=this.d;return this.s<0&&(d+="-"),h===1?d+=c:(l&&(v=Math.floor(c/h))>0&&(d+=v,c%=h),d+="\\frac{",d+=c,d+="}{",d+=h,d+="}"),d},toContinued:function(){var l,v=this.n,d=this.d,c=[];if(isNaN(v)||isNaN(d))return c;do c.push(Math.floor(v/d)),l=v%d,v=d,d=l;while(v!==1);return c},toString:function(l){var v=this.n,d=this.d;if(isNaN(v)||isNaN(d))return"NaN";l=l||15;var c=f(v,d),h=u(v,d,c),g=this.s<0?"-":"";if(g+=v/d|0,v%=d,v*=10,v&&(g+="."),c){for(var y=h;y--;)g+=v/d|0,v%=d,v*=10;g+="(";for(var y=c;y--;)g+=v/d|0,v%=d,v*=10;g+=")"}else for(var y=l;v&&y--;)g+=v/d|0,v%=d,v*=10;return g}},typeof define=="function"&&define.amd?define([],function(){return s}):typeof Vn=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,Zo.exports=s):r.Fraction=s})(Vn)});var Mu=Nt((S1,bu)=>{bu.exports=function r(e,t){"use strict";var a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,p=/^0x[0-9a-f]+$/i,m=/^0/,f=function(x){return r.insensitive&&(""+x).toLowerCase()||""+x},u=f(e).replace(n,"")||"",i=f(t).replace(n,"")||"",s=u.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),l=i.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(u.match(p),16)||s.length!==1&&u.match(o)&&Date.parse(u),d=parseInt(i.match(p),16)||v&&i.match(o)&&Date.parse(i)||null,c,h;if(d){if(v<d)return-1;if(v>d)return 1}for(var g=0,y=Math.max(s.length,l.length);g<y;g++){if(c=!(s[g]||"").match(m)&&parseFloat(s[g])||s[g]||0,h=!(l[g]||"").match(m)&&parseFloat(l[g])||l[g]||0,isNaN(c)!==isNaN(h))return isNaN(c)?1:-1;if(typeof c!=typeof h&&(c+="",h+=""),c<h)return-1;if(c>h)return 1}return 0}});function Ge(){return Ge=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Ge.apply(this,arguments)}var Dn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Sr(r){return typeof r=="number"}function Br(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function vt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function mt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function _t(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Yr(r){return typeof r=="string"}var Fr=Array.isArray;function wr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Xe(r){return Array.isArray(r)||wr(r)}function $e(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Fe(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function zt(r){return r&&r.constructor.prototype.isRange===!0||!1}function Te(r){return r&&r.constructor.prototype.isIndex===!0||!1}function bi(r){return typeof r=="boolean"}function Mi(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Si(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Ni(r){return typeof r=="function"}function Bi(r){return r instanceof Date}function _i(r){return r instanceof RegExp}function zi(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!vt(r)&&!mt(r))}function Ti(r){return r===null}function Ii(r){return r===void 0}function Oi(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pi(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function qi(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ri(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ui(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Li(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vi(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gi(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xi(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function $i(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yi(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ji(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ki(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hi(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wi(r){return r&&r.constructor.prototype.isChain===!0||!1}function Qr(r){var e=typeof r;return e==="object"?r===null?"null":Br(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function pr(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return pr(t)});if(r instanceof Date)return new Date(r.valueOf());if(Br(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Qs(r,pr)}function Qs(r,e){var t={};for(var a in r)ke(r,a)&&(t[a]=e(r[a]));return t}function ki(r,e){for(var t in e)ke(e,t)&&(r[t]=e[t]);return r}function We(r,e){var t,a,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(a=0,n=r.length;a<n;a++)if(!We(r[a],e[a]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!We(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function ke(r,e){return r&&Object.hasOwnProperty.call(r,e)}function ji(r,e){for(var t={},a=0;a<e.length;a++){var n=e[a],o=r[n];o!==void 0&&(t[n]=o)}return t}var ro=["Matrix","Array"],eo=["number","BigNumber","Fraction"];var Jr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Dn)};Ge(Jr,Dn,{MATRIX_OPTIONS:ro,NUMBER_OPTIONS:eo});var Bn=Bt(to(),1);function mr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var no=Math.sign||function(r){return r>0?1:r<0?-1:0},ao=Math.log2||function(e){return Math.log(e)/Math.LN2},io=Math.log10||function(e){return Math.log(e)/Math.LN10},oo=Math.log1p||function(r){return Math.log(r+1)},uo=Math.cbrt||function(e){if(e===0)return e;var t=e<0,a;return t&&(e=-e),isFinite(e)?(a=Math.exp(Math.log(e)/3),a=(e/(a*a)+2*a)/3):a=e,t?-a:a},so=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function wn(r,e,t){var a={2:"0b",8:"0o",16:"0x"},n=a[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!mr(t))throw new Error("size must be an integer");if(r>ze(2,t-1)-1||r<-ze(2,t-1))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!mr(r))throw new Error("Value must be an integer");r<0&&(r=r+ze(2,t)),o="i".concat(t)}var p="";return r<0&&(r=-r,p="-"),"".concat(p).concat(n).concat(r.toString(e)).concat(o)}function ht(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",a,n;if(e&&(e.notation&&(t=e.notation),Sr(e)?a=e:Sr(e.precision)&&(a=e.precision),e.wordSize&&(n=e.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return fo(r,a);case"exponential":return co(r,a);case"engineering":return Gs(r,a);case"bin":return wn(r,2,n);case"oct":return wn(r,8,n);case"hex":return wn(r,16,n);case"auto":return Xs(r,a,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],p=arguments[4];return o!=="."?o+p:p});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Tt(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],a=e[2],n=parseFloat(e[4]||"0"),o=a.indexOf(".");n+=o!==-1?o-1:a.length-1;var p=a.replace(".","").replace(/^0*/,function(m){return n-=m.length,""}).replace(/0*$/,"").split("").map(function(m){return parseInt(m)});return p.length===0&&(p.push(0),n++),{sign:t,coefficients:p,exponent:n}}function Gs(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Tt(r),a=It(t,e),n=a.exponent,o=a.coefficients,p=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Sr(e))for(;e>o.length||n-p+1>o.length;)o.push(0);else for(var m=Math.abs(n-p)-(o.length-1),f=0;f<m;f++)o.push(0);for(var u=Math.abs(n-p),i=1;u>0;)i++,u--;var s=o.slice(i).join(""),l=Sr(e)&&s.length||s.match(/[1-9]/)?"."+s:"",v=o.slice(0,i).join("")+l+"e"+(n>=0?"+":"")+p.toString();return a.sign+v}function fo(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Tt(r),a=typeof e=="number"?It(t,t.exponent+1+e):t,n=a.coefficients,o=a.exponent+1,p=o+(e||0);return n.length<p&&(n=n.concat(je(p-n.length))),o<0&&(n=je(-o+1).concat(n),o=1),o<n.length&&n.splice(o,0,o===0?"0.":"."),a.sign+n.join("")}function co(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Tt(r),a=e?It(t,e):t,n=a.coefficients,o=a.exponent;n.length<e&&(n=n.concat(je(e-n.length)));var p=n.shift();return a.sign+p+(n.length>0?"."+n.join(""):"")+"e"+(o>=0?"+":"")+o}function Xs(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,n=t&&t.upperExp!==void 0?t.upperExp:5,o=Tt(r),p=e?It(o,e):o;if(p.exponent<a||p.exponent>=n)return co(r,e);var m=p.coefficients,f=p.exponent;m.length<e&&(m=m.concat(je(e-m.length))),m=m.concat(je(f-m.length+1+(m.length<e?e-m.length:0))),m=je(-f).concat(m);var u=f>0?f:0;return u<m.length-1&&m.splice(u+1,0,"."),p.sign+m.join("")}function It(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},a=t.coefficients;e<=0;)a.unshift(0),t.exponent++,e++;if(a.length>e){var n=a.splice(e,a.length-e);if(n[0]>=5){var o=e-1;for(a[o]++;a[o]===10;)a.pop(),o===0&&(a.unshift(0),t.exponent++,o++),o--,a[o]++}}return t}function je(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function lo(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var $s=Number.EPSILON||2220446049250313e-31;function Kr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var a=Math.abs(r-e);return a<$s?!0:a<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}function An(r,e,t){var a=r.constructor,n=new a(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!mr(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function vo(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",a,n;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?a=e:e.precision!==void 0&&(a=e.precision),e.wordSize&&(n=e.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Js(r,a);case"exponential":return po(r,a);case"engineering":return Ys(r,a);case"bin":return An(r,2,n);case"oct":return An(r,8,n);case"hex":return An(r,16,n);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,p=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var m,f=r.toSignificantDigits(a),u=f.e;return u>=o&&u<p?m=f.toFixed():m=po(r,a),m.replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],s=arguments[4];return i!=="."?i+s:s})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ys(r,e){var t=r.e,a=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-a)),o=n.toPrecision(e);if(o.indexOf("e")!==-1){var p=r.constructor;o=new p(o).toFixed()}return o+"e"+(t>=0?"+":"")+a.toString()}function po(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Js(r,e){return r.toFixed(e)}function Mr(r,e){var t=Ks(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Ks(r,e){if(typeof r=="number")return ht(r,e);if(Br(r))return vo(r,e);if(Hs(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return mo(r,e);if(Yr(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(a=>'"'+a+'": '+Mr(r[a],e));return"{"+t.join(", ")+"}"}return String(r)}function mo(r,e){if(Array.isArray(r)){for(var t="[",a=r.length,n=0;n<a;n++)n!==0&&(t+=", "),t+=mo(r[n],e);return t+="]",t}else return Mr(r,e)}function Hs(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function hr(r,e,t){if(!(this instanceof hr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}hr.prototype=new RangeError;hr.prototype.constructor=RangeError;hr.prototype.name="DimensionError";hr.prototype.isDimensionError=!0;function be(r,e,t){if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}be.prototype=new RangeError;be.prototype.constructor=RangeError;be.prototype.name="IndexError";be.prototype.isIndexError=!0;function zr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function ho(r,e,t){var a,n=r.length;if(n!==e[t])throw new hr(n,e[t]);if(t<e.length-1){var o=t+1;for(a=0;a<n;a++){var p=r[a];if(!Array.isArray(p))throw new hr(e.length-1,e.length,"<");ho(r[a],e,o)}}else for(a=0;a<n;a++)if(Array.isArray(r[a]))throw new hr(e.length+1,e.length,">")}function Cn(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new hr(r.length,0)}else ho(r,e,0)}function Nr(r,e){if(!Sr(r)||!mr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new be(r,e)}function Ye(r,e,t){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!Sr(n)||!mr(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Mr(e)+")")});var a=t!==void 0?t:0;return En(r,e,0,a),r}function En(r,e,t,a){var n,o,p=r.length,m=e[t],f=Math.min(p,m);if(r.length=m,t<e.length-1){var u=t+1;for(n=0;n<f;n++)o=r[n],Array.isArray(o)||(o=[o],r[n]=o),En(o,e,u,a);for(n=f;n<m;n++)o=[],r[n]=o,En(o,e,u,a)}else{for(n=0;n<f;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=f;n<m;n++)r[n]=a}}function go(r,e){var t=Ie(r),a=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new hr(0,a,"!=");e=dt(e,a);var n=Do(e);if(a!==n)throw new hr(n,a,"!=");try{return Ws(t,e)}catch(o){throw o instanceof hr?new hr(n,a,"!="):o}}function dt(r,e){var t=Do(r),a=r.slice(),n=-1,o=r.indexOf(n),p=r.indexOf(n,o+1)>=0;if(p)throw new Error("More than one wildcard in sizes");var m=o>=0,f=e%t===0;if(m)if(f)a[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return a}function Do(r){return r.reduce((e,t)=>e*t,1)}function Ws(r,e){for(var t=r,a,n=e.length-1;n>0;n--){var o=e[n];a=[];for(var p=t.length/o,m=0;m<p;m++)a.push(t.slice(m*o,(m+1)*o));t=a}return t}function Ot(r,e,t,a){var n=a||zr(r);if(t)for(var o=0;o<t;o++)r=[r],n.unshift(1);for(r=xo(r,e,0);n.length<e;)n.push(1);return r}function xo(r,e,t){var a,n;if(Array.isArray(r)){var o=t+1;for(a=0,n=r.length;a<n;a++)r[a]=xo(r[a],e,o)}else for(var p=t;p<e;p++)r=[r];return r}function Ie(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(a){Array.isArray(a)?a.forEach(t):e.push(a)}),e}function Fn(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var a=1;a<r.length;a++)r[a]===r[a-1]?t++:t=0,e.push({value:r[a],identifier:t});return e}function bn(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function rt(r,e){for(var t,a=0,n=0;n<r.length;n++){var o=r[n],p=Array.isArray(o);if(n===0&&p&&(a=o.length),p&&o.length!==a)return;var m=p?rt(o,e):e(o);if(t===void 0)t=m;else if(t!==m)return"mixed"}return t}function P(r,e,t,a){function n(o){var p=ji(o,e.map(rf));return ks(r,e,o),t(p)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),a&&(n.meta=a),n}function ks(r,e,t){var a=e.filter(o=>!js(o)).every(o=>t[o]!==void 0);if(!a){var n=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function js(r){return r&&r[0]==="?"}function rf(r){return r&&r[0]==="?"?r.slice(1):r}function Pt(r,e){if(Ao(r)&&wo(r,e))return r[e];throw typeof r[e]=="function"&&ef(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function qt(r,e,t){if(Ao(r)&&wo(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function yo(r,e){return e in r}function wo(r,e){return!r||typeof r!="object"?!1:ke(tf,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ef(r,e){return r==null||typeof r[e]!="function"||ke(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ke(nf,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ao(r){return typeof r=="object"&&r&&r.constructor===Object}var tf={length:!0,name:!0},nf={toString:!0,valueOf:!0,toLocaleString:!0};var Mn=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Pt(this.wrappedObject,e)}set(e,t){return qt(this.wrappedObject,e,t),this}has(e){return yo(this.wrappedObject,e)}};function Eo(r){return r?r instanceof Map||r instanceof Mn||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Co=function(){return Co=Bn.default.create,Bn.default},af=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],_n=P("typed",af,function(e){var{BigNumber:t,Complex:a,DenseMatrix:n,Fraction:o}=e,p=Co();return p.clear(),p.addTypes([{name:"number",test:Sr},{name:"Complex",test:vt},{name:"BigNumber",test:Br},{name:"Fraction",test:mt},{name:"Unit",test:_t},{name:"identifier",test:m=>Yr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(m)},{name:"string",test:Yr},{name:"Chain",test:Wi},{name:"Array",test:Fr},{name:"Matrix",test:wr},{name:"DenseMatrix",test:$e},{name:"SparseMatrix",test:Fe},{name:"Range",test:zt},{name:"Index",test:Te},{name:"boolean",test:bi},{name:"ResultSet",test:Mi},{name:"Help",test:Si},{name:"function",test:Ni},{name:"Date",test:Bi},{name:"RegExp",test:_i},{name:"null",test:Ti},{name:"undefined",test:Ii},{name:"AccessorNode",test:Oi},{name:"ArrayNode",test:Pi},{name:"AssignmentNode",test:qi},{name:"BlockNode",test:Ri},{name:"ConditionalNode",test:Ui},{name:"ConstantNode",test:Li},{name:"FunctionNode",test:Vi},{name:"FunctionAssignmentNode",test:Zi},{name:"IndexNode",test:Qi},{name:"Node",test:Gi},{name:"ObjectNode",test:Xi},{name:"OperatorNode",test:$i},{name:"ParenthesisNode",test:Yi},{name:"RangeNode",test:Ji},{name:"RelationalNode",test:Ki},{name:"SymbolNode",test:Hi},{name:"Map",test:Eo},{name:"Object",test:zi}]),p.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(t||Sn(f),lo(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new t(f)}},{from:"number",to:"Complex",convert:function(f){return a||Rt(f),new a(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return a||Rt(f),new a(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return a||Rt(f),new a(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||Nn(f);var u=new o(f);if(u.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(f){var u=Number(f);if(isNaN(u))throw new Error('Cannot convert "'+f+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(f){t||Sn(f);try{return new t(f)}catch(u){throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||Nn(f);try{return new o(f)}catch(u){throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){a||Rt(f);try{return new a(f)}catch(u){throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return t||Sn(f),new t(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||Nn(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return n||of(),new n(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),p.onMismatch=(m,f,u)=>{var i=p.createError(m,f,u);if(["wrongType","mismatch"].includes(i.data.category)&&f.length===1&&Xe(f[0])&&u.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw s.data=i.data,s}throw i},p.onMismatch=(m,f,u)=>{var i=p.createError(m,f,u);if(["wrongType","mismatch"].includes(i.data.category)&&f.length===1&&Xe(f[0])&&u.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw s.data=i.data,s}throw i},p});function Sn(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Rt(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function of(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Nn(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var et=9e15,Re=1e9,zn="0123456789abcdef",Lt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Zt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Tn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-et,maxE:et,crypto:!1},So,Me,dr=!0,Qt="[DecimalError] ",qe=Qt+"Invalid argument: ",No=Qt+"Precision limit exceeded",Bo=Qt+"crypto unavailable",_o="[object Decimal]",Hr=Math.floor,qr=Math.pow,uf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,sf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ff=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,zo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ge=1e7,vr=7,cf=9007199254740991,lf=Lt.length-1,In=Zt.length-1,J={toStringTag:_o};J.absoluteValue=J.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),sr(r)};J.ceil=function(){return sr(new this.constructor(this),this.e+1,2)};J.clampedTo=J.clamp=function(r,e){var t,a=this,n=a.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(qe+e);return t=a.cmp(r),t<0?r:a.cmp(e)>0?e:new n(a)};J.comparedTo=J.cmp=function(r){var e,t,a,n,o=this,p=o.d,m=(r=new o.constructor(r)).d,f=o.s,u=r.s;if(!p||!m)return!f||!u?NaN:f!==u?f:p===m?0:!p^f<0?1:-1;if(!p[0]||!m[0])return p[0]?f:m[0]?-u:0;if(f!==u)return f;if(o.e!==r.e)return o.e>r.e^f<0?1:-1;for(a=p.length,n=m.length,e=0,t=a<n?a:n;e<t;++e)if(p[e]!==m[e])return p[e]>m[e]^f<0?1:-1;return a===n?0:a>n^f<0?1:-1};J.cosine=J.cos=function(){var r,e,t=this,a=t.constructor;return t.d?t.d[0]?(r=a.precision,e=a.rounding,a.precision=r+Math.max(t.e,t.sd())+vr,a.rounding=1,t=pf(a,qo(a,t)),a.precision=r,a.rounding=e,sr(Me==2||Me==3?t.neg():t,r,e,!0)):new a(1):new a(NaN)};J.cubeRoot=J.cbrt=function(){var r,e,t,a,n,o,p,m,f,u,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);for(dr=!1,o=i.s*qr(i.s*i,1/3),!o||Math.abs(o)==1/0?(t=Gr(i.d),r=i.e,(o=(r-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=qr(t,1/3),r=Hr((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?t="5e"+r:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),a=new s(t),a.s=i.s):a=new s(o.toString()),p=(r=s.precision)+3;;)if(m=a,f=m.times(m).times(m),u=f.plus(i),a=_r(u.plus(i).times(m),u.plus(f),p+2,1),Gr(m.d).slice(0,p)===(t=Gr(a.d)).slice(0,p))if(t=t.slice(p-3,p+1),t=="9999"||!n&&t=="4999"){if(!n&&(sr(m,r+1,0),m.times(m).times(m).eq(i))){a=m;break}p+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(sr(a,r+1,1),e=!a.times(a).times(a).eq(i));break}return dr=!0,sr(a,r,s.rounding,e)};J.decimalPlaces=J.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Hr(this.e/vr))*vr,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};J.dividedBy=J.div=function(r){return _r(this,new this.constructor(r))};J.dividedToIntegerBy=J.divToInt=function(r){var e=this,t=e.constructor;return sr(_r(e,new t(r),0,1,1),t.precision,t.rounding)};J.equals=J.eq=function(r){return this.cmp(r)===0};J.floor=function(){return sr(new this.constructor(this),this.e+1,3)};J.greaterThan=J.gt=function(r){return this.cmp(r)>0};J.greaterThanOrEqualTo=J.gte=function(r){var e=this.cmp(r);return e==1||e===0};J.hyperbolicCosine=J.cosh=function(){var r,e,t,a,n,o=this,p=o.constructor,m=new p(1);if(!o.isFinite())return new p(o.s?1/0:NaN);if(o.isZero())return m;t=p.precision,a=p.rounding,p.precision=t+Math.max(o.e,o.sd())+4,p.rounding=1,n=o.d.length,n<32?(r=Math.ceil(n/3),e=(1/Xt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=tt(p,1,o.times(e),new p(1),!0);for(var f,u=r,i=new p(8);u--;)f=o.times(o),o=m.minus(f.times(i.minus(f.times(i))));return sr(o,p.precision=t,p.rounding=a,!0)};J.hyperbolicSine=J.sinh=function(){var r,e,t,a,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(n.e,n.sd())+4,o.rounding=1,a=n.d.length,a<3)n=tt(o,2,n,n,!0);else{r=1.4*Math.sqrt(a),r=r>16?16:r|0,n=n.times(1/Xt(5,r)),n=tt(o,2,n,n,!0);for(var p,m=new o(5),f=new o(16),u=new o(20);r--;)p=n.times(n),n=n.times(m.plus(p.times(f.times(p).plus(u))))}return o.precision=e,o.rounding=t,sr(n,e,t,!0)};J.hyperbolicTangent=J.tanh=function(){var r,e,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(r=a.precision,e=a.rounding,a.precision=r+7,a.rounding=1,_r(t.sinh(),t.cosh(),a.precision=r,a.rounding=e)):new a(t.s)};J.inverseCosine=J.acos=function(){var r,e=this,t=e.constructor,a=e.abs().cmp(1),n=t.precision,o=t.rounding;return a!==-1?a===0?e.isNeg()?de(t,n,o):new t(0):new t(NaN):e.isZero()?de(t,n+4,o).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=de(t,n+4,o).times(.5),t.precision=n,t.rounding=o,r.minus(e))};J.inverseHyperbolicCosine=J.acosh=function(){var r,e,t=this,a=t.constructor;return t.lte(1)?new a(t.eq(1)?0:NaN):t.isFinite()?(r=a.precision,e=a.rounding,a.precision=r+Math.max(Math.abs(t.e),t.sd())+4,a.rounding=1,dr=!1,t=t.times(t).minus(1).sqrt().plus(t),dr=!0,a.precision=r,a.rounding=e,t.ln()):new a(t)};J.inverseHyperbolicSine=J.asinh=function(){var r,e,t=this,a=t.constructor;return!t.isFinite()||t.isZero()?new a(t):(r=a.precision,e=a.rounding,a.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,a.rounding=1,dr=!1,t=t.times(t).plus(1).sqrt().plus(t),dr=!0,a.precision=r,a.rounding=e,t.ln())};J.inverseHyperbolicTangent=J.atanh=function(){var r,e,t,a,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=o.precision,e=o.rounding,a=n.sd(),Math.max(a,r)<2*-n.e-1?sr(new o(n),r,e,!0):(o.precision=t=a-n.e,n=_r(n.plus(1),new o(1).minus(n),t+r,1),o.precision=r+4,o.rounding=1,n=n.ln(),o.precision=r,o.rounding=e,n.times(.5))):new o(NaN)};J.inverseSine=J.asin=function(){var r,e,t,a,n=this,o=n.constructor;return n.isZero()?new o(n):(e=n.abs().cmp(1),t=o.precision,a=o.rounding,e!==-1?e===0?(r=de(o,t+4,a).times(.5),r.s=n.s,r):new o(NaN):(o.precision=t+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=a,n.times(2)))};J.inverseTangent=J.atan=function(){var r,e,t,a,n,o,p,m,f,u=this,i=u.constructor,s=i.precision,l=i.rounding;if(u.isFinite()){if(u.isZero())return new i(u);if(u.abs().eq(1)&&s+4<=In)return p=de(i,s+4,l).times(.25),p.s=u.s,p}else{if(!u.s)return new i(NaN);if(s+4<=In)return p=de(i,s+4,l).times(.5),p.s=u.s,p}for(i.precision=m=s+10,i.rounding=1,t=Math.min(28,m/vr+2|0),r=t;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(dr=!1,e=Math.ceil(m/vr),a=1,f=u.times(u),p=new i(u),n=u;r!==-1;)if(n=n.times(f),o=p.minus(n.div(a+=2)),n=n.times(f),p=o.plus(n.div(a+=2)),p.d[e]!==void 0)for(r=e;p.d[r]===o.d[r]&&r--;);return t&&(p=p.times(2<<t-1)),dr=!0,sr(p,i.precision=s,i.rounding=l,!0)};J.isFinite=function(){return!!this.d};J.isInteger=J.isInt=function(){return!!this.d&&Hr(this.e/vr)>this.d.length-2};J.isNaN=function(){return!this.s};J.isNegative=J.isNeg=function(){return this.s<0};J.isPositive=J.isPos=function(){return this.s>0};J.isZero=function(){return!!this.d&&this.d[0]===0};J.lessThan=J.lt=function(r){return this.cmp(r)<0};J.lessThanOrEqualTo=J.lte=function(r){return this.cmp(r)<1};J.logarithm=J.log=function(r){var e,t,a,n,o,p,m,f,u=this,i=u.constructor,s=i.precision,l=i.rounding,v=5;if(r==null)r=new i(10),e=!0;else{if(r=new i(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new i(NaN);e=r.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new i(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(n=t[0];n%10===0;)n/=10;o=n!==1}if(dr=!1,m=s+v,p=Pe(u,m),a=e?Vt(i,m+10):Pe(r,m),f=_r(p,a,m,1),gt(f.d,n=s,l))do if(m+=10,p=Pe(u,m),a=e?Vt(i,m+10):Pe(r,m),f=_r(p,a,m,1),!o){+Gr(f.d).slice(n+1,n+15)+1==1e14&&(f=sr(f,s+1,0));break}while(gt(f.d,n+=10,l));return dr=!0,sr(f,s,l)};J.minus=J.sub=function(r){var e,t,a,n,o,p,m,f,u,i,s,l,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return!v.s||!r.s?r=new d(NaN):v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(u=v.d,l=r.d,m=d.precision,f=d.rounding,!u[0]||!l[0]){if(l[0])r.s=-r.s;else if(u[0])r=new d(v);else return new d(f===3?-0:0);return dr?sr(r,m,f):r}if(t=Hr(r.e/vr),i=Hr(v.e/vr),u=u.slice(),o=i-t,o){for(s=o<0,s?(e=u,o=-o,p=l.length):(e=l,t=i,p=u.length),a=Math.max(Math.ceil(m/vr),p)+2,o>a&&(o=a,e.length=1),e.reverse(),a=o;a--;)e.push(0);e.reverse()}else{for(a=u.length,p=l.length,s=a<p,s&&(p=a),a=0;a<p;a++)if(u[a]!=l[a]){s=u[a]<l[a];break}o=0}for(s&&(e=u,u=l,l=e,r.s=-r.s),p=u.length,a=l.length-p;a>0;--a)u[p++]=0;for(a=l.length;a>o;){if(u[--a]<l[a]){for(n=a;n&&u[--n]===0;)u[n]=ge-1;--u[n],u[a]+=ge}u[a]-=l[a]}for(;u[--p]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(r.d=u,r.e=Gt(u,t),dr?sr(r,m,f):r):new d(f===3?-0:0)};J.modulo=J.mod=function(r){var e,t=this,a=t.constructor;return r=new a(r),!t.d||!r.s||r.d&&!r.d[0]?new a(NaN):!r.d||t.d&&!t.d[0]?sr(new a(t),a.precision,a.rounding):(dr=!1,a.modulo==9?(e=_r(t,r.abs(),0,3,1),e.s*=r.s):e=_r(t,r,0,a.modulo,1),e=e.times(r),dr=!0,t.minus(e))};J.naturalExponential=J.exp=function(){return On(this)};J.naturalLogarithm=J.ln=function(){return Pe(this)};J.negated=J.neg=function(){var r=new this.constructor(this);return r.s=-r.s,sr(r)};J.plus=J.add=function(r){var e,t,a,n,o,p,m,f,u,i,s=this,l=s.constructor;if(r=new l(r),!s.d||!r.d)return!s.s||!r.s?r=new l(NaN):s.d||(r=new l(r.d||s.s===r.s?s:NaN)),r;if(s.s!=r.s)return r.s=-r.s,s.minus(r);if(u=s.d,i=r.d,m=l.precision,f=l.rounding,!u[0]||!i[0])return i[0]||(r=new l(s)),dr?sr(r,m,f):r;if(o=Hr(s.e/vr),a=Hr(r.e/vr),u=u.slice(),n=o-a,n){for(n<0?(t=u,n=-n,p=i.length):(t=i,a=o,p=u.length),o=Math.ceil(m/vr),p=o>p?o+1:p+1,n>p&&(n=p,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(p=u.length,n=i.length,p-n<0&&(n=p,t=i,i=u,u=t),e=0;n;)e=(u[--n]=u[n]+i[n]+e)/ge|0,u[n]%=ge;for(e&&(u.unshift(e),++a),p=u.length;u[--p]==0;)u.pop();return r.d=u,r.e=Gt(u,a),dr?sr(r,m,f):r};J.precision=J.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(qe+r);return t.d?(e=To(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};J.round=function(){var r=this,e=r.constructor;return sr(new e(r),r.e+1,e.rounding)};J.sine=J.sin=function(){var r,e,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(r=a.precision,e=a.rounding,a.precision=r+Math.max(t.e,t.sd())+vr,a.rounding=1,t=mf(a,qo(a,t)),a.precision=r,a.rounding=e,sr(Me>2?t.neg():t,r,e,!0)):new a(NaN)};J.squareRoot=J.sqrt=function(){var r,e,t,a,n,o,p=this,m=p.d,f=p.e,u=p.s,i=p.constructor;if(u!==1||!m||!m[0])return new i(!u||u<0&&(!m||m[0])?NaN:m?p:1/0);for(dr=!1,u=Math.sqrt(+p),u==0||u==1/0?(e=Gr(m),(e.length+f)%2==0&&(e+="0"),u=Math.sqrt(e),f=Hr((f+1)/2)-(f<0||f%2),u==1/0?e="5e"+f:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+f),a=new i(e)):a=new i(u.toString()),t=(f=i.precision)+3;;)if(o=a,a=o.plus(_r(p,o,t+2,1)).times(.5),Gr(o.d).slice(0,t)===(e=Gr(a.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(sr(o,f+1,0),o.times(o).eq(p))){a=o;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(sr(a,f+1,1),r=!a.times(a).eq(p));break}return dr=!0,sr(a,f,i.rounding,r)};J.tangent=J.tan=function(){var r,e,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(r=a.precision,e=a.rounding,a.precision=r+10,a.rounding=1,t=t.sin(),t.s=1,t=_r(t,new a(1).minus(t.times(t)).sqrt(),r+10,0),a.precision=r,a.rounding=e,sr(Me==2||Me==4?t.neg():t,r,e,!0)):new a(NaN)};J.times=J.mul=function(r){var e,t,a,n,o,p,m,f,u,i=this,s=i.constructor,l=i.d,v=(r=new s(r)).d;if(r.s*=i.s,!l||!l[0]||!v||!v[0])return new s(!r.s||l&&!l[0]&&!v||v&&!v[0]&&!l?NaN:!l||!v?r.s/0:r.s*0);for(t=Hr(i.e/vr)+Hr(r.e/vr),f=l.length,u=v.length,f<u&&(o=l,l=v,v=o,p=f,f=u,u=p),o=[],p=f+u,a=p;a--;)o.push(0);for(a=u;--a>=0;){for(e=0,n=f+a;n>a;)m=o[n]+v[a]*l[n-a-1]+e,o[n--]=m%ge|0,e=m/ge|0;o[n]=(o[n]+e)%ge|0}for(;!o[--p];)o.pop();return e?++t:o.shift(),r.d=o,r.e=Gt(o,t),dr?sr(r,s.precision,s.rounding):r};J.toBinary=function(r,e){return qn(this,2,r,e)};J.toDecimalPlaces=J.toDP=function(r,e){var t=this,a=t.constructor;return t=new a(t),r===void 0?t:(ie(r,0,Re),e===void 0?e=a.rounding:ie(e,0,8),sr(t,r+t.e+1,e))};J.toExponential=function(r,e){var t,a=this,n=a.constructor;return r===void 0?t=we(a,!0):(ie(r,0,Re),e===void 0?e=n.rounding:ie(e,0,8),a=sr(new n(a),r+1,e),t=we(a,!0,r+1)),a.isNeg()&&!a.isZero()?"-"+t:t};J.toFixed=function(r,e){var t,a,n=this,o=n.constructor;return r===void 0?t=we(n):(ie(r,0,Re),e===void 0?e=o.rounding:ie(e,0,8),a=sr(new o(n),r+n.e+1,e),t=we(a,!1,r+a.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};J.toFraction=function(r){var e,t,a,n,o,p,m,f,u,i,s,l,v=this,d=v.d,c=v.constructor;if(!d)return new c(v);if(u=t=new c(1),a=f=new c(0),e=new c(a),o=e.e=To(d)-v.e-1,p=o%vr,e.d[0]=qr(10,p<0?vr+p:p),r==null)r=o>0?e:u;else{if(m=new c(r),!m.isInt()||m.lt(u))throw Error(qe+m);r=m.gt(e)?o>0?e:u:m}for(dr=!1,m=new c(Gr(d)),i=c.precision,c.precision=o=d.length*vr*2;s=_r(m,e,0,1,1),n=t.plus(s.times(a)),n.cmp(r)!=1;)t=a,a=n,n=u,u=f.plus(s.times(n)),f=n,n=e,e=m.minus(s.times(n)),m=n;return n=_r(r.minus(t),a,0,1,1),f=f.plus(n.times(u)),t=t.plus(n.times(a)),f.s=u.s=v.s,l=_r(u,a,o,1).minus(v).abs().cmp(_r(f,t,o,1).minus(v).abs())<1?[u,a]:[f,t],c.precision=i,dr=!0,l};J.toHexadecimal=J.toHex=function(r,e){return qn(this,16,r,e)};J.toNearest=function(r,e){var t=this,a=t.constructor;if(t=new a(t),r==null){if(!t.d)return t;r=new a(1),e=a.rounding}else{if(r=new a(r),e===void 0?e=a.rounding:ie(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(dr=!1,t=_r(t,r,0,e,1).times(r),dr=!0,sr(t)):(r.s=t.s,t=r),t};J.toNumber=function(){return+this};J.toOctal=function(r,e){return qn(this,8,r,e)};J.toPower=J.pow=function(r){var e,t,a,n,o,p,m=this,f=m.constructor,u=+(r=new f(r));if(!m.d||!r.d||!m.d[0]||!r.d[0])return new f(qr(+m,u));if(m=new f(m),m.eq(1))return m;if(a=f.precision,o=f.rounding,r.eq(1))return sr(m,a,o);if(e=Hr(r.e/vr),e>=r.d.length-1&&(t=u<0?-u:u)<=cf)return n=Io(f,m,t,a),r.s<0?new f(1).div(n):sr(n,a,o);if(p=m.s,p<0){if(e<r.d.length-1)return new f(NaN);if(r.d[e]&1||(p=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=p,m}return t=qr(+m,u),e=t==0||!isFinite(t)?Hr(u*(Math.log("0."+Gr(m.d))/Math.LN10+m.e+1)):new f(t+"").e,e>f.maxE+1||e<f.minE-1?new f(e>0?p/0:0):(dr=!1,f.rounding=m.s=1,t=Math.min(12,(e+"").length),n=On(r.times(Pe(m,a+t)),a),n.d&&(n=sr(n,a+5,1),gt(n.d,a,o)&&(e=a+10,n=sr(On(r.times(Pe(m,e+t)),e),e+5,1),+Gr(n.d).slice(a+1,a+15)+1==1e14&&(n=sr(n,a+1,0)))),n.s=p,dr=!0,f.rounding=o,sr(n,a,o))};J.toPrecision=function(r,e){var t,a=this,n=a.constructor;return r===void 0?t=we(a,a.e<=n.toExpNeg||a.e>=n.toExpPos):(ie(r,1,Re),e===void 0?e=n.rounding:ie(e,0,8),a=sr(new n(a),r,e),t=we(a,r<=a.e||a.e<=n.toExpNeg,r)),a.isNeg()&&!a.isZero()?"-"+t:t};J.toSignificantDigits=J.toSD=function(r,e){var t=this,a=t.constructor;return r===void 0?(r=a.precision,e=a.rounding):(ie(r,1,Re),e===void 0?e=a.rounding:ie(e,0,8)),sr(new a(t),r,e)};J.toString=function(){var r=this,e=r.constructor,t=we(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};J.truncated=J.trunc=function(){return sr(new this.constructor(this),this.e+1,1)};J.valueOf=J.toJSON=function(){var r=this,e=r.constructor,t=we(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Gr(r){var e,t,a,n=r.length-1,o="",p=r[0];if(n>0){for(o+=p,e=1;e<n;e++)a=r[e]+"",t=vr-a.length,t&&(o+=Oe(t)),o+=a;p=r[e],a=p+"",t=vr-a.length,t&&(o+=Oe(t))}else if(p===0)return"0";for(;p%10===0;)p/=10;return o+p}function ie(r,e,t){if(r!==~~r||r<e||r>t)throw Error(qe+r)}function gt(r,e,t,a){var n,o,p,m;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=vr,n=0):(n=Math.ceil((e+1)/vr),e%=vr),o=qr(10,vr-e),m=r[n]%o|0,a==null?e<3?(e==0?m=m/100|0:e==1&&(m=m/10|0),p=t<4&&m==99999||t>3&&m==49999||m==5e4||m==0):p=(t<4&&m+1==o||t>3&&m+1==o/2)&&(r[n+1]/o/100|0)==qr(10,e-2)-1||(m==o/2||m==0)&&(r[n+1]/o/100|0)==0:e<4?(e==0?m=m/1e3|0:e==1?m=m/100|0:e==2&&(m=m/10|0),p=(a||t<4)&&m==9999||!a&&t>3&&m==4999):p=((a||t<4)&&m+1==o||!a&&t>3&&m+1==o/2)&&(r[n+1]/o/1e3|0)==qr(10,e-3)-1,p}function Ut(r,e,t){for(var a,n=[0],o,p=0,m=r.length;p<m;){for(o=n.length;o--;)n[o]*=e;for(n[0]+=zn.indexOf(r.charAt(p++)),a=0;a<n.length;a++)n[a]>t-1&&(n[a+1]===void 0&&(n[a+1]=0),n[a+1]+=n[a]/t|0,n[a]%=t)}return n.reverse()}function pf(r,e){var t,a,n;if(e.isZero())return e;a=e.d.length,a<32?(t=Math.ceil(a/3),n=(1/Xt(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=tt(r,1,e.times(n),new r(1));for(var o=t;o--;){var p=e.times(e);e=p.times(p).minus(p).times(8).plus(1)}return r.precision-=t,e}var _r=function(){function r(a,n,o){var p,m=0,f=a.length;for(a=a.slice();f--;)p=a[f]*n+m,a[f]=p%o|0,m=p/o|0;return m&&a.unshift(m),a}function e(a,n,o,p){var m,f;if(o!=p)f=o>p?1:-1;else for(m=f=0;m<o;m++)if(a[m]!=n[m]){f=a[m]>n[m]?1:-1;break}return f}function t(a,n,o,p){for(var m=0;o--;)a[o]-=m,m=a[o]<n[o]?1:0,a[o]=m*p+a[o]-n[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,o,p,m,f){var u,i,s,l,v,d,c,h,g,y,x,E,C,D,A,F,b,w,S,M,I=a.constructor,q=a.s==n.s?1:-1,T=a.d,B=n.d;if(!T||!T[0]||!B||!B[0])return new I(!a.s||!n.s||(T?B&&T[0]==B[0]:!B)?NaN:T&&T[0]==0||!B?q*0:q/0);for(f?(v=1,i=a.e-n.e):(f=ge,v=vr,i=Hr(a.e/v)-Hr(n.e/v)),S=B.length,b=T.length,g=new I(q),y=g.d=[],s=0;B[s]==(T[s]||0);s++);if(B[s]>(T[s]||0)&&i--,o==null?(D=o=I.precision,p=I.rounding):m?D=o+(a.e-n.e)+1:D=o,D<0)y.push(1),d=!0;else{if(D=D/v+2|0,s=0,S==1){for(l=0,B=B[0],D++;(s<b||l)&&D--;s++)A=l*f+(T[s]||0),y[s]=A/B|0,l=A%B|0;d=l||s<b}else{for(l=f/(B[0]+1)|0,l>1&&(B=r(B,l,f),T=r(T,l,f),S=B.length,b=T.length),F=S,x=T.slice(0,S),E=x.length;E<S;)x[E++]=0;M=B.slice(),M.unshift(0),w=B[0],B[1]>=f/2&&++w;do l=0,u=e(B,x,S,E),u<0?(C=x[0],S!=E&&(C=C*f+(x[1]||0)),l=C/w|0,l>1?(l>=f&&(l=f-1),c=r(B,l,f),h=c.length,E=x.length,u=e(c,x,h,E),u==1&&(l--,t(c,S<h?M:B,h,f))):(l==0&&(u=l=1),c=B.slice()),h=c.length,h<E&&c.unshift(0),t(x,c,E,f),u==-1&&(E=x.length,u=e(B,x,S,E),u<1&&(l++,t(x,S<E?M:B,E,f))),E=x.length):u===0&&(l++,x=[0]),y[s++]=l,u&&x[0]?x[E++]=T[F]||0:(x=[T[F]],E=1);while((F++<b||x[0]!==void 0)&&D--);d=x[0]!==void 0}y[0]||y.shift()}if(v==1)g.e=i,So=d;else{for(s=1,l=y[0];l>=10;l/=10)s++;g.e=s+i*v-1,sr(g,m?o+g.e+1:o,p,d)}return g}}();function sr(r,e,t,a){var n,o,p,m,f,u,i,s,l,v=r.constructor;r:if(e!=null){if(s=r.d,!s)return r;for(n=1,m=s[0];m>=10;m/=10)n++;if(o=e-n,o<0)o+=vr,p=e,i=s[l=0],f=i/qr(10,n-p-1)%10|0;else if(l=Math.ceil((o+1)/vr),m=s.length,l>=m)if(a){for(;m++<=l;)s.push(0);i=f=0,n=1,o%=vr,p=o-vr+1}else break r;else{for(i=m=s[l],n=1;m>=10;m/=10)n++;o%=vr,p=o-vr+n,f=p<0?0:i/qr(10,n-p-1)%10|0}if(a=a||e<0||s[l+1]!==void 0||(p<0?i:i%qr(10,n-p-1)),u=t<4?(f||a)&&(t==0||t==(r.s<0?3:2)):f>5||f==5&&(t==4||a||t==6&&(o>0?p>0?i/qr(10,n-p):0:s[l-1])%10&1||t==(r.s<0?8:7)),e<1||!s[0])return s.length=0,u?(e-=r.e+1,s[0]=qr(10,(vr-e%vr)%vr),r.e=-e||0):s[0]=r.e=0,r;if(o==0?(s.length=l,m=1,l--):(s.length=l+1,m=qr(10,vr-o),s[l]=p>0?(i/qr(10,n-p)%qr(10,p)|0)*m:0),u)for(;;)if(l==0){for(o=1,p=s[0];p>=10;p/=10)o++;for(p=s[0]+=m,m=1;p>=10;p/=10)m++;o!=m&&(r.e++,s[0]==ge&&(s[0]=1));break}else{if(s[l]+=m,s[l]!=ge)break;s[l--]=0,m=1}for(o=s.length;s[--o]===0;)s.pop()}return dr&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function we(r,e,t){if(!r.isFinite())return Po(r);var a,n=r.e,o=Gr(r.d),p=o.length;return e?(t&&(a=t-p)>0?o=o.charAt(0)+"."+o.slice(1)+Oe(a):p>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):n<0?(o="0."+Oe(-n-1)+o,t&&(a=t-p)>0&&(o+=Oe(a))):n>=p?(o+=Oe(n+1-p),t&&(a=t-n-1)>0&&(o=o+"."+Oe(a))):((a=n+1)<p&&(o=o.slice(0,a)+"."+o.slice(a)),t&&(a=t-p)>0&&(n+1===p&&(o+="."),o+=Oe(a))),o}function Gt(r,e){var t=r[0];for(e*=vr;t>=10;t/=10)e++;return e}function Vt(r,e,t){if(e>lf)throw dr=!0,t&&(r.precision=t),Error(No);return sr(new r(Lt),e,1,!0)}function de(r,e,t){if(e>In)throw Error(No);return sr(new r(Zt),e,t,!0)}function To(r){var e=r.length-1,t=e*vr+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Oe(r){for(var e="";r--;)e+="0";return e}function Io(r,e,t,a){var n,o=new r(1),p=Math.ceil(a/vr+4);for(dr=!1;;){if(t%2&&(o=o.times(e),bo(o.d,p)&&(n=!0)),t=Hr(t/2),t===0){t=o.d.length-1,n&&o.d[t]===0&&++o.d[t];break}e=e.times(e),bo(e.d,p)}return dr=!0,o}function Fo(r){return r.d[r.d.length-1]&1}function Oo(r,e,t){for(var a,n=new r(e[0]),o=0;++o<e.length;)if(a=new r(e[o]),a.s)n[t](a)&&(n=a);else{n=a;break}return n}function On(r,e){var t,a,n,o,p,m,f,u=0,i=0,s=0,l=r.constructor,v=l.rounding,d=l.precision;if(!r.d||!r.d[0]||r.e>17)return new l(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(dr=!1,f=d):f=e,m=new l(.03125);r.e>-2;)r=r.times(m),s+=5;for(a=Math.log(qr(2,s))/Math.LN10*2+5|0,f+=a,t=o=p=new l(1),l.precision=f;;){if(o=sr(o.times(r),f,1),t=t.times(++i),m=p.plus(_r(o,t,f,1)),Gr(m.d).slice(0,f)===Gr(p.d).slice(0,f)){for(n=s;n--;)p=sr(p.times(p),f,1);if(e==null)if(u<3&&gt(p.d,f-a,v,u))l.precision=f+=10,t=o=m=new l(1),i=0,u++;else return sr(p,l.precision=d,v,dr=!0);else return l.precision=d,p}p=m}}function Pe(r,e){var t,a,n,o,p,m,f,u,i,s,l,v=1,d=10,c=r,h=c.d,g=c.constructor,y=g.rounding,x=g.precision;if(c.s<0||!h||!h[0]||!c.e&&h[0]==1&&h.length==1)return new g(h&&!h[0]?-1/0:c.s!=1?NaN:h?0:c);if(e==null?(dr=!1,i=x):i=e,g.precision=i+=d,t=Gr(h),a=t.charAt(0),Math.abs(o=c.e)<15e14){for(;a<7&&a!=1||a==1&&t.charAt(1)>3;)c=c.times(r),t=Gr(c.d),a=t.charAt(0),v++;o=c.e,a>1?(c=new g("0."+t),o++):c=new g(a+"."+t.slice(1))}else return u=Vt(g,i+2,x).times(o+""),c=Pe(new g(a+"."+t.slice(1)),i-d).plus(u),g.precision=x,e==null?sr(c,x,y,dr=!0):c;for(s=c,f=p=c=_r(c.minus(1),c.plus(1),i,1),l=sr(c.times(c),i,1),n=3;;){if(p=sr(p.times(l),i,1),u=f.plus(_r(p,new g(n),i,1)),Gr(u.d).slice(0,i)===Gr(f.d).slice(0,i))if(f=f.times(2),o!==0&&(f=f.plus(Vt(g,i+2,x).times(o+""))),f=_r(f,new g(v),i,1),e==null)if(gt(f.d,i-d,y,m))g.precision=i+=d,u=p=c=_r(s.minus(1),s.plus(1),i,1),l=sr(c.times(c),i,1),n=m=1;else return sr(f,g.precision=x,y,dr=!0);else return g.precision=x,f;f=u,n+=2}}function Po(r){return String(r.s*r.s/0)}function Pn(r,e){var t,a,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(t<0&&(t=a),t+=+e.slice(a+1),e=e.substring(0,a)):t<0&&(t=e.length),a=0;e.charCodeAt(a)===48;a++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(a,n),e){if(n-=a,r.e=t=t-a-1,r.d=[],a=(t+1)%vr,t<0&&(a+=vr),a<n){for(a&&r.d.push(+e.slice(0,a)),n-=vr;a<n;)r.d.push(+e.slice(a,a+=vr));e=e.slice(a),a=vr-e.length}else a-=n;for(;a--;)e+="0";r.d.push(+e),dr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function vf(r,e){var t,a,n,o,p,m,f,u,i;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),zo.test(e))return Pn(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(sf.test(e))t=16,e=e.toLowerCase();else if(uf.test(e))t=2;else if(ff.test(e))t=8;else throw Error(qe+e);for(o=e.search(/p/i),o>0?(f=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),p=o>=0,a=r.constructor,p&&(e=e.replace(".",""),m=e.length,o=m-o,n=Io(a,new a(t),o,o*2)),u=Ut(e,t,ge),i=u.length-1,o=i;u[o]===0;--o)u.pop();return o<0?new a(r.s*0):(r.e=Gt(u,i),r.d=u,dr=!1,p&&(r=_r(r,n,m*4)),f&&(r=r.times(Math.abs(f)<54?qr(2,f):Dt.pow(2,f))),dr=!0,r)}function mf(r,e){var t,a=e.d.length;if(a<3)return e.isZero()?e:tt(r,2,e,e);t=1.4*Math.sqrt(a),t=t>16?16:t|0,e=e.times(1/Xt(5,t)),e=tt(r,2,e,e);for(var n,o=new r(5),p=new r(16),m=new r(20);t--;)n=e.times(e),e=e.times(o.plus(n.times(p.times(n).minus(m))));return e}function tt(r,e,t,a,n){var o,p,m,f,u=1,i=r.precision,s=Math.ceil(i/vr);for(dr=!1,f=t.times(t),m=new r(a);;){if(p=_r(m.times(f),new r(e++*e++),i,1),m=n?a.plus(p):a.minus(p),a=_r(p.times(f),new r(e++*e++),i,1),p=m.plus(a),p.d[s]!==void 0){for(o=s;p.d[o]===m.d[o]&&o--;);if(o==-1)break}o=m,m=a,a=p,p=o,u++}return dr=!0,p.d.length=s+1,p}function Xt(r,e){for(var t=r;--e;)t*=r;return t}function qo(r,e){var t,a=e.s<0,n=de(r,r.precision,1),o=n.times(.5);if(e=e.abs(),e.lte(o))return Me=a?4:1,e;if(t=e.divToInt(n),t.isZero())Me=a?3:2;else{if(e=e.minus(t.times(n)),e.lte(o))return Me=Fo(t)?a?2:3:a?4:1,e;Me=Fo(t)?a?1:4:a?3:2}return e.minus(n).abs()}function qn(r,e,t,a){var n,o,p,m,f,u,i,s,l,v=r.constructor,d=t!==void 0;if(d?(ie(t,1,Re),a===void 0?a=v.rounding:ie(a,0,8)):(t=v.precision,a=v.rounding),!r.isFinite())i=Po(r);else{for(i=we(r),p=i.indexOf("."),d?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,p>=0&&(i=i.replace(".",""),l=new v(1),l.e=i.length-p,l.d=Ut(we(l),10,n),l.e=l.d.length),s=Ut(i,10,n),o=f=s.length;s[--f]==0;)s.pop();if(!s[0])i=d?"0p+0":"0";else{if(p<0?o--:(r=new v(r),r.d=s,r.e=o,r=_r(r,l,t,a,0,n),s=r.d,o=r.e,u=So),p=s[t],m=n/2,u=u||s[t+1]!==void 0,u=a<4?(p!==void 0||u)&&(a===0||a===(r.s<0?3:2)):p>m||p===m&&(a===4||u||a===6&&s[t-1]&1||a===(r.s<0?8:7)),s.length=t,u)for(;++s[--t]>n-1;)s[t]=0,t||(++o,s.unshift(1));for(f=s.length;!s[f-1];--f);for(p=0,i="";p<f;p++)i+=zn.charAt(s[p]);if(d){if(f>1)if(e==16||e==8){for(p=e==16?4:3,--f;f%p;f++)i+="0";for(s=Ut(i,n,e),f=s.length;!s[f-1];--f);for(p=1,i="1.";p<f;p++)i+=zn.charAt(s[p])}else i=i.charAt(0)+"."+i.slice(1);i=i+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)i="0"+i;i="0."+i}else if(++o>f)for(o-=f;o--;)i+="0";else o<f&&(i=i.slice(0,o)+"."+i.slice(o))}i=(e==16?"0x":e==2?"0b":e==8?"0o":"")+i}return r.s<0?"-"+i:i}function bo(r,e){if(r.length>e)return r.length=e,!0}function hf(r){return new this(r).abs()}function df(r){return new this(r).acos()}function gf(r){return new this(r).acosh()}function Df(r,e){return new this(r).plus(e)}function xf(r){return new this(r).asin()}function yf(r){return new this(r).asinh()}function wf(r){return new this(r).atan()}function Af(r){return new this(r).atanh()}function Ef(r,e){r=new this(r),e=new this(e);var t,a=this.precision,n=this.rounding,o=a+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=de(this,o,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?de(this,a,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=de(this,o,1).times(.5),t.s=r.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(_r(r,e,o,1)),e=de(this,o,1),this.precision=a,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(_r(r,e,o,1)),t}function Cf(r){return new this(r).cbrt()}function Ff(r){return sr(r=new this(r),r.e+1,2)}function bf(r,e,t){return new this(r).clamp(e,t)}function Mf(r){if(!r||typeof r!="object")throw Error(Qt+"Object expected");var e,t,a,n=r.defaults===!0,o=["precision",1,Re,"rounding",0,8,"toExpNeg",-et,0,"toExpPos",0,et,"maxE",0,et,"minE",-et,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],n&&(this[t]=Tn[t]),(a=r[t])!==void 0)if(Hr(a)===a&&a>=o[e+1]&&a<=o[e+2])this[t]=a;else throw Error(qe+t+": "+a);if(t="crypto",n&&(this[t]=Tn[t]),(a=r[t])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Bo);else this[t]=!1;else throw Error(qe+t+": "+a);return this}function Sf(r){return new this(r).cos()}function Nf(r){return new this(r).cosh()}function Ro(r){var e,t,a;function n(o){var p,m,f,u=this;if(!(u instanceof n))return new n(o);if(u.constructor=n,Mo(o)){u.s=o.s,dr?!o.d||o.e>n.maxE?(u.e=NaN,u.d=null):o.e<n.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(p=0,m=o;m>=10;m/=10)p++;dr?p>n.maxE?(u.e=NaN,u.d=null):p<n.minE?(u.e=0,u.d=[0]):(u.e=p,u.d=[o]):(u.e=p,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return Pn(u,o.toString())}else if(f!=="string")throw Error(qe+o);return(m=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(m===43&&(o=o.slice(1)),u.s=1),zo.test(o)?Pn(u,o):vf(u,o)}if(n.prototype=J,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Mf,n.clone=Ro,n.isDecimal=Mo,n.abs=hf,n.acos=df,n.acosh=gf,n.add=Df,n.asin=xf,n.asinh=yf,n.atan=wf,n.atanh=Af,n.atan2=Ef,n.cbrt=Cf,n.ceil=Ff,n.clamp=bf,n.cos=Sf,n.cosh=Nf,n.div=Bf,n.exp=_f,n.floor=zf,n.hypot=Tf,n.ln=If,n.log=Of,n.log10=qf,n.log2=Pf,n.max=Rf,n.min=Uf,n.mod=Lf,n.mul=Zf,n.pow=Vf,n.random=Qf,n.round=Gf,n.sign=Xf,n.sin=$f,n.sinh=Yf,n.sqrt=Jf,n.sub=Kf,n.sum=Hf,n.tan=Wf,n.tanh=kf,n.trunc=jf,r===void 0&&(r={}),r&&r.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<a.length;)r.hasOwnProperty(t=a[e++])||(r[t]=this[t]);return n.config(r),n}function Bf(r,e){return new this(r).div(e)}function _f(r){return new this(r).exp()}function zf(r){return sr(r=new this(r),r.e+1,3)}function Tf(){var r,e,t=new this(0);for(dr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return dr=!0,new this(1/0);t=e}return dr=!0,t.sqrt()}function Mo(r){return r instanceof Dt||r&&r.toStringTag===_o||!1}function If(r){return new this(r).ln()}function Of(r,e){return new this(r).log(e)}function Pf(r){return new this(r).log(2)}function qf(r){return new this(r).log(10)}function Rf(){return Oo(this,arguments,"lt")}function Uf(){return Oo(this,arguments,"gt")}function Lf(r,e){return new this(r).mod(e)}function Zf(r,e){return new this(r).mul(e)}function Vf(r,e){return new this(r).pow(e)}function Qf(r){var e,t,a,n,o=0,p=new this(1),m=[];if(r===void 0?r=this.precision:ie(r,1,Re),a=Math.ceil(r/vr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(a));o<a;)n=e[o],n>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:m[o++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(a*=4);o<a;)n=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,o):(m.push(n%1e7),o+=4);o=a/4}else throw Error(Bo);else for(;o<a;)m[o++]=Math.random()*1e7|0;for(a=m[--o],r%=vr,a&&r&&(n=qr(10,vr-r),m[o]=(a/n|0)*n);m[o]===0;o--)m.pop();if(o<0)t=0,m=[0];else{for(t=-1;m[0]===0;t-=vr)m.shift();for(a=1,n=m[0];n>=10;n/=10)a++;a<vr&&(t-=vr-a)}return p.e=t,p.d=m,p}function Gf(r){return sr(r=new this(r),r.e+1,this.rounding)}function Xf(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function $f(r){return new this(r).sin()}function Yf(r){return new this(r).sinh()}function Jf(r){return new this(r).sqrt()}function Kf(r,e){return new this(r).sub(e)}function Hf(){var r=0,e=arguments,t=new this(e[r]);for(dr=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return dr=!0,sr(t,this.precision,this.rounding)}function Wf(r){return new this(r).tan()}function kf(r){return new this(r).tanh()}function jf(r){return sr(r=new this(r),r.e+1,1)}J[Symbol.for("nodejs.util.inspect.custom")]=J.toString;J[Symbol.toStringTag]="Decimal";var Dt=J.constructor=Ro(Tn);Lt=new Dt(Lt);Zt=new Dt(Zt);var Rn=Dt;var rc="BigNumber",ec=["?on","config"],Un=P(rc,ec,r=>{var{on:e,config:t}=r,a=Rn.clone({precision:t.precision,modulo:Rn.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(n){return new a(n.value)},e&&e("config",function(n,o){n.precision!==o.precision&&a.config({precision:n.precision})}),a},{isClass:!0});var Lr=Bt(Lo(),1);var tc="Complex",nc=[],Zn=P(tc,nc,()=>(Object.defineProperty(Lr.default,"name",{value:"Complex"}),Lr.default.prototype.constructor=Lr.default,Lr.default.prototype.type="Complex",Lr.default.prototype.isComplex=!0,Lr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Lr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Lr.default.prototype.format=function(r){var e="",t=this.im,a=this.re,n=ht(this.re,r),o=ht(this.im,r),p=Sr(r)?r:r?r.precision:null;if(p!==null){var m=Math.pow(10,-p);Math.abs(a/t)<m&&(a=0),Math.abs(t/a)<m&&(t=0)}return t===0?e=n:a===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=n+" - i":e=n+" - "+o.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+o+"i",e},Lr.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Lr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],a=arguments[1];if(Sr(t)){if(_t(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),Sr(a))return new Lr.default({r:t,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Lr.default.prototype.valueOf=Lr.default.prototype.toString,Lr.default.fromJSON=function(r){return new Lr.default(r)},Lr.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Lr.default),{isClass:!0});var Ae=Bt(Vo(),1);var ac="Fraction",ic=[],Qn=P(ac,ic,()=>(Object.defineProperty(Ae.default,"name",{value:"Fraction"}),Ae.default.prototype.constructor=Ae.default,Ae.default.prototype.type="Fraction",Ae.default.prototype.isFraction=!0,Ae.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ae.default.fromJSON=function(r){return new Ae.default(r)},Ae.default),{isClass:!0});var oc="Matrix",uc=[],Gn=P(oc,uc,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,a){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,a){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function $t(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var a=(t.match(/,/g)||[]).length+1;return Math.max(e,a)},-1)}var sc="DenseMatrix",fc=["Matrix"],Xn=P(sc,fc,r=>{var{Matrix:e}=r;function t(i,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Yr(s))throw new Error("Invalid datatype: "+s);if(wr(i))i.type==="DenseMatrix"?(this._data=pr(i._data),this._size=pr(i._size),this._datatype=s||i._datatype):(this._data=i.toArray(),this._size=i.size(),this._datatype=s||i._datatype);else if(i&&Fr(i.data)&&Fr(i.size))this._data=i.data,this._size=i.size,Cn(this._data,this._size),this._datatype=s||i.datatype;else if(Fr(i))this._data=u(i),this._size=zr(this._data),Cn(this._data,this._size),this._datatype=s;else{if(i)throw new TypeError("Unsupported type of data ("+Qr(i)+")");this._data=[],this._size=[0],this._datatype=s}}t.prototype=new e,t.prototype.createDenseMatrix=function(i,s){return new t(i,s)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return rt(this._data,Qr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(i,s){return new t(i,s)},t.prototype.subset=function(i,s,l){switch(arguments.length){case 1:return a(this,i);case 2:case 3:return o(this,i,s,l);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(i){if(!Fr(i))throw new TypeError("Array expected");if(i.length!==this._size.length)throw new hr(i.length,this._size.length);for(var s=0;s<i.length;s++)Nr(i[s],this._size[s]);for(var l=this._data,v=0,d=i.length;v<d;v++){var c=i[v];Nr(c,l.length),l=l[c]}return l},t.prototype.set=function(i,s,l){if(!Fr(i))throw new TypeError("Array expected");if(i.length<this._size.length)throw new hr(i.length,this._size.length,"<");var v,d,c,h=i.map(function(y){return y+1});f(this,h,l);var g=this._data;for(v=0,d=i.length-1;v<d;v++)c=i[v],Nr(c,g.length),g=g[c];return c=i[i.length-1],Nr(c,g.length),g[c]=s,this};function a(i,s){if(!Te(s))throw new TypeError("Invalid index");var l=s.isScalar();if(l)return i.get(s.min());var v=s.size();if(v.length!==i._size.length)throw new hr(v.length,i._size.length);for(var d=s.min(),c=s.max(),h=0,g=i._size.length;h<g;h++)Nr(d[h],i._size[h]),Nr(c[h],i._size[h]);return new t(n(i._data,s,v.length,0),i._datatype)}function n(i,s,l,v){var d=v===l-1,c=s.dimension(v);return d?c.map(function(h){return Nr(h,i.length),i[h]}).valueOf():c.map(function(h){Nr(h,i.length);var g=i[h];return n(g,s,l,v+1)}).valueOf()}function o(i,s,l,v){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var d=s.size(),c=s.isScalar(),h;if(wr(l)?(h=l.size(),l=l.valueOf()):h=zr(l),c){if(h.length!==0)throw new TypeError("Scalar expected");i.set(s.min(),l,v)}else{if(d.length<i._size.length)throw new hr(d.length,i._size.length,"<");if(h.length<d.length){for(var g=0,y=0;d[g]===1&&h[g]===1;)g++;for(;d[g]===1;)y++,g++;l=Ot(l,d.length,y,h)}if(!We(d,h))throw new hr(d,h,">");var x=s.max().map(function(D){return D+1});f(i,x,v);var E=d.length,C=0;p(i._data,s,l,E,C)}return i}function p(i,s,l,v,d){var c=d===v-1,h=s.dimension(d);c?h.forEach(function(g,y){Nr(g),i[g]=l[y[0]]}):h.forEach(function(g,y){Nr(g),p(i[g],s,l[y[0]],v,d+1)})}t.prototype.resize=function(i,s,l){if(!Xe(i))throw new TypeError("Array or Matrix expected");var v=i.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),d=l?this.clone():this;return m(d,v,s)};function m(i,s,l){if(s.length===0){for(var v=i._data;Fr(v);)v=v[0];return v}return i._size=s.slice(0),i._data=Ye(i._data,i._size,l),i}t.prototype.reshape=function(i,s){var l=s?this.clone():this;l._data=go(l._data,i);var v=l._size.reduce((d,c)=>d*c);return l._size=dt(i,v),l};function f(i,s,l){for(var v=i._size.slice(0),d=!1;v.length<s.length;)v.push(0),d=!0;for(var c=0,h=s.length;c<h;c++)s[c]>v[c]&&(v[c]=s[c],d=!0);d&&m(i,v,l)}t.prototype.clone=function(){var i=new t({data:pr(this._data),size:pr(this._size),datatype:this._datatype});return i},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(i){var s=this,l=$t(i),v=function h(g,y){return Fr(g)?g.map(function(x,E){return h(x,y.concat(E))}):l===1?i(g):l===2?i(g,y):i(g,y,s)},d=v(this._data,[]),c=this._datatype!==void 0?rt(d,Qr):void 0;return new t(d,c)},t.prototype.forEach=function(i){var s=this,l=function v(d,c){Fr(d)?d.forEach(function(h,g){v(h,c.concat(g))}):i(d,c,s)};l(this._data,[])},t.prototype[Symbol.iterator]=function*(){var i=function*s(l,v){if(Fr(l))for(var d=0;d<l.length;d++)yield*s(l[d],v.concat(d));else yield{value:l,index:v}};yield*i(this._data,[])},t.prototype.rows=function(){var i=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var v of l)i.push(new t([v],this._datatype));return i},t.prototype.columns=function(){var i=this,s=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,d=function(g){var y=v.map(x=>[x[g]]);s.push(new t(y,i._datatype))},c=0;c<l[1];c++)d(c);return s},t.prototype.toArray=function(){return pr(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(i){return Mr(this._data,i)},t.prototype.toString=function(){return Mr(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(i){if(i){if(Br(i)&&(i=i.toNumber()),!Sr(i)||!mr(i))throw new TypeError("The parameter k must be an integer number")}else i=0;for(var s=i>0?i:0,l=i<0?-i:0,v=this._size[0],d=this._size[1],c=Math.min(v-l,d-s),h=[],g=0;g<c;g++)h[g]=this._data[g+l][g+s];return new t({data:h,size:[c],datatype:this._datatype})},t.diagonal=function(i,s,l,v){if(!Fr(i))throw new TypeError("Array expected, size parameter");if(i.length!==2)throw new Error("Only two dimensions matrix are supported");if(i=i.map(function(A){if(Br(A)&&(A=A.toNumber()),!Sr(A)||!mr(A)||A<1)throw new Error("Size values must be positive integers");return A}),l){if(Br(l)&&(l=l.toNumber()),!Sr(l)||!mr(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var d=l>0?l:0,c=l<0?-l:0,h=i[0],g=i[1],y=Math.min(h-c,g-d),x;if(Fr(s)){if(s.length!==y)throw new Error("Invalid value array length");x=function(F){return s[F]}}else if(wr(s)){var E=s.size();if(E.length!==1||E[0]!==y)throw new Error("Invalid matrix length");x=function(F){return s.get([F])}}else x=function(){return s};v||(v=Br(x(0))?x(0).mul(0):0);var C=[];if(i.length>0){C=Ye(C,i,v);for(var D=0;D<y;D++)C[D+c][D+d]=x(D)}return new t({data:C,size:[h,g]})},t.fromJSON=function(i){return new t(i)},t.prototype.swapRows=function(i,s){if(!Sr(i)||!mr(i)||!Sr(s)||!mr(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Nr(i,this._size[0]),Nr(s,this._size[0]),t._swapRows(i,s,this._data),this},t._swapRows=function(i,s,l){var v=l[i];l[i]=l[s],l[s]=v};function u(i){for(var s=0,l=i.length;s<l;s++){var v=i[s];Fr(v)?i[s]=u(v):v&&v.isMatrix===!0&&(i[s]=u(v.valueOf()))}return i}return t},{isClass:!0});function Tr(r,e,t){return r&&typeof r.map=="function"?r.map(function(a){return Tr(a,e,t)}):e(r)}var Qo="isInteger",cc=["typed"],$n=P(Qo,cc,r=>{var{typed:e}=r;return e(Qo,{number:mr,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t))})});var oe="number",Se="number, number";function Yn(r){return Math.abs(r)}Yn.signature=oe;function Jn(r,e){return r+e}Jn.signature=Se;function lc(r,e){return r-e}lc.signature=Se;function Kn(r,e){return r*e}Kn.signature=Se;function pc(r,e){return r/e}pc.signature=Se;function Hn(r){return-r}Hn.signature=oe;function vc(r){return r}vc.signature=oe;function mc(r){return uo(r)}mc.signature=oe;function hc(r){return r*r*r}hc.signature=oe;function dc(r){return Math.exp(r)}dc.signature=oe;function gc(r){return so(r)}gc.signature=oe;function Dc(r,e){if(!mr(r)||!mr(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}Dc.signature=Se;function xc(r,e){if(!mr(r)||!mr(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,a=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(a/r)}xc.signature=Se;function yc(r){return io(r)}yc.signature=oe;function wc(r){return ao(r)}wc.signature=oe;function Ac(r){return oo(r)}Ac.signature=oe;function Ec(r,e){if(e>0)return r-e*Math.floor(r/e);if(e===0)return r;throw new Error("Cannot calculate mod for a negative divisor")}Ec.signature=Se;function Yt(r){return no(r)}Yt.signature=oe;function Cc(r){return Math.sqrt(r)}Cc.signature=oe;function Fc(r){return r*r}Fc.signature=oe;function bc(r,e){var t,a,n,o=0,p=1,m=1,f=0;if(!mr(r)||!mr(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)a=Math.floor(r/e),n=r-a*e,t=o,o=p-a*o,p=t,t=m,m=f-a*m,f=t,r=e,e=n;var u;return r<0?u=[-r,-p,-f]:u=[r,r?p:0,f],u}bc.signature=Se;function Wn(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Wn.signature=Se;function Mc(r){return Math.abs(r)}Mc.signature=oe;var xt="number";function Sc(r){return mr(r)}Sc.signature=xt;function Nc(r){return r<0}Nc.signature=xt;function Bc(r){return r>0}Bc.signature=xt;function kn(r){return r===0}kn.signature=xt;function _c(r){return Number.isNaN(r)}_c.signature=xt;var Go="isZero",zc=["typed"],jn=P(Go,zc,r=>{var{typed:e}=r;return e(Go,{number:kn,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:e.referToSelf(t=>a=>e.find(t,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t))})});function ve(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var a=r.minus(e).abs();if(a.isZero())return!0;var n=r.constructor.max(r.abs(),e.abs());return a.lte(n.times(t))}return!1}function Xo(r,e,t){return Kr(r.re,e.re,t)&&Kr(r.im,e.im,t)}var me=P("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(a,n)=>{if(!a.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[a.valueType(),n.valueType()])(a.value,n.value)})}});var Jt="equalScalar",Tc=["typed","config"],ra=P(Jt,Tc,r=>{var{typed:e,config:t}=r,a=me({typed:e});return e(Jt,{"boolean, boolean":function(o,p){return o===p},"number, number":function(o,p){return Kr(o,p,t.epsilon)},"BigNumber, BigNumber":function(o,p){return o.eq(p)||ve(o,p,t.epsilon)},"Fraction, Fraction":function(o,p){return o.equals(p)},"Complex, Complex":function(o,p){return Xo(o,p,t.epsilon)}},a)}),rm=P(Jt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Jt,{"number, number":function(n,o){return Kr(n,o,t.epsilon)}})});var Ic="SparseMatrix",Oc=["typed","equalScalar","Matrix"],ea=P(Ic,Oc,r=>{var{typed:e,equalScalar:t,Matrix:a}=r;function n(c,h){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!Yr(h))throw new Error("Invalid datatype: "+h);if(wr(c))o(this,c,h);else if(c&&Fr(c.index)&&Fr(c.ptr)&&Fr(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=h||c.datatype;else if(Fr(c))p(this,c,h);else{if(c)throw new TypeError("Unsupported type of data ("+Qr(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=h}}function o(c,h,g){h.type==="SparseMatrix"?(c._values=h._values?pr(h._values):void 0,c._index=pr(h._index),c._ptr=pr(h._ptr),c._size=pr(h._size),c._datatype=g||h._datatype):p(c,h.valueOf(),g||h._datatype)}function p(c,h,g){c._values=[],c._index=[],c._ptr=[],c._datatype=g;var y=h.length,x=0,E=t,C=0;if(Yr(g)&&(E=e.find(t,[g,g])||t,C=e.convert(0,g)),y>0){var D=0;do{c._ptr.push(c._index.length);for(var A=0;A<y;A++){var F=h[A];if(Fr(F)){if(D===0&&x<F.length&&(x=F.length),D<F.length){var b=F[D];E(b,C)||(c._values.push(b),c._index.push(A))}}else D===0&&x<1&&(x=1),E(F,C)||(c._values.push(F),c._index.push(A))}D++}while(D<x)}c._ptr.push(c._index.length),c._size=[y,x]}n.prototype=new a,n.prototype.createSparseMatrix=function(c,h){return new n(c,h)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return rt(this._values,Qr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,h){return new n(c,h)},n.prototype.density=function(){var c=this._size[0],h=this._size[1];return c!==0&&h!==0?this._index.length/(c*h):0},n.prototype.subset=function(c,h,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return m(this,c);case 2:case 3:return f(this,c,h,g);default:throw new SyntaxError("Wrong number of arguments")}};function m(c,h){if(!Te(h))throw new TypeError("Invalid index");var g=h.isScalar();if(g)return c.get(h.min());var y=h.size();if(y.length!==c._size.length)throw new hr(y.length,c._size.length);var x,E,C,D,A=h.min(),F=h.max();for(x=0,E=c._size.length;x<E;x++)Nr(A[x],c._size[x]),Nr(F[x],c._size[x]);var b=c._values,w=c._index,S=c._ptr,M=h.dimension(0),I=h.dimension(1),q=[],T=[];M.forEach(function(_,z){T[_]=z[0],q[_]=!0});var B=b?[]:void 0,Q=[],Z=[];return I.forEach(function(_){for(Z.push(Q.length),C=S[_],D=S[_+1];C<D;C++)x=w[C],q[x]===!0&&(Q.push(T[x]),B&&B.push(b[C]))}),Z.push(Q.length),new n({values:B,index:Q,ptr:Z,size:y,datatype:c._datatype})}function f(c,h,g,y){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var x=h.size(),E=h.isScalar(),C;if(wr(g)?(C=g.size(),g=g.toArray()):C=zr(g),E){if(C.length!==0)throw new TypeError("Scalar expected");c.set(h.min(),g,y)}else{if(x.length!==1&&x.length!==2)throw new hr(x.length,c._size.length,"<");if(C.length<x.length){for(var D=0,A=0;x[D]===1&&C[D]===1;)D++;for(;x[D]===1;)A++,D++;g=Ot(g,x.length,A,C)}if(!We(x,C))throw new hr(x,C,">");if(x.length===1){var F=h.dimension(0);F.forEach(function(S,M){Nr(S),c.set([S,0],g[M[0]],y)})}else{var b=h.dimension(0),w=h.dimension(1);b.forEach(function(S,M){Nr(S),w.forEach(function(I,q){Nr(I),c.set([S,I],g[M[0]][q[0]],y)})})}}return c}n.prototype.get=function(c){if(!Fr(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new hr(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var h=c[0],g=c[1];Nr(h,this._size[0]),Nr(g,this._size[1]);var y=u(h,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===h?this._values[y]:0},n.prototype.set=function(c,h,g){if(!Fr(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new hr(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=c[0],x=c[1],E=this._size[0],C=this._size[1],D=t,A=0;Yr(this._datatype)&&(D=e.find(t,[this._datatype,this._datatype])||t,A=e.convert(0,this._datatype)),(y>E-1||x>C-1)&&(l(this,Math.max(y+1,E),Math.max(x+1,C),g),E=this._size[0],C=this._size[1]),Nr(y,E),Nr(x,C);var F=u(y,this._ptr[x],this._ptr[x+1],this._index);return F<this._ptr[x+1]&&this._index[F]===y?D(h,A)?i(F,x,this._values,this._index,this._ptr):this._values[F]=h:D(h,A)||s(F,y,x,h,this._values,this._index,this._ptr),this};function u(c,h,g,y){if(g-h===0)return g;for(var x=h;x<g;x++)if(y[x]===c)return x;return h}function i(c,h,g,y,x){g.splice(c,1),y.splice(c,1);for(var E=h+1;E<x.length;E++)x[E]--}function s(c,h,g,y,x,E,C){x.splice(c,0,y),E.splice(c,0,h);for(var D=g+1;D<C.length;D++)C[D]++}n.prototype.resize=function(c,h,g){if(!Xe(c))throw new TypeError("Array or Matrix expected");var y=c.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(E){if(!Sr(E)||!mr(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Mr(y)+")")});var x=g?this.clone():this;return l(x,y[0],y[1],h)};function l(c,h,g,y){var x=y||0,E=t,C=0;Yr(c._datatype)&&(E=e.find(t,[c._datatype,c._datatype])||t,C=e.convert(0,c._datatype),x=e.convert(x,c._datatype));var D=!E(x,C),A=c._size[0],F=c._size[1],b,w,S;if(g>F){for(w=F;w<g;w++)if(c._ptr[w]=c._values.length,D)for(b=0;b<A;b++)c._values.push(x),c._index.push(b);c._ptr[g]=c._values.length}else g<F&&(c._ptr.splice(g+1,F-g),c._values.splice(c._ptr[g],c._values.length),c._index.splice(c._ptr[g],c._index.length));if(F=g,h>A){if(D){var M=0;for(w=0;w<F;w++){c._ptr[w]=c._ptr[w]+M,S=c._ptr[w+1]+M;var I=0;for(b=A;b<h;b++,I++)c._values.splice(S+I,0,x),c._index.splice(S+I,0,b),M++}c._ptr[F]=c._values.length}}else if(h<A){var q=0;for(w=0;w<F;w++){c._ptr[w]=c._ptr[w]-q;var T=c._ptr[w],B=c._ptr[w+1]-q;for(S=T;S<B;S++)b=c._index[S],b>h-1&&(c._values.splice(S,1),c._index.splice(S,1),q++)}c._ptr[w]=c._values.length}return c._size[0]=h,c._size[1]=g,c}n.prototype.reshape=function(c,h){if(!Fr(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(_){if(!Sr(_)||!mr(_)||_<=-2||_===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Mr(c)+")")});var g=this._size[0]*this._size[1];c=dt(c,g);var y=c[0]*c[1];if(g!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=h?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return x;for(var E=[],C=0;C<x._ptr.length;C++)for(var D=0;D<x._ptr[C+1]-x._ptr[C];D++)E.push(C);for(var A=x._values.slice(),F=x._index.slice(),b=0;b<x._index.length;b++){var w=F[b],S=E[b],M=w*x._size[1]+S;E[b]=M%c[1],F[b]=Math.floor(M/c[1])}x._values.length=0,x._index.length=0,x._ptr.length=c[1]+1,x._size=c.slice();for(var I=0;I<x._ptr.length;I++)x._ptr[I]=0;for(var q=0;q<A.length;q++){var T=F[q],B=E[q],Q=A[q],Z=u(T,x._ptr[B],x._ptr[B+1],x._index);s(Z,T,B,Q,x._values,x._index,x._ptr)}return x},n.prototype.clone=function(){var c=new n({values:this._values?pr(this._values):void 0,index:pr(this._index),ptr:pr(this._ptr),size:pr(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c,h){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],x=this._size[1],E=$t(c),C=function(A,F,b){return E===1?c(A):E===2?c(A,[F,b]):c(A,[F,b],g)};return v(this,0,y-1,0,x-1,C,h)};function v(c,h,g,y,x,E,C){var D=[],A=[],F=[],b=t,w=0;Yr(c._datatype)&&(b=e.find(t,[c._datatype,c._datatype])||t,w=e.convert(0,c._datatype));for(var S=function(V,R,G){V=E(V,R,G),b(V,w)||(D.push(V),A.push(R))},M=y;M<=x;M++){F.push(D.length);var I=c._ptr[M],q=c._ptr[M+1];if(C)for(var T=I;T<q;T++){var B=c._index[T];B>=h&&B<=g&&S(c._values[T],B-h,M-y)}else{for(var Q={},Z=I;Z<q;Z++){var _=c._index[Z];Q[_]=c._values[Z]}for(var z=h;z<=g;z++){var U=z in Q?Q[z]:0;S(U,z-h,M-y)}}}return F.push(D.length),new n({values:D,index:A,ptr:F,size:[g-h+1,x-y+1]})}n.prototype.forEach=function(c,h){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],x=this._size[1],E=0;E<x;E++){var C=this._ptr[E],D=this._ptr[E+1];if(h)for(var A=C;A<D;A++){var F=this._index[A];c(this._values[A],[F,E],g)}else{for(var b={},w=C;w<D;w++){var S=this._index[w];b[S]=this._values[w]}for(var M=0;M<y;M++){var I=M in b?b[M]:0;c(I,[M,E],g)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],h=0;h<c;h++)for(var g=this._ptr[h],y=this._ptr[h+1],x=g;x<y;x++){var E=this._index[x];yield{value:this._values[x],index:[E,h]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(c,h,g,y,x){var E=y[0],C=y[1],D=[],A,F;for(A=0;A<E;A++)for(D[A]=[],F=0;F<C;F++)D[A][F]=0;for(F=0;F<C;F++)for(var b=g[F],w=g[F+1],S=b;S<w;S++)A=h[S],D[A][F]=c?x?pr(c[S]):c[S]:1;return D}return n.prototype.format=function(c){for(var h=this._size[0],g=this._size[1],y=this.density(),x="Sparse Matrix ["+Mr(h,c)+" x "+Mr(g,c)+"] density: "+Mr(y,c)+`
`,E=0;E<g;E++)for(var C=this._ptr[E],D=this._ptr[E+1],A=C;A<D;A++){var F=this._index[A];x+=`
    (`+Mr(F,c)+", "+Mr(E,c)+") ==> "+(this._values?Mr(this._values[A],c):"X")}return x},n.prototype.toString=function(){return Mr(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(Br(c)&&(c=c.toNumber()),!Sr(c)||!mr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var h=c>0?c:0,g=c<0?-c:0,y=this._size[0],x=this._size[1],E=Math.min(y-g,x-h),C=[],D=[],A=[];A[0]=0;for(var F=h;F<x&&C.length<E;F++)for(var b=this._ptr[F],w=this._ptr[F+1],S=b;S<w;S++){var M=this._index[S];if(M===F-h+g){C.push(this._values[S]),D[C.length-1]=M-g;break}}return A.push(C.length),new n({values:C,index:D,ptr:A,size:[E,1]})},n.fromJSON=function(c){return new n(c)},n.diagonal=function(c,h,g,y,x){if(!Fr(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(_){if(Br(_)&&(_=_.toNumber()),!Sr(_)||!mr(_)||_<1)throw new Error("Size values must be positive integers");return _}),g){if(Br(g)&&(g=g.toNumber()),!Sr(g)||!mr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var E=t,C=0;Yr(x)&&(E=e.find(t,[x,x])||t,C=e.convert(0,x));var D=g>0?g:0,A=g<0?-g:0,F=c[0],b=c[1],w=Math.min(F-A,b-D),S;if(Fr(h)){if(h.length!==w)throw new Error("Invalid value array length");S=function(z){return h[z]}}else if(wr(h)){var M=h.size();if(M.length!==1||M[0]!==w)throw new Error("Invalid matrix length");S=function(z){return h.get([z])}}else S=function(){return h};for(var I=[],q=[],T=[],B=0;B<b;B++){T.push(I.length);var Q=B-D;if(Q>=0&&Q<w){var Z=S(Q);E(Z,C)||(q.push(Q+A),I.push(Z))}}return T.push(I.length),new n({values:I,index:q,ptr:T,size:[F,b]})},n.prototype.swapRows=function(c,h){if(!Sr(c)||!mr(c)||!Sr(h)||!mr(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Nr(c,this._size[0]),Nr(h,this._size[0]),n._swapRows(c,h,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(c,h,g,y,x){for(var E=y[c],C=y[c+1],D=E;D<C;D++)x(g[D],h[D])},n._swapRows=function(c,h,g,y,x,E){for(var C=0;C<g;C++){var D=E[C],A=E[C+1],F=u(c,D,A,x),b=u(h,D,A,x);if(F<A&&b<A&&x[F]===c&&x[b]===h){if(y){var w=y[F];y[F]=y[b],y[b]=w}continue}if(F<A&&x[F]===c&&(b>=A||x[b]!==h)){var S=y?y[F]:void 0;x.splice(b,0,h),y&&y.splice(b,0,S),x.splice(b<=F?F+1:F,1),y&&y.splice(b<=F?F+1:F,1);continue}if(b<A&&x[b]===h&&(F>=A||x[F]!==c)){var M=y?y[b]:void 0;x.splice(F,0,c),y&&y.splice(F,0,M),x.splice(F<=b?b+1:b,1),y&&y.splice(F<=b?b+1:b,1)}}},n},{isClass:!0});var Pc="number",qc=["typed"];function Rc(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],a=e[2],n=e[3];return{input:r,radix:t,integerPart:a,fractionalPart:n}}else return null}function Uc(r){for(var e=parseInt(r.integerPart,r.radix),t=0,a=0;a<r.fractionalPart.length;a++){var n=parseInt(r.fractionalPart[a],r.radix);t+=n/Math.pow(r.radix,a+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var ta=P(Pc,qc,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var o=Rc(n);if(o)return Uc(o);var p=0,m=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);m&&(p=Number(m[2]),n=m[1]);var f=Number(n);if(isNaN(f))throw new SyntaxError('String "'+n+'" is no valid number');if(m){if(f>ze(2,p)-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));f>=ze(2,p-1)&&(f=f-ze(2,p))}return f},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),null:function(n){return 0},"Unit, string | Unit":function(n,o){return n.toNumber(o)},"Array | Matrix":e.referToSelf(a=>n=>Tr(n,a))});return t.fromJSON=function(a){return parseFloat(a.value)},t});var Lc="bignumber",Zc=["typed","BigNumber"],na=P(Lc,Zc,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var p=o[2],m=t(o[1]),f=new t(2).pow(Number(p));if(m.gt(f.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var u=new t(2).pow(Number(p)-1);return m.gte(u)?m.sub(f):m}return new t(n)},BigNumber:function(n){return n},Unit:e.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(a=>n=>Tr(n,a))})});var Vc="complex",Qc=["typed","Complex"],aa=P(Vc,Qc,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(n){return new t(n,0)},"number, number":function(n,o){return new t(n,o)},"BigNumber, BigNumber":function(n,o){return new t(n.toNumber(),o.toNumber())},Fraction:function(n){return new t(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return t(n)},null:function(n){return t(0)},Object:function(n){if("re"in n&&"im"in n)return new t(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new t(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(a=>n=>Tr(n,a))})});var Gc="fraction",Xc=["typed","Fraction"],ia=P(Gc,Xc,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,o){return new t(n,o)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(a=>n=>Tr(n,a))})});var $o="matrix",$c=["typed","Matrix","DenseMatrix","SparseMatrix"],oa=P($o,$c,r=>{var{typed:e,Matrix:t,DenseMatrix:a,SparseMatrix:n}=r;return e($o,{"":function(){return o([])},string:function(m){return o([],m)},"string, string":function(m,f){return o([],m,f)},Array:function(m){return o(m)},Matrix:function(m){return o(m,m.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(p,m,f){if(m==="dense"||m==="default"||m===void 0)return new a(p,f);if(m==="sparse")return new n(p,f);throw new TypeError("Unknown matrix type "+JSON.stringify(m)+".")}});var Yo="matrixFromColumns",Yc=["typed","matrix","flatten","size"],ua=P(Yo,Yc,r=>{var{typed:e,matrix:t,flatten:a,size:n}=r;return e(Yo,{"...Array":function(f){return o(f)},"...Matrix":function(f){return t(o(f.map(u=>u.toArray())))}});function o(m){if(m.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var f=p(m[0]),u=[],i=0;i<f;i++)u[i]=[];for(var s of m){var l=p(s);if(l!==f)throw new TypeError("The vectors had different length: "+(f|0)+" \u2260 "+(l|0));for(var v=a(s),d=0;d<f;d++)u[d].push(v[d])}return u}function p(m){var f=n(m);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var Jo="unaryMinus",Jc=["typed"],sa=P(Jo,Jc,r=>{var{typed:e}=r;return e(Jo,{number:Hn,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>a=>{var n=a.clone();return n.value=e.find(t,n.valueType())(a.value),n}),"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t,!0))})});var Ko="abs",Kc=["typed"],fa=P(Ko,Kc,r=>{var{typed:e}=r;return e(Ko,{number:Yn,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t,!0))})});var Ho="addScalar",Hc=["typed"],ca=P(Ho,Hc,r=>{var{typed:e}=r;return e(Ho,{"number, number":Jn,"Complex, Complex":function(a,n){return a.add(n)},"BigNumber, BigNumber":function(a,n){return a.plus(n)},"Fraction, Fraction":function(a,n){return a.add(n)},"Unit, Unit":e.referToSelf(t=>(a,n)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(n))throw new Error("Units do not match");var o=a.clone();return o.value=e.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var Wc="matAlgo11xS0s",kc=["typed","equalScalar"],Wo=P(Wc,kc,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,p,m){var f=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],c,h=t,g=0,y=p;typeof l=="string"&&(c=l,h=e.find(t,[c,c]),g=e.convert(0,c),o=e.convert(o,c),y=e.find(p,[c,c]));for(var x=[],E=[],C=[],D=0;D<d;D++){C[D]=E.length;for(var A=i[D],F=i[D+1],b=A;b<F;b++){var w=u[b],S=m?y(o,f[b]):y(f[b],o);h(S,g)||(E.push(w),x.push(S))}}return C[d]=E.length,n.createSparseMatrix({values:x,index:E,ptr:C,size:[v,d],datatype:c})}});var jc="matAlgo12xSfs",rl=["typed","DenseMatrix"],ue=P(jc,rl,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,o,p,m){var f=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],c,h=p;typeof l=="string"&&(c=l,o=e.convert(o,c),h=e.find(p,[c,c]));for(var g=[],y=[],x=[],E=0;E<d;E++){for(var C=E+1,D=i[E],A=i[E+1],F=D;F<A;F++){var b=u[F];y[b]=f[F],x[b]=C}for(var w=0;w<v;w++)E===0&&(g[w]=[]),x[w]===C?g[w][E]=m?h(o,y[w]):h(y[w],o):g[w][E]=m?h(o,0):h(0,o)}return new t({data:g,size:[v,d],datatype:c})}});var el="matAlgo14xDs",tl=["typed"],Kt=P(el,tl,r=>{var{typed:e}=r;return function(n,o,p,m){var f=n._data,u=n._size,i=n._datatype,s,l=p;typeof i=="string"&&(s=i,o=e.convert(o,s),l=e.find(p,[s,s]));var v=u.length>0?t(l,0,u,u[0],f,o,m):[];return n.createDenseMatrix({data:v,size:pr(u),datatype:s})};function t(a,n,o,p,m,f,u){var i=[];if(n===o.length-1)for(var s=0;s<p;s++)i[s]=u?a(f,m[s]):a(m[s],f);else for(var l=0;l<p;l++)i[l]=t(a,n+1,o,o[n+1],m[l],f,u);return i}});var nl="matAlgo01xDSid",al=["typed"],Ht=P(nl,al,r=>{var{typed:e}=r;return function(a,n,o,p){var m=a._data,f=a._size,u=a._datatype,i=n._values,s=n._index,l=n._ptr,v=n._size,d=n._datatype;if(f.length!==v.length)throw new hr(f.length,v.length);if(f[0]!==v[0]||f[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+v+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=f[0],h=f[1],g=typeof u=="string"&&u===d?u:void 0,y=g?e.find(o,[g,g]):o,x,E,C=[];for(x=0;x<c;x++)C[x]=[];var D=[],A=[];for(E=0;E<h;E++){for(var F=E+1,b=l[E],w=l[E+1],S=b;S<w;S++)x=s[S],D[x]=p?y(i[S],m[x][E]):y(m[x][E],i[S]),A[x]=F;for(x=0;x<c;x++)A[x]===F?C[x][E]=D[x]:C[x][E]=m[x][E]}return a.createDenseMatrix({data:C,size:[c,h],datatype:g})}});var il="matAlgo04xSidSid",ol=["typed","equalScalar"],ko=P(il,ol,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,p){var m=n._values,f=n._index,u=n._ptr,i=n._size,s=n._datatype,l=o._values,v=o._index,d=o._ptr,c=o._size,h=o._datatype;if(i.length!==c.length)throw new hr(i.length,c.length);if(i[0]!==c[0]||i[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+c+")");var g=i[0],y=i[1],x,E=t,C=0,D=p;typeof s=="string"&&s===h&&(x=s,E=e.find(t,[x,x]),C=e.convert(0,x),D=e.find(p,[x,x]));var A=m&&l?[]:void 0,F=[],b=[],w=m&&l?[]:void 0,S=m&&l?[]:void 0,M=[],I=[],q,T,B,Q,Z;for(T=0;T<y;T++){b[T]=F.length;var _=T+1;for(Q=u[T],Z=u[T+1],B=Q;B<Z;B++)q=f[B],F.push(q),M[q]=_,w&&(w[q]=m[B]);for(Q=d[T],Z=d[T+1],B=Q;B<Z;B++)if(q=v[B],M[q]===_){if(w){var z=D(w[q],l[B]);E(z,C)?M[q]=null:w[q]=z}}else F.push(q),I[q]=_,S&&(S[q]=l[B]);if(w&&S)for(B=b[T];B<F.length;)q=F[B],M[q]===_?(A[B]=w[q],B++):I[q]===_?(A[B]=S[q],B++):F.splice(B,1)}return b[y]=F.length,n.createSparseMatrix({values:A,index:F,ptr:b,size:[g,y],datatype:x})}});var ul="matAlgo10xSids",sl=["typed","DenseMatrix"],Wt=P(ul,sl,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,o,p,m){var f=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],c,h=p;typeof l=="string"&&(c=l,o=e.convert(o,c),h=e.find(p,[c,c]));for(var g=[],y=[],x=[],E=0;E<d;E++){for(var C=E+1,D=i[E],A=i[E+1],F=D;F<A;F++){var b=u[F];y[b]=f[F],x[b]=C}for(var w=0;w<v;w++)E===0&&(g[w]=[]),x[w]===C?g[w][E]=m?h(o,y[w]):h(y[w],o):g[w][E]=o}return new t({data:g,size:[v,d],datatype:c})}});var fl="matAlgo13xDD",cl=["typed"],jo=P(fl,cl,r=>{var{typed:e}=r;return function(n,o,p){var m=n._data,f=n._size,u=n._datatype,i=o._data,s=o._size,l=o._datatype,v=[];if(f.length!==s.length)throw new hr(f.length,s.length);for(var d=0;d<f.length;d++){if(f[d]!==s[d])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+s+")");v[d]=f[d]}var c,h=p;typeof u=="string"&&u===l&&(c=u,h=e.find(p,[c,c]));var g=v.length>0?t(h,0,v,v[0],m,i):[];return n.createDenseMatrix({data:g,size:v,datatype:c})};function t(a,n,o,p,m,f){var u=[];if(n===o.length-1)for(var i=0;i<p;i++)u[i]=a(m[i],f[i]);else for(var s=0;s<p;s++)u[s]=t(a,n+1,o,o[n+1],m[s],f[s]);return u}});var ll="broadcast",pl=["concat"],ru=P(ll,pl,r=>{var{concat:e}=r;return function(o,p){var m=Math.max(o._size.length,p._size.length);if(o._size.length===p._size.length&&o._size.every((h,g)=>h===p._size[g]))return[o,p];for(var f=t(o._size,m,0),u=t(p._size,m,0),i=[],s=0;s<m;s++)i[s]=Math.max(f[s],u[s]);for(var l=0;l<m;l++)n(f,i,l),n(u,i,l);var v=o.clone(),d=p.clone();v._size.length<m?v.reshape(t(v._size,m,1)):d._size.length<m&&d.reshape(t(d._size,m,1));for(var c=0;c<m;c++)v._size[c]<i[c]&&(v=a(v,i[c],c)),d._size[c]<i[c]&&(d=a(d,i[c],c));return[v,d]};function t(o,p,m){return[...Array(p-o.length).fill(m),...o]}function a(o,p,m){return e(...Array(p).fill(o),m)}function n(o,p,m){if(o[m]<p[m]&o[m]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(o,") not possible to broadcast dimension ").concat(m," with size ").concat(o[m]," to size ").concat(p[m]))}});var vl="matrixAlgorithmSuite",ml=["typed","matrix","concat"],Wr=P(vl,ml,r=>{var{typed:e,matrix:t,concat:a}=r,n=jo({typed:e}),o=Kt({typed:e}),p=ru({concat:a});return function(f){var u=f.elop,i=f.SD||f.DS,s;u?(s={"DenseMatrix, DenseMatrix":(c,h)=>n(...p(c,h),u),"Array, Array":(c,h)=>n(...p(t(c),t(h)),u).valueOf(),"Array, DenseMatrix":(c,h)=>n(...p(t(c),h),u),"DenseMatrix, Array":(c,h)=>n(...p(c,t(h)),u)},f.SS&&(s["SparseMatrix, SparseMatrix"]=(c,h)=>f.SS(...p(c,h),u,!1)),f.DS&&(s["DenseMatrix, SparseMatrix"]=(c,h)=>f.DS(...p(c,h),u,!1),s["Array, SparseMatrix"]=(c,h)=>f.DS(...p(t(c),h),u,!1)),i&&(s["SparseMatrix, DenseMatrix"]=(c,h)=>i(...p(h,c),u,!0),s["SparseMatrix, Array"]=(c,h)=>i(...p(t(h),c),u,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(c=>(h,g)=>n(...p(h,g),c)),"Array, Array":e.referToSelf(c=>(h,g)=>n(...p(t(h),t(g)),c).valueOf()),"Array, DenseMatrix":e.referToSelf(c=>(h,g)=>n(...p(t(h),g),c)),"DenseMatrix, Array":e.referToSelf(c=>(h,g)=>n(...p(h,t(g)),c))},f.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(c=>(h,g)=>f.SS(...p(h,g),c,!1))),f.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(c=>(h,g)=>f.DS(...p(h,g),c,!1)),s["Array, SparseMatrix"]=e.referToSelf(c=>(h,g)=>f.DS(...p(t(h),g),c,!1))),i&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(c=>(h,g)=>i(...p(g,h),c,!0)),s["SparseMatrix, Array"]=e.referToSelf(c=>(h,g)=>i(...p(t(g),h),c,!0))));var l=f.scalar||"any",v=f.Ds||f.Ss;v&&(u?(s["DenseMatrix,"+l]=(c,h)=>o(c,h,u,!1),s[l+", DenseMatrix"]=(c,h)=>o(h,c,u,!0),s["Array,"+l]=(c,h)=>o(t(c),h,u,!1).valueOf(),s[l+", Array"]=(c,h)=>o(t(h),c,u,!0).valueOf()):(s["DenseMatrix,"+l]=e.referToSelf(c=>(h,g)=>o(h,g,c,!1)),s[l+", DenseMatrix"]=e.referToSelf(c=>(h,g)=>o(g,h,c,!0)),s["Array,"+l]=e.referToSelf(c=>(h,g)=>o(t(h),g,c,!1).valueOf()),s[l+", Array"]=e.referToSelf(c=>(h,g)=>o(t(g),h,c,!0).valueOf())));var d=f.sS!==void 0?f.sS:f.Ss;return u?(f.Ss&&(s["SparseMatrix,"+l]=(c,h)=>f.Ss(c,h,u,!1)),d&&(s[l+", SparseMatrix"]=(c,h)=>d(h,c,u,!0))):(f.Ss&&(s["SparseMatrix,"+l]=e.referToSelf(c=>(h,g)=>f.Ss(h,g,c,!1))),d&&(s[l+", SparseMatrix"]=e.referToSelf(c=>(h,g)=>d(g,h,c,!0)))),u&&u.signatures&&ki(s,u.signatures),s}});var hl="matAlgo03xDSf",dl=["typed"],se=P(hl,dl,r=>{var{typed:e}=r;return function(a,n,o,p){var m=a._data,f=a._size,u=a._datatype,i=n._values,s=n._index,l=n._ptr,v=n._size,d=n._datatype;if(f.length!==v.length)throw new hr(f.length,v.length);if(f[0]!==v[0]||f[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+v+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=f[0],h=f[1],g,y=0,x=o;typeof u=="string"&&u===d&&(g=u,y=e.convert(0,g),x=e.find(o,[g,g]));for(var E=[],C=0;C<c;C++)E[C]=[];for(var D=[],A=[],F=0;F<h;F++){for(var b=F+1,w=l[F],S=l[F+1],M=w;M<S;M++){var I=s[M];D[I]=p?x(i[M],m[I][F]):x(m[I][F],i[M]),A[I]=b}for(var q=0;q<c;q++)A[q]===b?E[q][F]=D[q]:E[q][F]=p?x(y,m[q][F]):x(m[q][F],y)}return a.createDenseMatrix({data:E,size:[c,h],datatype:g})}});var gl="matAlgo05xSfSf",Dl=["typed","equalScalar"],kt=P(gl,Dl,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,p){var m=n._values,f=n._index,u=n._ptr,i=n._size,s=n._datatype,l=o._values,v=o._index,d=o._ptr,c=o._size,h=o._datatype;if(i.length!==c.length)throw new hr(i.length,c.length);if(i[0]!==c[0]||i[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+c+")");var g=i[0],y=i[1],x,E=t,C=0,D=p;typeof s=="string"&&s===h&&(x=s,E=e.find(t,[x,x]),C=e.convert(0,x),D=e.find(p,[x,x]));var A=m&&l?[]:void 0,F=[],b=[],w=A?[]:void 0,S=A?[]:void 0,M=[],I=[],q,T,B,Q;for(T=0;T<y;T++){b[T]=F.length;var Z=T+1;for(B=u[T],Q=u[T+1];B<Q;B++)q=f[B],F.push(q),M[q]=Z,w&&(w[q]=m[B]);for(B=d[T],Q=d[T+1];B<Q;B++)q=v[B],M[q]!==Z&&F.push(q),I[q]=Z,S&&(S[q]=l[B]);if(A)for(B=b[T];B<F.length;){q=F[B];var _=M[q],z=I[q];if(_===Z||z===Z){var U=_===Z?w[q]:C,H=z===Z?S[q]:C,V=D(U,H);E(V,C)?F.splice(B,1):(A.push(V),B++)}}}return b[y]=F.length,n.createSparseMatrix({values:A,index:F,ptr:b,size:[g,y],datatype:x})}});var xl="multiplyScalar",yl=["typed"],la=P(xl,yl,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Kn,"Complex, Complex":function(a,n){return a.mul(n)},"BigNumber, BigNumber":function(a,n){return a.times(n)},"Fraction, Fraction":function(a,n){return a.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,a)=>a.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,a)=>t.multiply(a)})});var eu="multiply",wl=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],pa=P(eu,wl,r=>{var{typed:e,matrix:t,addScalar:a,multiplyScalar:n,equalScalar:o,dot:p}=r,m=Wo({typed:e,equalScalar:o}),f=Kt({typed:e});function u(C,D){switch(C.length){case 1:switch(D.length){case 1:if(C[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(C[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+D[0]+")");break;case 2:if(C[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function i(C,D,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return p(C,D)}function s(C,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(C,D)}function l(C,D){var A=C._data,F=C._size,b=C._datatype,w=D._data,S=D._size,M=D._datatype,I=F[0],q=S[1],T,B=a,Q=n;b&&M&&b===M&&typeof b=="string"&&(T=b,B=e.find(a,[T,T]),Q=e.find(n,[T,T]));for(var Z=[],_=0;_<q;_++){for(var z=Q(A[0],w[0][_]),U=1;U<I;U++)z=B(z,Q(A[U],w[U][_]));Z[_]=z}return C.createDenseMatrix({data:Z,size:[q],datatype:T})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":y}),d=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":h,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":E});function c(C,D){var A=C._data,F=C._size,b=C._datatype,w=D._data,S=D._datatype,M=F[0],I=F[1],q,T=a,B=n;b&&S&&b===S&&typeof b=="string"&&(q=b,T=e.find(a,[q,q]),B=e.find(n,[q,q]));for(var Q=[],Z=0;Z<M;Z++){for(var _=A[Z],z=B(_[0],w[0]),U=1;U<I;U++)z=T(z,B(_[U],w[U]));Q[Z]=z}return C.createDenseMatrix({data:Q,size:[M],datatype:q})}function h(C,D){var A=C._data,F=C._size,b=C._datatype,w=D._data,S=D._size,M=D._datatype,I=F[0],q=F[1],T=S[1],B,Q=a,Z=n;b&&M&&b===M&&typeof b=="string"&&(B=b,Q=e.find(a,[B,B]),Z=e.find(n,[B,B]));for(var _=[],z=0;z<I;z++){var U=A[z];_[z]=[];for(var H=0;H<T;H++){for(var V=Z(U[0],w[0][H]),R=1;R<q;R++)V=Q(V,Z(U[R],w[R][H]));_[z][H]=V}}return C.createDenseMatrix({data:_,size:[I,T],datatype:B})}function g(C,D){var A=C._data,F=C._size,b=C._datatype,w=D._values,S=D._index,M=D._ptr,I=D._size,q=D._datatype;if(!w)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var T=F[0],B=I[1],Q,Z=a,_=n,z=o,U=0;b&&q&&b===q&&typeof b=="string"&&(Q=b,Z=e.find(a,[Q,Q]),_=e.find(n,[Q,Q]),z=e.find(o,[Q,Q]),U=e.convert(0,Q));for(var H=[],V=[],R=[],G=D.createSparseMatrix({values:H,index:V,ptr:R,size:[T,B],datatype:Q}),$=0;$<B;$++){R[$]=V.length;var W=M[$],er=M[$+1];if(er>W)for(var nr=0,X=0;X<T;X++){for(var gr=X+1,cr=void 0,ir=W;ir<er;ir++){var or=S[ir];nr!==gr?(cr=_(A[X][or],w[ir]),nr=gr):cr=Z(cr,_(A[X][or],w[ir]))}nr===gr&&!z(cr,U)&&(V.push(X),H.push(cr))}}return R[B]=V.length,G}function y(C,D){var A=C._values,F=C._index,b=C._ptr,w=C._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=D._data,M=D._datatype,I=C._size[0],q=D._size[0],T=[],B=[],Q=[],Z,_=a,z=n,U=o,H=0;w&&M&&w===M&&typeof w=="string"&&(Z=w,_=e.find(a,[Z,Z]),z=e.find(n,[Z,Z]),U=e.find(o,[Z,Z]),H=e.convert(0,Z));var V=[],R=[];Q[0]=0;for(var G=0;G<q;G++){var $=S[G];if(!U($,H))for(var W=b[G],er=b[G+1],nr=W;nr<er;nr++){var X=F[nr];R[X]?V[X]=_(V[X],z($,A[nr])):(R[X]=!0,B.push(X),V[X]=z($,A[nr]))}}for(var gr=B.length,cr=0;cr<gr;cr++){var ir=B[cr];T[cr]=V[ir]}return Q[1]=B.length,C.createSparseMatrix({values:T,index:B,ptr:Q,size:[I,1],datatype:Z})}function x(C,D){var A=C._values,F=C._index,b=C._ptr,w=C._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=D._data,M=D._datatype,I=C._size[0],q=D._size[0],T=D._size[1],B,Q=a,Z=n,_=o,z=0;w&&M&&w===M&&typeof w=="string"&&(B=w,Q=e.find(a,[B,B]),Z=e.find(n,[B,B]),_=e.find(o,[B,B]),z=e.convert(0,B));for(var U=[],H=[],V=[],R=C.createSparseMatrix({values:U,index:H,ptr:V,size:[I,T],datatype:B}),G=[],$=[],W=0;W<T;W++){V[W]=H.length;for(var er=W+1,nr=0;nr<q;nr++){var X=S[nr][W];if(!_(X,z))for(var gr=b[nr],cr=b[nr+1],ir=gr;ir<cr;ir++){var or=F[ir];$[or]!==er?($[or]=er,H.push(or),G[or]=Z(X,A[ir])):G[or]=Q(G[or],Z(X,A[ir]))}}for(var xr=V[W],Ar=H.length,Cr=xr;Cr<Ar;Cr++){var fr=H[Cr];U[Cr]=G[fr]}}return V[T]=H.length,R}function E(C,D){var A=C._values,F=C._index,b=C._ptr,w=C._datatype,S=D._values,M=D._index,I=D._ptr,q=D._datatype,T=C._size[0],B=D._size[1],Q=A&&S,Z,_=a,z=n;w&&q&&w===q&&typeof w=="string"&&(Z=w,_=e.find(a,[Z,Z]),z=e.find(n,[Z,Z]));for(var U=Q?[]:void 0,H=[],V=[],R=C.createSparseMatrix({values:U,index:H,ptr:V,size:[T,B],datatype:Z}),G=Q?[]:void 0,$=[],W,er,nr,X,gr,cr,ir,or,xr=0;xr<B;xr++){V[xr]=H.length;var Ar=xr+1;for(gr=I[xr],cr=I[xr+1],X=gr;X<cr;X++)if(or=M[X],Q)for(er=b[or],nr=b[or+1],W=er;W<nr;W++)ir=F[W],$[ir]!==Ar?($[ir]=Ar,H.push(ir),G[ir]=z(S[X],A[W])):G[ir]=_(G[ir],z(S[X],A[W]));else for(er=b[or],nr=b[or+1],W=er;W<nr;W++)ir=F[W],$[ir]!==Ar&&($[ir]=Ar,H.push(ir));if(Q)for(var Cr=V[xr],fr=H.length,yr=Cr;yr<fr;yr++){var br=H[yr];U[yr]=G[br]}}return V[B]=H.length,R}return e(eu,n,{"Array, Array":e.referTo("Matrix, Matrix",C=>(D,A)=>{u(zr(D),zr(A));var F=C(t(D),t(A));return wr(F)?F.valueOf():F}),"Matrix, Matrix":function(D,A){var F=D.size(),b=A.size();return u(F,b),F.length===1?b.length===1?i(D,A,F[0]):s(D,A):b.length===1?v(D,A):d(D,A)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(D,A)=>C(D,t(A))),"Array, Matrix":e.referToSelf(C=>(D,A)=>C(t(D,A.storage()),A)),"SparseMatrix, any":function(D,A){return m(D,A,n,!1)},"DenseMatrix, any":function(D,A){return f(D,A,n,!1)},"any, SparseMatrix":function(D,A){return m(A,D,n,!0)},"any, DenseMatrix":function(D,A){return f(A,D,n,!0)},"Array, any":function(D,A){return f(t(D),A,n,!1).valueOf()},"any, Array":function(D,A){return f(t(A),D,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(C=>(D,A,F)=>{for(var b=C(D,A),w=0;w<F.length;w++)b=C(b,F[w]);return b})})});var tu="sign",Al=["typed","BigNumber","Fraction","complex"],va=P(tu,Al,r=>{var{typed:e,BigNumber:t,complex:a,Fraction:n}=r;return e(tu,{number:Yt,Complex:function(p){return p.im===0?a(Yt(p.re)):p.sign()},BigNumber:function(p){return new t(p.cmp(0))},Fraction:function(p){return new n(p.s,1)},"Array | Matrix":e.referToSelf(o=>p=>Tr(p,o,!0)),Unit:e.referToSelf(o=>p=>{if(!p._isDerived()&&p.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,p.valueType())(p.value)})})});var El="sqrt",Cl=["config","typed","Complex"],ma=P(El,Cl,r=>{var{config:e,typed:t,Complex:a}=r;return t("sqrt",{number:n,Complex:function(p){return p.sqrt()},BigNumber:function(p){return!p.isNegative()||e.predictable?p.sqrt():n(p.toNumber())},Unit:function(p){return p.pow(.5)}});function n(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new a(o,0).sqrt()}});var nu="subtract",Fl=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],ha=P(nu,Fl,r=>{var{typed:e,matrix:t,equalScalar:a,addScalar:n,unaryMinus:o,DenseMatrix:p,concat:m}=r,f=Ht({typed:e}),u=se({typed:e}),i=kt({typed:e,equalScalar:a}),s=Wt({typed:e,DenseMatrix:p}),l=ue({typed:e,DenseMatrix:p}),v=Wr({typed:e,matrix:t,concat:m});return e(nu,{"number, number":(d,c)=>d-c,"Complex, Complex":(d,c)=>d.sub(c),"BigNumber, BigNumber":(d,c)=>d.minus(c),"Fraction, Fraction":(d,c)=>d.sub(c),"Unit, Unit":e.referToSelf(d=>(c,h)=>{if(c.value===null)throw new Error("Parameter x contains a unit with undefined value");if(h.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!c.equalBase(h))throw new Error("Units do not match");var g=c.clone();return g.value=e.find(d,[g.valueType(),h.valueType()])(g.value,h.value),g.fixPrefix=!1,g})},v({SS:i,DS:f,SD:u,Ss:l,sS:s}))});var bl="matAlgo07xSSf",Ml=["typed","DenseMatrix"],Ee=P(bl,Ml,r=>{var{typed:e,DenseMatrix:t}=r;return function(o,p,m){var f=o._size,u=o._datatype,i=p._size,s=p._datatype;if(f.length!==i.length)throw new hr(f.length,i.length);if(f[0]!==i[0]||f[1]!==i[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+i+")");var l=f[0],v=f[1],d,c=0,h=m;typeof u=="string"&&u===s&&(d=u,c=e.convert(0,d),h=e.find(m,[d,d]));var g,y,x=[];for(g=0;g<l;g++)x[g]=[];var E=[],C=[],D=[],A=[];for(y=0;y<v;y++){var F=y+1;for(a(o,y,D,E,F),a(p,y,A,C,F),g=0;g<l;g++){var b=D[g]===F?E[g]:c,w=A[g]===F?C[g]:c;x[g][y]=h(b,w)}}return new t({data:x,size:[l,v],datatype:d})};function a(n,o,p,m,f){for(var u=n._values,i=n._index,s=n._ptr,l=s[o],v=s[o+1];l<v;l++){var d=i[l];p[d]=f,m[d]=u[l]}}});var au="conj",Sl=["typed"],da=P(au,Sl,r=>{var{typed:e}=r;return e(au,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t))})});var iu="im",Nl=["typed"],ga=P(iu,Nl,r=>{var{typed:e}=r;return e(iu,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t))})});var ou="re",Bl=["typed"],Da=P(ou,Bl,r=>{var{typed:e}=r;return e(ou,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>a=>Tr(a,t))})});var uu="concat",_l=["typed","matrix","isInteger"],xa=P(uu,_l,r=>{var{typed:e,matrix:t,isInteger:a}=r;return e(uu,{"...Array | Matrix | number | BigNumber":function(o){var p,m=o.length,f=-1,u,i=!1,s=[];for(p=0;p<m;p++){var l=o[p];if(wr(l)&&(i=!0),Sr(l)||Br(l)){if(p!==m-1)throw new Error("Dimension must be specified as last argument");if(u=f,f=l.valueOf(),!a(f))throw new TypeError("Integer number expected for dimension");if(f<0||p>0&&f>u)throw new be(f,u+1)}else{var v=pr(l).valueOf(),d=zr(v);if(s[p]=v,u=f,f=d.length-1,p>0&&f!==u)throw new hr(u+1,f+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var c=s.shift();s.length;)c=su(c,s.shift(),f,0);return i?t(c):c},"...string":function(o){return o.join("")}})});function su(r,e,t,a){if(a<t){if(r.length!==e.length)throw new hr(r.length,e.length);for(var n=[],o=0;o<r.length;o++)n[o]=su(r[o],e[o],t,a+1);return n}else return r.concat(e)}var fu="column",zl=["typed","Index","matrix","range"],ya=P(fu,zl,r=>{var{typed:e,Index:t,matrix:a,range:n}=r;return e(fu,{"Matrix, number":o,"Array, number":function(m,f){return o(a(pr(m)),f).valueOf()}});function o(p,m){if(p.size().length!==2)throw new Error("Only two dimensional matrix is supported");Nr(m,p.size()[1]);var f=n(0,p.size()[0]),u=new t(f,m),i=p.subset(u);return wr(i)?i:a([[i]])}});var cu="diag",Tl=["typed","matrix","DenseMatrix","SparseMatrix"],wa=P(cu,Tl,r=>{var{typed:e,matrix:t,DenseMatrix:a,SparseMatrix:n}=r;return e(cu,{Array:function(u){return o(u,0,zr(u),null)},"Array, number":function(u,i){return o(u,i,zr(u),null)},"Array, BigNumber":function(u,i){return o(u,i.toNumber(),zr(u),null)},"Array, string":function(u,i){return o(u,0,zr(u),i)},"Array, number, string":function(u,i,s){return o(u,i,zr(u),s)},"Array, BigNumber, string":function(u,i,s){return o(u,i.toNumber(),zr(u),s)},Matrix:function(u){return o(u,0,u.size(),u.storage())},"Matrix, number":function(u,i){return o(u,i,u.size(),u.storage())},"Matrix, BigNumber":function(u,i){return o(u,i.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,i){return o(u,0,u.size(),i)},"Matrix, number, string":function(u,i,s){return o(u,i,u.size(),s)},"Matrix, BigNumber, string":function(u,i,s){return o(u,i.toNumber(),u.size(),s)}});function o(f,u,i,s){if(!mr(u))throw new TypeError("Second parameter in function diag must be an integer");var l=u>0?u:0,v=u<0?-u:0;switch(i.length){case 1:return p(f,u,s,i[0],v,l);case 2:return m(f,u,s,i,v,l)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function p(f,u,i,s,l,v){var d=[s+l,s+v];if(i&&i!=="sparse"&&i!=="dense")throw new TypeError("Unknown matrix type ".concat(i,'"'));var c=i==="sparse"?n.diagonal(d,f,u):a.diagonal(d,f,u);return i!==null?c:c.valueOf()}function m(f,u,i,s,l,v){if(wr(f)){var d=f.diagonal(u);return i!==null?i!==d.storage()?t(d,i):d:d.valueOf()}for(var c=Math.min(s[0]-l,s[1]-v),h=[],g=0;g<c;g++)h[g]=f[g+l][g+v];return i!==null?t(h):h}});var lu="flatten",Il=["typed","matrix"],Aa=P(lu,Il,r=>{var{typed:e,matrix:t}=r;return e(lu,{Array:function(n){return Ie(n)},Matrix:function(n){var o=Ie(n.toArray());return t(o)}})});var pu="identity",Ol=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ea=P(pu,Ol,r=>{var{typed:e,config:t,matrix:a,BigNumber:n,DenseMatrix:o,SparseMatrix:p}=r;return e(pu,{"":function(){return t.matrix==="Matrix"?a([]):[]},string:function(i){return a(i)},"number | BigNumber":function(i){return f(i,i,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(i,s){return f(i,i,s)},"number | BigNumber, number | BigNumber":function(i,s){return f(i,s,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(i,s,l){return f(i,s,l)},Array:function(i){return m(i)},"Array, string":function(i,s){return m(i,s)},Matrix:function(i){return m(i.valueOf(),i.storage())},"Matrix, string":function(i,s){return m(i.valueOf(),s)}});function m(u,i){switch(u.length){case 0:return i?a(i):[];case 1:return f(u[0],u[0],i);case 2:return f(u[0],u[1],i);default:throw new Error("Vector containing two values expected")}}function f(u,i,s){var l=Br(u)||Br(i)?n:null;if(Br(u)&&(u=u.toNumber()),Br(i)&&(i=i.toNumber()),!mr(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!mr(i)||i<1)throw new Error("Parameters in function identity must be positive integers");var v=l?new n(1):1,d=l?new l(0):0,c=[u,i];if(s){if(s==="sparse")return p.diagonal(c,v,0,d);if(s==="dense")return o.diagonal(c,v,0,d);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var h=Ye([],c,d),g=u<i?u:i,y=0;y<g;y++)h[y][y]=v;return h}});function jt(){throw new Error('No "bignumber" implementation available')}function vu(){throw new Error('No "fraction" implementation available')}function rn(){throw new Error('No "matrix" implementation available')}var mu="range",Pl=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],Ca=P(mu,Pl,r=>{var{typed:e,config:t,matrix:a,bignumber:n,smaller:o,smallerEq:p,larger:m,largerEq:f}=r;return e(mu,{string:i,"string, boolean":i,"number, number":function(g,y){return u(s(g,y,1))},"number, number, number":function(g,y,x){return u(s(g,y,x))},"number, number, boolean":function(g,y,x){return u(x?l(g,y,1):s(g,y,1))},"number, number, number, boolean":function(g,y,x,E){return u(E?l(g,y,x):s(g,y,x))},"BigNumber, BigNumber":function(g,y){var x=g.constructor;return u(v(g,y,new x(1)))},"BigNumber, BigNumber, BigNumber":function(g,y,x){return u(v(g,y,x))},"BigNumber, BigNumber, boolean":function(g,y,x){var E=g.constructor;return u(x?d(g,y,new E(1)):v(g,y,new E(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(g,y,x,E){return u(E?d(g,y,x):v(g,y,x))}});function u(h){return t.matrix==="Matrix"?a?a(h):rn():h}function i(h,g){var y=c(h);if(!y)throw new SyntaxError('String "'+h+'" is no valid range');var x;return t.number==="BigNumber"?(n===void 0&&jt(),x=g?d:v,u(x(n(y.start),n(y.end),n(y.step)))):(x=g?l:s,u(x(y.start,y.end,y.step)))}function s(h,g,y){var x=[],E=h;if(y>0)for(;o(E,g);)x.push(E),E+=y;else if(y<0)for(;m(E,g);)x.push(E),E+=y;return x}function l(h,g,y){var x=[],E=h;if(y>0)for(;p(E,g);)x.push(E),E+=y;else if(y<0)for(;f(E,g);)x.push(E),E+=y;return x}function v(h,g,y){var x=n(0),E=[],C=h;if(y.gt(x))for(;o(C,g);)E.push(C),C=C.plus(y);else if(y.lt(x))for(;m(C,g);)E.push(C),C=C.plus(y);return E}function d(h,g,y){var x=n(0),E=[],C=h;if(y.gt(x))for(;p(C,g);)E.push(C),C=C.plus(y);else if(y.lt(x))for(;f(C,g);)E.push(C),C=C.plus(y);return E}function c(h){var g=h.split(":"),y=g.map(function(E){return Number(E)}),x=y.some(function(E){return isNaN(E)});if(x)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var hu="size",ql=["typed","config","?matrix"],Fa=P(hu,ql,r=>{var{typed:e,config:t,matrix:a}=r;return e(hu,{Matrix:function(o){return o.create(o.size())},Array:zr,string:function(o){return t.matrix==="Array"?[o.length]:a([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:a?a([]):rn()}})});var du="subset",Rl=["typed","matrix"],ba=P(du,Rl,r=>{var{typed:e,matrix:t}=r;return e(du,{"Array, Index":function(n,o){var p=t(n),m=p.subset(o);return o.isScalar()?m:m.valueOf()},"Matrix, Index":function(n,o){return n.subset(o)},"Object, Index":Ll,"string, Index":Ul,"Array, Index, any":function(n,o,p){return t(pr(n)).subset(o,p,void 0).valueOf()},"Array, Index, any, any":function(n,o,p,m){return t(pr(n)).subset(o,p,m).valueOf()},"Matrix, Index, any":function(n,o,p){return n.clone().subset(o,p)},"Matrix, Index, any, any":function(n,o,p,m){return n.clone().subset(o,p,m)},"string, Index, string":gu,"string, Index, string, string":gu,"Object, Index, any":Zl})});function Ul(r,e){if(!Te(e))throw new TypeError("Index expected");if(e.size().length!==1)throw new hr(e.size().length,1);var t=r.length;Nr(e.min()[0],t),Nr(e.max()[0],t);var a=e.dimension(0),n="";return a.forEach(function(o){n+=r.charAt(o)}),n}function gu(r,e,t,a){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(e.size().length!==1)throw new hr(e.size().length,1);if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";var n=e.dimension(0),o=n.size()[0];if(o!==t.length)throw new hr(n.size()[0],t.length);var p=r.length;Nr(e.min()[0]),Nr(e.max()[0]);for(var m=[],f=0;f<p;f++)m[f]=r.charAt(f);if(n.forEach(function(s,l){m[s]=t.charAt(l[0])}),m.length>p)for(var u=p-1,i=m.length;u<i;u++)m[u]||(m[u]=a);return m.join("")}function Ll(r,e){if(e.size().length!==1)throw new hr(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Pt(r,t)}function Zl(r,e,t){if(e.size().length!==1)throw new hr(e.size(),1);var a=e.dimension(0);if(typeof a!="string")throw new TypeError("String expected as index to retrieve an object property");var n=pr(r);return qt(n,a,t),n}var Du="transpose",Vl=["typed","matrix"],Ma=P(Du,Vl,r=>{var{typed:e,matrix:t}=r;return e(Du,{Array:p=>a(t(p)).valueOf(),Matrix:a,any:pr});function a(p){var m=p.size(),f;switch(m.length){case 1:f=p.clone();break;case 2:{var u=m[0],i=m[1];if(i===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Mr(m)+")");switch(p.storage()){case"dense":f=n(p,u,i);break;case"sparse":f=o(p,u,i);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Mr(m)+")")}return f}function n(p,m,f){for(var u=p._data,i=[],s,l=0;l<f;l++){s=i[l]=[];for(var v=0;v<m;v++)s[v]=pr(u[v][l])}return p.createDenseMatrix({data:i,size:[f,m],datatype:p._datatype})}function o(p,m,f){for(var u=p._values,i=p._index,s=p._ptr,l=u?[]:void 0,v=[],d=[],c=[],h=0;h<m;h++)c[h]=0;var g,y,x;for(g=0,y=i.length;g<y;g++)c[i[g]]++;for(var E=0,C=0;C<m;C++)d.push(E),E+=c[C],c[C]=d[C];for(d.push(E),x=0;x<f;x++)for(var D=s[x],A=s[x+1],F=D;F<A;F++){var b=c[i[F]]++;v[b]=x,u&&(l[b]=pr(u[F]))}return p.createSparseMatrix({values:l,index:v,ptr:d,size:[f,m],datatype:p._datatype})}});var xu="ctranspose",Ql=["typed","transpose","conj"],Sa=P(xu,Ql,r=>{var{typed:e,transpose:t,conj:a}=r;return e(xu,{any:function(o){return a(t(o))}})});var yu="zeros",Gl=["typed","config","matrix","BigNumber"],Na=P(yu,Gl,r=>{var{typed:e,config:t,matrix:a,BigNumber:n}=r;return e(yu,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var i=u[u.length-1];if(typeof i=="string"){var s=u.pop();return o(u,s)}else return t.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var i=u.storage();return o(u.valueOf(),i)},"Array | Matrix, string":function(u,i){return o(u.valueOf(),i)}});function o(f,u){var i=p(f),s=i?new n(0):0;if(m(f),u){var l=a(u);return f.length>0?l.resize(f,s):l}else{var v=[];return f.length>0?Ye(v,f,s):v}}function p(f){var u=!1;return f.forEach(function(i,s,l){Br(i)&&(u=!0,l[s]=i.toNumber())}),u}function m(f){f.forEach(function(u){if(typeof u!="number"||!mr(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});var Xl="numeric",$l=["number","?bignumber","?fraction"],Ba=P(Xl,$l,r=>{var{number:e,bignumber:t,fraction:a}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:p=>e(p),BigNumber:t?p=>t(p):jt,Fraction:a?p=>a(p):vu};return function(m){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var i=Qr(m);if(!(i in n))throw new TypeError("Cannot convert "+m+' of type "'+i+'"; valid input types are '+Object.keys(n).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+m+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===i?m:o[f](m)}});var wu="divideScalar",Yl=["typed","numeric"],_a=P(wu,Yl,r=>{var{typed:e,numeric:t}=r;return e(wu,{"number, number":function(n,o){return n/o},"Complex, Complex":function(n,o){return n.div(o)},"BigNumber, BigNumber":function(n,o){return n.div(o)},"Fraction, Fraction":function(n,o){return n.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,n)=>a.divide(n),"number | Fraction | Complex | BigNumber, Unit":(a,n)=>n.divideInto(a)})});var Au="pow",Jl=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],za=P(Au,Jl,r=>{var{typed:e,config:t,identity:a,multiply:n,matrix:o,inv:p,number:m,fraction:f,Complex:u}=r;return e(Au,{"number, number":i,"Complex, Complex":function(d,c){return d.pow(c)},"BigNumber, BigNumber":function(d,c){return c.isInteger()||d>=0||t.predictable?d.pow(c):new u(d.toNumber(),0).pow(c.toNumber(),0)},"Fraction, Fraction":function(d,c){var h=d.pow(c);if(h!=null)return h;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return i(d.valueOf(),c.valueOf())},"Array, number":s,"Array, BigNumber":function(d,c){return s(d,c.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(d,c){return l(d,c.toNumber())},"Unit, number | BigNumber":function(d,c){return d.pow(c)}});function i(v,d){if(t.predictable&&!mr(d)&&v<0)try{var c=f(d),h=m(c);if((d===h||Math.abs((d-h)/d)<1e-14)&&c.d%2===1)return(c.n%2===0?1:-1)*Math.pow(-v,d)}catch(g){}return t.predictable&&(v<-1&&d===1/0||v>-1&&v<0&&d===-1/0)?NaN:mr(d)||v>=0||t.predictable?Wn(v,d):v*v<1&&d===1/0||v*v>1&&d===-1/0?0:new u(v,0).pow(d,0)}function s(v,d){if(!mr(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var c=zr(v);if(c.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+c.length+" dimensions)");if(c[0]!==c[1])throw new Error("For A^b, A must be square (size is "+c[0]+"x"+c[1]+")");if(d<0)try{return s(p(v),-d)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):y}for(var h=a(c[0]).valueOf(),g=v;d>=1;)(d&1)===1&&(h=n(g,h)),d>>=1,g=n(g,g);return h}function l(v,d){return o(s(v.valueOf(),d))}});function Ue(r){var{DenseMatrix:e}=r;return function(a,n,o){var p=a.size();if(p.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Mr(p)+")");var m=p[0],f=p[1];if(m!==f)throw new RangeError("Matrix must be square (size: "+Mr(p)+")");var u=[];if(wr(n)){var i=n.size(),s=n._data;if(i.length===1){if(i[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<m;l++)u[l]=[s[l]];return new e({data:u,size:[m,1],datatype:n._datatype})}if(i.length===2){if(i[0]!==m||i[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if($e(n)){if(o){u=[];for(var v=0;v<m;v++)u[v]=[s[v][0]];return new e({data:u,size:[m,1],datatype:n._datatype})}return n}if(Fe(n)){for(var d=0;d<m;d++)u[d]=[0];for(var c=n._values,h=n._index,g=n._ptr,y=g[1],x=g[0];x<y;x++){var E=h[x];u[E][0]=c[x]}return new e({data:u,size:[m,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Fr(n)){var C=zr(n);if(C.length===1){if(C[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<m;D++)u[D]=[n[D]];return new e({data:u,size:[m,1]})}if(C.length===2){if(C[0]!==m||C[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<m;A++)u[A]=[n[A][0]];return new e({data:u,size:[m,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Eu="lsolve",Kl=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Ta=P(Eu,Kl,r=>{var{typed:e,matrix:t,divideScalar:a,multiplyScalar:n,subtract:o,equalScalar:p,DenseMatrix:m}=r,f=Ue({DenseMatrix:m});return e(Eu,{"SparseMatrix, Array | Matrix":function(l,v){return i(l,v)},"DenseMatrix, Array | Matrix":function(l,v){return u(l,v)},"Array, Array | Matrix":function(l,v){var d=t(l),c=u(d,v);return c.valueOf()}});function u(s,l){l=f(s,l,!0);for(var v=l._data,d=s._size[0],c=s._size[1],h=[],g=s._data,y=0;y<c;y++){var x=v[y][0]||0,E=void 0;if(p(x,0))E=0;else{var C=g[y][y];if(p(C,0))throw new Error("Linear system cannot be solved since matrix is singular");E=a(x,C);for(var D=y+1;D<d;D++)v[D]=[o(v[D][0]||0,n(E,g[D][y]))]}h[y]=[E]}return new m({data:h,size:[d,1]})}function i(s,l){l=f(s,l,!0);for(var v=l._data,d=s._size[0],c=s._size[1],h=s._values,g=s._index,y=s._ptr,x=[],E=0;E<c;E++){var C=v[E][0]||0;if(p(C,0))x[E]=[0];else{for(var D=0,A=[],F=[],b=y[E],w=y[E+1],S=b;S<w;S++){var M=g[S];M===E?D=h[S]:M>E&&(A.push(h[S]),F.push(M))}if(p(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=a(C,D),q=0,T=F.length;q<T;q++){var B=F[q];v[B]=[o(v[B][0]||0,n(I,A[q]))]}x[E]=[I]}}return new m({data:x,size:[d,1]})}});var Cu="usolve",Hl=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Ia=P(Cu,Hl,r=>{var{typed:e,matrix:t,divideScalar:a,multiplyScalar:n,subtract:o,equalScalar:p,DenseMatrix:m}=r,f=Ue({DenseMatrix:m});return e(Cu,{"SparseMatrix, Array | Matrix":function(l,v){return i(l,v)},"DenseMatrix, Array | Matrix":function(l,v){return u(l,v)},"Array, Array | Matrix":function(l,v){var d=t(l),c=u(d,v);return c.valueOf()}});function u(s,l){l=f(s,l,!0);for(var v=l._data,d=s._size[0],c=s._size[1],h=[],g=s._data,y=c-1;y>=0;y--){var x=v[y][0]||0,E=void 0;if(p(x,0))E=0;else{var C=g[y][y];if(p(C,0))throw new Error("Linear system cannot be solved since matrix is singular");E=a(x,C);for(var D=y-1;D>=0;D--)v[D]=[o(v[D][0]||0,n(E,g[D][y]))]}h[y]=[E]}return new m({data:h,size:[d,1]})}function i(s,l){l=f(s,l,!0);for(var v=l._data,d=s._size[0],c=s._size[1],h=s._values,g=s._index,y=s._ptr,x=[],E=c-1;E>=0;E--){var C=v[E][0]||0;if(p(C,0))x[E]=[0];else{for(var D=0,A=[],F=[],b=y[E],w=y[E+1],S=w-1;S>=b;S--){var M=g[S];M===E?D=h[S]:M<E&&(A.push(h[S]),F.push(M))}if(p(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=a(C,D),q=0,T=F.length;q<T;q++){var B=F[q];v[B]=[o(v[B][0],n(I,A[q]))]}x[E]=[I]}}return new m({data:x,size:[d,1]})}});var Fu="usolveAll",Wl=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Oa=P(Fu,Wl,r=>{var{typed:e,matrix:t,divideScalar:a,multiplyScalar:n,subtract:o,equalScalar:p,DenseMatrix:m}=r,f=Ue({DenseMatrix:m});return e(Fu,{"SparseMatrix, Array | Matrix":function(l,v){return i(l,v)},"DenseMatrix, Array | Matrix":function(l,v){return u(l,v)},"Array, Array | Matrix":function(l,v){var d=t(l),c=u(d,v);return c.map(h=>h.valueOf())}});function u(s,l){for(var v=[f(s,l,!0)._data.map(F=>F[0])],d=s._data,c=s._size[0],h=s._size[1],g=h-1;g>=0;g--)for(var y=v.length,x=0;x<y;x++){var E=v[x];if(p(d[g][g],0))if(p(E[g],0)){if(x===0){var D=[...E];D[g]=1;for(var A=g-1;A>=0;A--)D[A]=o(D[A],d[A][g]);v.push(D)}}else{if(x===0)return[];v.splice(x,1),x-=1,y-=1}else{E[g]=a(E[g],d[g][g]);for(var C=g-1;C>=0;C--)E[C]=o(E[C],n(E[g],d[C][g]))}}return v.map(F=>new m({data:F.map(b=>[b]),size:[c,1]}))}function i(s,l){for(var v=[f(s,l,!0)._data.map(U=>U[0])],d=s._size[0],c=s._size[1],h=s._values,g=s._index,y=s._ptr,x=c-1;x>=0;x--)for(var E=v.length,C=0;C<E;C++){for(var D=v[C],A=[],F=[],b=y[x],w=y[x+1],S=0,M=w-1;M>=b;M--){var I=g[M];I===x?S=h[M]:I<x&&(A.push(h[M]),F.push(I))}if(p(S,0))if(p(D[x],0)){if(C===0){var Q=[...D];Q[x]=1;for(var Z=0,_=F.length;Z<_;Z++){var z=F[Z];Q[z]=o(Q[z],A[Z])}v.push(Q)}}else{if(C===0)return[];v.splice(C,1),C-=1,E-=1}else{D[x]=a(D[x],S);for(var q=0,T=F.length;q<T;q++){var B=F[q];D[B]=o(D[B],n(D[x],A[q]))}}}return v.map(U=>new m({data:U.map(H=>[H]),size:[d,1]}))}});var en="compare",kl=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Pa=P(en,kl,r=>{var{typed:e,config:t,equalScalar:a,matrix:n,BigNumber:o,Fraction:p,DenseMatrix:m,concat:f}=r,u=se({typed:e}),i=kt({typed:e,equalScalar:a}),s=ue({typed:e,DenseMatrix:m}),l=Wr({typed:e,matrix:n,concat:f}),v=me({typed:e});return e(en,jl({typed:e,config:t}),{"boolean, boolean":function(c,h){return c===h?0:c>h?1:-1},"BigNumber, BigNumber":function(c,h){return ve(c,h,t.epsilon)?new o(0):new o(c.cmp(h))},"Fraction, Fraction":function(c,h){return new p(c.compare(h))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,l({SS:i,DS:u,Ss:s}))}),jl=P(en,["typed","config"],r=>{var{typed:e,config:t}=r;return e(en,{"number, number":function(n,o){return Kr(n,o,t.epsilon)?0:n>o?1:-1}})});var Je=Bt(Mu(),1);var Su="compareNatural",rp=["typed","compare"],qa=P(Su,rp,r=>{var{typed:e,compare:t}=r,a=t.signatures["boolean,boolean"];return e(Su,{"any, any":n});function n(f,u){var i=Qr(f),s=Qr(u),l;if((i==="number"||i==="BigNumber"||i==="Fraction")&&(s==="number"||s==="BigNumber"||s==="Fraction"))return l=t(f,u),l.toString()!=="0"?l>0?1:-1:(0,Je.default)(i,s);var v=["Array","DenseMatrix","SparseMatrix"];if(v.includes(i)||v.includes(s))return l=o(n,f,u),l!==0?l:(0,Je.default)(i,s);if(i!==s)return(0,Je.default)(i,s);if(i==="Complex")return ep(f,u);if(i==="Unit")return f.equalBase(u)?n(f.value,u.value):p(n,f.formatUnits(),u.formatUnits());if(i==="boolean")return a(f,u);if(i==="string")return(0,Je.default)(f,u);if(i==="Object")return m(n,f,u);if(i==="null"||i==="undefined")return 0;throw new TypeError('Unsupported type of value "'+i+'"')}function o(f,u,i){return Fe(u)&&Fe(i)?p(f,u.toJSON().values,i.toJSON().values):Fe(u)?o(f,u.toArray(),i):Fe(i)?o(f,u,i.toArray()):$e(u)?o(f,u.toJSON().data,i):$e(i)?o(f,u,i.toJSON().data):Array.isArray(u)?Array.isArray(i)?p(f,u,i):o(f,u,[i]):o(f,[u],i)}function p(f,u,i){for(var s=0,l=Math.min(u.length,i.length);s<l;s++){var v=f(u[s],i[s]);if(v!==0)return v}return u.length>i.length?1:u.length<i.length?-1:0}function m(f,u,i){var s=Object.keys(u),l=Object.keys(i);s.sort(Je.default),l.sort(Je.default);var v=p(f,s,l);if(v!==0)return v;for(var d=0;d<s.length;d++){var c=f(u[s[d]],i[l[d]]);if(c!==0)return c}return 0}});function ep(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var tn="equal",tp=["typed","matrix","equalScalar","DenseMatrix","concat"],Ra=P(tn,tp,r=>{var{typed:e,matrix:t,equalScalar:a,DenseMatrix:n,concat:o}=r,p=se({typed:e}),m=Ee({typed:e,DenseMatrix:n}),f=ue({typed:e,DenseMatrix:n}),u=Wr({typed:e,matrix:t,concat:o});return e(tn,np({typed:e,equalScalar:a}),u({elop:a,SS:m,DS:p,Ss:f}))}),np=P(tn,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(tn,{"any, any":function(n,o){return n===null?o===null:o===null?n===null:n===void 0?o===void 0:o===void 0?n===void 0:t(n,o)}})});var nn="smaller",ap=["typed","config","matrix","DenseMatrix","concat"],Ua=P(nn,ap,r=>{var{typed:e,config:t,matrix:a,DenseMatrix:n,concat:o}=r,p=se({typed:e}),m=Ee({typed:e,DenseMatrix:n}),f=ue({typed:e,DenseMatrix:n}),u=Wr({typed:e,matrix:a,concat:o}),i=me({typed:e});return e(nn,ip({typed:e,config:t}),{"boolean, boolean":(s,l)=>s<l,"BigNumber, BigNumber":function(l,v){return l.lt(v)&&!ve(l,v,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===-1,"Complex, Complex":function(l,v){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:m,DS:p,Ss:f}))}),ip=P(nn,["typed","config"],r=>{var{typed:e,config:t}=r;return e(nn,{"number, number":function(n,o){return n<o&&!Kr(n,o,t.epsilon)}})});var an="smallerEq",op=["typed","config","matrix","DenseMatrix","concat"],La=P(an,op,r=>{var{typed:e,config:t,matrix:a,DenseMatrix:n,concat:o}=r,p=se({typed:e}),m=Ee({typed:e,DenseMatrix:n}),f=ue({typed:e,DenseMatrix:n}),u=Wr({typed:e,matrix:a,concat:o}),i=me({typed:e});return e(an,up({typed:e,config:t}),{"boolean, boolean":(s,l)=>s<=l,"BigNumber, BigNumber":function(l,v){return l.lte(v)||ve(l,v,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:m,DS:p,Ss:f}))}),up=P(an,["typed","config"],r=>{var{typed:e,config:t}=r;return e(an,{"number, number":function(n,o){return n<=o||Kr(n,o,t.epsilon)}})});var on="larger",sp=["typed","config","matrix","DenseMatrix","concat"],Za=P(on,sp,r=>{var{typed:e,config:t,matrix:a,DenseMatrix:n,concat:o}=r,p=se({typed:e}),m=Ee({typed:e,DenseMatrix:n}),f=ue({typed:e,DenseMatrix:n}),u=Wr({typed:e,matrix:a,concat:o}),i=me({typed:e});return e(on,fp({typed:e,config:t}),{"boolean, boolean":(s,l)=>s>l,"BigNumber, BigNumber":function(l,v){return l.gt(v)&&!ve(l,v,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:m,DS:p,Ss:f}))}),fp=P(on,["typed","config"],r=>{var{typed:e,config:t}=r;return e(on,{"number, number":function(n,o){return n>o&&!Kr(n,o,t.epsilon)}})});var un="largerEq",cp=["typed","config","matrix","DenseMatrix","concat"],Va=P(un,cp,r=>{var{typed:e,config:t,matrix:a,DenseMatrix:n,concat:o}=r,p=se({typed:e}),m=Ee({typed:e,DenseMatrix:n}),f=ue({typed:e,DenseMatrix:n}),u=Wr({typed:e,matrix:a,concat:o}),i=me({typed:e});return e(un,lp({typed:e,config:t}),{"boolean, boolean":(s,l)=>s>=l,"BigNumber, BigNumber":function(l,v){return l.gte(v)||ve(l,v,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:m,DS:p,Ss:f}))}),lp=P(un,["typed","config"],r=>{var{typed:e,config:t}=r;return e(un,{"number, number":function(n,o){return n>=o||Kr(n,o,t.epsilon)}})});var pp="ImmutableDenseMatrix",vp=["smaller","DenseMatrix"],Qa=P(pp,vp,r=>{var{smaller:e,DenseMatrix:t}=r;function a(n,o){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Yr(o))throw new Error("Invalid datatype: "+o);if(wr(n)||Fr(n)){var p=new t(n,o);this._data=p._data,this._size=p._size,this._datatype=p._datatype,this._min=null,this._max=null}else if(n&&Fr(n.data)&&Fr(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min!="undefined"?n.min:null,this._max=typeof n.max!="undefined"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+Qr(n)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return a.prototype=new t,a.prototype.type="ImmutableDenseMatrix",a.prototype.isImmutableDenseMatrix=!0,a.prototype.subset=function(n){switch(arguments.length){case 1:{var o=t.prototype.subset.call(this,n);return wr(o)?new a({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},a.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},a.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},a.prototype.clone=function(){return new a({data:pr(this._data),size:pr(this._size),datatype:this._datatype})},a.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},a.fromJSON=function(n){return new a(n)},a.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},a.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(o){(n===null||e(o,n))&&(n=o)}),this._min=n!==null?n:void 0}return this._min},a.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(o){(n===null||e(n,o))&&(n=o)}),this._max=n!==null?n:void 0}return this._max},a},{isClass:!0});var mp="Index",hp=["ImmutableDenseMatrix"],Ga=P(mp,hp,r=>{var{ImmutableDenseMatrix:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,p=arguments.length;o<p;o++){var m=arguments[o];if(zt(m))this._dimensions.push(m),this._isScalar=!1;else if(Array.isArray(m)||wr(m)){var f=a(m.valueOf());this._dimensions.push(f);var u=f.size();(u.length!==1||u[0]!==1)&&(this._isScalar=!1)}else if(typeof m=="number")this._dimensions.push(a([m]));else if(typeof m=="string")this._dimensions.push(m);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}t.prototype.type="Index",t.prototype.isIndex=!0;function a(n){for(var o=0,p=n.length;o<p;o++)if(typeof n[o]!="number"||!mr(n[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(n)}return t.prototype.clone=function(){var n=new t;return n._dimensions=pr(this._dimensions),n._isScalar=this._isScalar,n},t.create=function(n){var o=new t;return t.apply(o,n),o},t.prototype.size=function(){for(var n=[],o=0,p=this._dimensions.length;o<p;o++){var m=this._dimensions[o];n[o]=typeof m=="string"?1:m.size()[0]}return n},t.prototype.max=function(){for(var n=[],o=0,p=this._dimensions.length;o<p;o++){var m=this._dimensions[o];n[o]=typeof m=="string"?m:m.max()}return n},t.prototype.min=function(){for(var n=[],o=0,p=this._dimensions.length;o<p;o++){var m=this._dimensions[o];n[o]=typeof m=="string"?m:m.min()}return n},t.prototype.forEach=function(n){for(var o=0,p=this._dimensions.length;o<p;o++)n(this._dimensions[o],o,this)},t.prototype.dimension=function(n){return this._dimensions[n]||null},t.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var n=[],o=0,p=this._dimensions.length;o<p;o++){var m=this._dimensions[o];n.push(typeof m=="string"?m:m.toArray())}return n},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var n=[],o=0,p=this._dimensions.length;o<p;o++){var m=this._dimensions[o];typeof m=="string"?n.push(JSON.stringify(m)):n.push(m.toString())}return"["+n.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(n){return t.create(n.dimensions)},t},{isClass:!0});var dp="FibonacciHeap",gp=["smaller","larger"],Xa=P(dp,gp,r=>{var{smaller:e,larger:t}=r,a=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(i,s){var l={key:i,value:s,degree:0};if(this._minimum){var v=this._minimum;l.left=v,l.right=v.right,v.right=l,l.right.left=l,e(i,v.key)&&(this._minimum=l)}else l.left=l,l.right=l,this._minimum=l;return this._size++,l},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var i=this._minimum;if(i===null)return i;for(var s=this._minimum,l=i.degree,v=i.child;l>0;){var d=v.right;v.left.right=v.right,v.right.left=v.left,v.left=s,v.right=s.right,s.right=v,v.right.left=v,v.parent=null,v=d,l--}return i.left.right=i.right,i.right.left=i.left,i===i.right?s=null:(s=i.right,s=u(s,this._size)),this._size--,this._minimum=s,i},n.prototype.remove=function(i){this._minimum=o(this._minimum,i,-1),this.extractMinimum()};function o(i,s,l){s.key=l;var v=s.parent;return v&&e(s.key,v.key)&&(p(i,s,v),m(i,v)),e(s.key,i.key)&&(i=s),i}function p(i,s,l){s.left.right=s.right,s.right.left=s.left,l.degree--,l.child===s&&(l.child=s.right),l.degree===0&&(l.child=null),s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s.mark=!1}function m(i,s){var l=s.parent;l&&(s.mark?(p(i,s,l),m(l)):s.mark=!0)}var f=function(s,l){s.left.right=s.right,s.right.left=s.left,s.parent=l,l.child?(s.left=l.child,s.right=l.child.right,l.child.right=s,s.right.left=s):(l.child=s,s.right=s,s.left=s),l.degree++,s.mark=!1};function u(i,s){var l=Math.floor(Math.log(s)*a)+1,v=new Array(l),d=0,c=i;if(c)for(d++,c=c.right;c!==i;)d++,c=c.right;for(var h;d>0;){for(var g=c.degree,y=c.right;h=v[g],!!h;){if(t(c.key,h.key)){var x=h;h=c,c=x}f(h,c),v[g]=null,g++}v[g]=c,c=y,d--}i=null;for(var E=0;E<l;E++)h=v[E],h&&(i?(h.left.right=h.right,h.right.left=h.left,h.left=i,h.right=i.right,i.right=h,h.right.left=h,e(h.key,i.key)&&(i=h)):i=h);return i}return n},{isClass:!0});var Dp="Spa",xp=["addScalar","equalScalar","FibonacciHeap"],$a=P(Dp,xp,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:a}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new a}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(o,p){if(this._values[o])this._values[o].value=p;else{var m=this._heap.insert(o,p);this._values[o]=m}},n.prototype.get=function(o){var p=this._values[o];return p?p.value:0},n.prototype.accumulate=function(o,p){var m=this._values[o];m?m.value=e(m.value,p):(m=this._heap.insert(o,p),this._values[o]=m)},n.prototype.forEach=function(o,p,m){var f=this._heap,u=this._values,i=[],s=f.extractMinimum();for(s&&i.push(s);s&&s.key<=p;)s.key>=o&&(t(s.value,0)||m(s.key,s.value,this)),s=f.extractMinimum(),s&&i.push(s);for(var l=0;l<i.length;l++){var v=i[l];s=f.insert(v.key,v.value),u[s.key]=s}},n.prototype.swap=function(o,p){var m=this._values[o],f=this._values[p];if(!m&&f)m=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=m,this._values[p]=void 0;else if(m&&!f)f=this._heap.insert(p,m.value),this._heap.remove(m),this._values[p]=f,this._values[o]=void 0;else if(m&&f){var u=m.value;m.value=f.value,f.value=u}},n},{isClass:!0});var yp="atan",wp=["typed"],Ya=P(yp,wp,r=>{var{typed:e}=r;return e("atan",{number:function(a){return Math.atan(a)},Complex:function(a){return a.atan()},BigNumber:function(a){return a.atan()}})});var sn=P("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>a=>{if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,a.valueType())(a.value)})}});var Nu="cos",Ap=["typed"],Ja=P(Nu,Ap,r=>{var{typed:e}=r,t=sn({typed:e});return e(Nu,{number:Math.cos,"Complex | BigNumber":a=>a.cos()},t)});var Bu="sin",Ep=["typed"],Ka=P(Bu,Ep,r=>{var{typed:e}=r,t=sn({typed:e});return e(Bu,{number:Math.sin,"Complex | BigNumber":a=>a.sin()},t)});var _u="setDifference",Cp=["typed","size","subset","compareNatural","Index","DenseMatrix"],Ha=P(_u,Cp,r=>{var{typed:e,size:t,subset:a,compareNatural:n,Index:o,DenseMatrix:p}=r;return e(_u,{"Array | Matrix, Array | Matrix":function(f,u){var i;if(a(t(f),new o(0))===0)i=[];else{if(a(t(u),new o(0))===0)return Ie(f.toArray());var s=Fn(Ie(Array.isArray(f)?f:f.toArray()).sort(n)),l=Fn(Ie(Array.isArray(u)?u:u.toArray()).sort(n));i=[];for(var v,d=0;d<s.length;d++){v=!1;for(var c=0;c<l.length;c++)if(n(s[d].value,l[c].value)===0&&s[d].identifier===l[c].identifier){v=!0;break}v||i.push(s[d])}}return Array.isArray(f)&&Array.isArray(u)?bn(i):new p(bn(i))}})});var zu="add",Fp=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Wa=P(zu,Fp,r=>{var{typed:e,matrix:t,addScalar:a,equalScalar:n,DenseMatrix:o,SparseMatrix:p,concat:m}=r,f=Ht({typed:e}),u=ko({typed:e,equalScalar:n}),i=Wt({typed:e,DenseMatrix:o}),s=Wr({typed:e,matrix:t,concat:m});return e(zu,{"any, any":a,"any, any, ...any":e.referToSelf(l=>(v,d,c)=>{for(var h=l(v,d),g=0;g<c.length;g++)h=l(h,c[g]);return h})},s({elop:a,DS:f,SS:u,Ss:i}))});var Tu="norm",bp=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],ka=P(Tu,bp,r=>{var{typed:e,abs:t,add:a,pow:n,conj:o,sqrt:p,multiply:m,equalScalar:f,larger:u,smaller:i,matrix:s,ctranspose:l,eigs:v}=r;return e(Tu,{number:Math.abs,Complex:function(F){return F.abs()},BigNumber:function(F){return F.abs()},boolean:function(F){return Math.abs(F)},Array:function(F){return D(s(F),2)},Matrix:function(F){return D(F,2)},"Array, number | BigNumber | string":function(F,b){return D(s(F),b)},"Matrix, number | BigNumber | string":function(F,b){return D(F,b)}});function d(A){var F=0;return A.forEach(function(b){var w=t(b);u(w,F)&&(F=w)},!0),F}function c(A){var F;return A.forEach(function(b){var w=t(b);(!F||i(w,F))&&(F=w)},!0),F||0}function h(A,F){if(F===Number.POSITIVE_INFINITY||F==="inf")return d(A);if(F===Number.NEGATIVE_INFINITY||F==="-inf")return c(A);if(F==="fro")return D(A,2);if(typeof F=="number"&&!isNaN(F)){if(!f(F,0)){var b=0;return A.forEach(function(w){b=a(n(t(w),F),b)},!0),n(b,1/F)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function g(A){var F=0;return A.forEach(function(b,w){F=a(F,m(b,o(b)))}),t(p(F))}function y(A){var F=[],b=0;return A.forEach(function(w,S){var M=S[1],I=a(F[M]||0,t(w));u(I,b)&&(b=I),F[M]=I},!0),b}function x(A){var F=A.size();if(F[0]!==F[1])throw new RangeError("Invalid matrix dimensions");var b=l(A),w=m(b,A),S=v(w).values.toArray(),M=S[S.length-1];return t(p(M))}function E(A){var F=[],b=0;return A.forEach(function(w,S){var M=S[0],I=a(F[M]||0,t(w));u(I,b)&&(b=I),F[M]=I},!0),b}function C(A,F){if(F===1)return y(A);if(F===Number.POSITIVE_INFINITY||F==="inf")return E(A);if(F==="fro")return g(A);if(F===2)return x(A);throw new Error("Unsupported parameter value "+F)}function D(A,F){var b=A.size();if(b.length===1)return h(A,F);if(b.length===2){if(b[0]&&b[1])return C(A,F);throw new RangeError("Invalid matrix dimensions")}}});var Iu="dot",Mp=["typed","addScalar","multiplyScalar","conj","size"],ja=P(Iu,Mp,r=>{var{typed:e,addScalar:t,multiplyScalar:a,conj:n,size:o}=r;return e(Iu,{"Array | DenseMatrix, Array | DenseMatrix":m,"SparseMatrix, SparseMatrix":f});function p(i,s){var l=u(i),v=u(s),d,c;if(l.length===1)d=l[0];else if(l.length===2&&l[1]===1)d=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(v.length===1)c=v[0];else if(v.length===2&&v[1]===1)c=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d!==c)throw new RangeError("Vectors must have equal length ("+d+" != "+c+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function m(i,s){var l=p(i,s),v=wr(i)?i._data:i,d=wr(i)?i._datatype:void 0,c=wr(s)?s._data:s,h=wr(s)?s._datatype:void 0,g=u(i).length===2,y=u(s).length===2,x=t,E=a;if(d&&h&&d===h&&typeof d=="string"){var C=d;x=e.find(t,[C,C]),E=e.find(a,[C,C])}if(!g&&!y){for(var D=E(n(v[0]),c[0]),A=1;A<l;A++)D=x(D,E(n(v[A]),c[A]));return D}if(!g&&y){for(var F=E(n(v[0]),c[0][0]),b=1;b<l;b++)F=x(F,E(n(v[b]),c[b][0]));return F}if(g&&!y){for(var w=E(n(v[0][0]),c[0]),S=1;S<l;S++)w=x(w,E(n(v[S][0]),c[S]));return w}if(g&&y){for(var M=E(n(v[0][0]),c[0][0]),I=1;I<l;I++)M=x(M,E(n(v[I][0]),c[I][0]));return M}}function f(i,s){p(i,s);for(var l=i._index,v=i._values,d=s._index,c=s._values,h=0,g=t,y=a,x=0,E=0;x<l.length&&E<d.length;){var C=l[x],D=d[E];if(C<D){x++;continue}if(C>D){E++;continue}C===D&&(h=g(h,y(v[x],c[E])),x++,E++)}return h}function u(i){return wr(i)?i.size():o(i)}});var Ou="index",Sp=["typed","Index"],ri=P(Ou,Sp,r=>{var{typed:e,Index:t}=r;return e(Ou,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var o=n.map(function(m){return Br(m)?m.toNumber():Array.isArray(m)||wr(m)?m.map(function(f){return Br(f)?f.toNumber():f}):m}),p=new t;return t.apply(p,o),p}})});var Pu="lup",Np=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ei=P(Pu,Np,r=>{var{typed:e,matrix:t,abs:a,addScalar:n,divideScalar:o,multiplyScalar:p,subtract:m,larger:f,equalScalar:u,unaryMinus:i,DenseMatrix:s,SparseMatrix:l,Spa:v}=r;return e(Pu,{DenseMatrix:function(g){return d(g)},SparseMatrix:function(g){return c(g)},Array:function(g){var y=t(g),x=d(y);return{L:x.L.valueOf(),U:x.U.valueOf(),p:x.p}}});function d(h){var g=h._size[0],y=h._size[1],x=Math.min(g,y),E=pr(h._data),C=[],D=[g,x],A=[],F=[x,y],b,w,S,M=[];for(b=0;b<g;b++)M[b]=b;for(w=0;w<y;w++){if(w>0)for(b=0;b<g;b++){var I=Math.min(b,w),q=0;for(S=0;S<I;S++)q=n(q,p(E[b][S],E[S][w]));E[b][w]=m(E[b][w],q)}var T=w,B=0,Q=0;for(b=w;b<g;b++){var Z=E[b][w],_=a(Z);f(_,B)&&(T=b,B=_,Q=Z)}if(w!==T&&(M[w]=[M[T],M[T]=M[w]][0],s._swapRows(w,T,E)),w<g)for(b=w+1;b<g;b++){var z=E[b][w];u(z,0)||(E[b][w]=o(E[b][w],Q))}}for(w=0;w<y;w++)for(b=0;b<g;b++){if(w===0&&(b<y&&(A[b]=[]),C[b]=[]),b<w){b<y&&(A[b][w]=E[b][w]),w<g&&(C[b][w]=0);continue}if(b===w){b<y&&(A[b][w]=E[b][w]),w<g&&(C[b][w]=1);continue}b<y&&(A[b][w]=0),w<g&&(C[b][w]=E[b][w])}var U=new s({data:C,size:D}),H=new s({data:A,size:F}),V=[];for(b=0,x=M.length;b<x;b++)V[M[b]]=b;return{L:U,U:H,p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function c(h){var g=h._size[0],y=h._size[1],x=Math.min(g,y),E=h._values,C=h._index,D=h._ptr,A=[],F=[],b=[],w=[g,x],S=[],M=[],I=[],q=[x,y],T,B,Q,Z=[],_=[];for(T=0;T<g;T++)Z[T]=T,_[T]=T;var z=function(V,R){var G=_[V],$=_[R];Z[G]=R,Z[$]=V,_[V]=$,_[R]=G},U=function(){var V=new v;B<g&&(b.push(A.length),A.push(1),F.push(B)),I.push(S.length);var R=D[B],G=D[B+1];for(Q=R;Q<G;Q++)T=C[Q],V.set(Z[T],E[Q]);B>0&&V.forEach(0,B-1,function(nr,X){l._forEachRow(nr,A,F,b,function(gr,cr){gr>nr&&V.accumulate(gr,i(p(cr,X)))})});var $=B,W=V.get(B),er=a(W);V.forEach(B+1,g-1,function(nr,X){var gr=a(X);f(gr,er)&&($=nr,er=gr,W=X)}),B!==$&&(l._swapRows(B,$,w[1],A,F,b),l._swapRows(B,$,q[1],S,M,I),V.swap(B,$),z(B,$)),V.forEach(0,g-1,function(nr,X){nr<=B?(S.push(X),M.push(nr)):(X=o(X,W),u(X,0)||(A.push(X),F.push(nr)))})};for(B=0;B<y;B++)U();return I.push(S.length),b.push(A.length),{L:new l({values:A,index:F,ptr:b,size:w}),U:new l({values:S,index:M,ptr:I,size:q}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var qu="qr",Bp=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],ti=P(qu,Bp,r=>{var{typed:e,matrix:t,zeros:a,identity:n,isZero:o,equal:p,sign:m,sqrt:f,conj:u,unaryMinus:i,addScalar:s,divideScalar:l,multiplyScalar:v,subtract:d,complex:c}=r;return Ge(e(qu,{DenseMatrix:function(E){return g(E)},SparseMatrix:function(E){return y(E)},Array:function(E){var C=t(E),D=g(C);return{Q:D.Q.valueOf(),R:D.R.valueOf()}}}),{_denseQRimpl:h});function h(x){var E=x._size[0],C=x._size[1],D=n([E],"dense"),A=D._data,F=x.clone(),b=F._data,w,S,M,I=a([E],"");for(M=0;M<Math.min(C,E);++M){var q=b[M][M],T=i(p(q,0)?1:m(q)),B=u(T),Q=0;for(w=M;w<E;w++)Q=s(Q,v(b[w][M],u(b[w][M])));var Z=v(T,f(Q));if(!o(Z)){var _=d(q,Z);for(I[M]=1,w=M+1;w<E;w++)I[w]=l(b[w][M],_);var z=i(u(l(_,Z))),U=void 0;for(S=M;S<C;S++){for(U=0,w=M;w<E;w++)U=s(U,v(u(I[w]),b[w][S]));for(U=v(U,z),w=M;w<E;w++)b[w][S]=v(d(b[w][S],v(I[w],U)),B)}for(w=0;w<E;w++){for(U=0,S=M;S<E;S++)U=s(U,v(A[w][S],I[S]));for(U=v(U,z),S=M;S<E;++S)A[w][S]=l(d(A[w][S],v(U,u(I[S]))),B)}}}return{Q:D,R:F,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(x){var E=h(x),C=E.R._data;if(x._data.length>0)for(var D=C[0][0].type==="Complex"?c(0):0,A=0;A<C.length;++A)for(var F=0;F<A&&F<(C[0]||[]).length;++F)C[A][F]=D;return E}function y(x){throw new Error("qr not implemented for sparse matrices yet")}});function Ru(r,e,t,a){for(var n=r._values,o=r._index,p=r._ptr,m=r._size,f=r._datatype,u=m[0],i=m[1],s=a&&r._values?[]:null,l=[],v=[],d=0,c=0;c<i;c++){v[c]=d;for(var h=t?t[c]:c,g=p[h],y=p[h+1],x=g;x<y;x++){var E=e?e[o[x]]:o[x];l[d]=E,s&&(s[d]=n[x]),d++}}return v[i]=d,r.createSparseMatrix({values:s,index:l,ptr:v,size:[u,i],datatype:f})}function fn(r,e,t,a,n,o,p){var m=0;for(t[p]=r;m>=0;){var f=t[p+m],u=t[a+f];u===-1?(m--,o[e++]=f):(t[a+f]=t[n+u],++m,t[p+m]=u)}return e}function Uu(r,e){if(!r)return null;var t=0,a,n=[],o=[],p=0,m=e,f=2*e;for(a=0;a<e;a++)o[p+a]=-1;for(a=e-1;a>=0;a--)r[a]!==-1&&(o[m+a]=o[p+r[a]],o[p+r[a]]=a);for(a=0;a<e;a++)r[a]===-1&&(t=fn(a,t,o,p,m,n,f));return n}function Lu(r,e){if(!r)return null;var t=r._index,a=r._ptr,n=r._size,o=n[0],p=n[1],m=[],f=[],u=0,i=p,s,l;if(e)for(s=0;s<o;s++)f[i+s]=-1;for(var v=0;v<p;v++){m[v]=-1,f[u+v]=-1;for(var d=a[v],c=a[v+1],h=d;h<c;h++){var g=t[h];for(s=e?f[i+g]:g;s!==-1&&s<v;s=l)l=f[u+s],f[u+s]=v,l===-1&&(m[s]=v);e&&(f[i+g]=v)}}return m}function Zu(r,e,t){for(var a=r._values,n=r._index,o=r._ptr,p=r._size,m=p[1],f=0,u=0;u<m;u++){var i=o[u];for(o[u]=f;i<o[u+1];i++)e(n[i],u,a?a[i]:1,t)&&(n[f]=n[i],a&&(a[f]=a[i]),f++)}return o[m]=f,n.splice(f,n.length-f),a&&a.splice(f,a.length-f),f}function De(r){return-r-2}var _p="csAmd",zp=["add","multiply","transpose"],Vu=P(_p,zp,r=>{var{add:e,multiply:t,transpose:a}=r;return function(i,s){if(!s||i<=0||i>3)return null;var l=s._size,v=l[0],d=l[1],c=0,h=Math.max(16,10*Math.sqrt(d));h=Math.min(d-2,h);var g=n(i,s,v,d,h);Zu(g,f,null);for(var y=g._index,x=g._ptr,E=x[d],C=[],D=[],A=0,F=d+1,b=2*(d+1),w=3*(d+1),S=4*(d+1),M=5*(d+1),I=6*(d+1),q=7*(d+1),T=C,B=o(d,x,D,A,w,T,b,q,F,I,S,M),Q=p(d,x,D,M,S,I,h,F,w,T,b),Z=0,_,z,U,H,V,R,G,$,W,er,nr,X,gr,cr,ir,or;Q<d;){for(U=-1;Z<d&&(U=D[w+Z])===-1;Z++);D[b+U]!==-1&&(T[D[b+U]]=-1),D[w+Z]=D[b+U];var xr=D[S+U],Ar=D[F+U];Q+=Ar;var Cr=0;D[F+U]=-Ar;var fr=x[U],yr=xr===0?fr:E,br=yr;for(H=1;H<=xr+1;H++){for(H>xr?(R=U,G=fr,$=D[A+U]-xr):(R=y[fr++],G=x[R],$=D[A+R]),V=1;V<=$;V++)_=y[G++],!((W=D[F+_])<=0)&&(Cr+=W,D[F+_]=-W,y[br++]=_,D[b+_]!==-1&&(T[D[b+_]]=T[_]),T[_]!==-1?D[b+T[_]]=D[b+_]:D[w+D[M+_]]=D[b+_]);R!==U&&(x[R]=De(U),D[I+R]=0)}for(xr!==0&&(E=br),D[M+U]=Cr,x[U]=yr,D[A+U]=br-yr,D[S+U]=-2,B=m(B,c,D,I,d),er=yr;er<br;er++)if(_=y[er],!((nr=D[S+_])<=0)){W=-D[F+_];var Ir=B-W;for(fr=x[_],X=x[_]+nr-1;fr<=X;fr++)R=y[fr],D[I+R]>=B?D[I+R]-=W:D[I+R]!==0&&(D[I+R]=D[M+R]+Ir)}for(er=yr;er<br;er++){for(_=y[er],X=x[_],gr=X+D[S+_]-1,cr=X,ir=0,or=0,fr=X;fr<=gr;fr++)if(R=y[fr],D[I+R]!==0){var Or=D[I+R]-B;Or>0?(or+=Or,y[cr++]=R,ir+=R):(x[R]=De(U),D[I+R]=0)}D[S+_]=cr-X+1;var kr=cr,le=X+D[A+_];for(fr=gr+1;fr<le;fr++){z=y[fr];var Xr=D[F+z];Xr<=0||(or+=Xr,y[cr++]=z,ir+=z)}or===0?(x[_]=De(U),W=-D[F+_],Cr-=W,Ar+=W,Q+=W,D[F+_]=0,D[S+_]=-1):(D[M+_]=Math.min(D[M+_],or),y[cr]=y[kr],y[kr]=y[X],y[X]=U,D[A+_]=cr-X+1,ir=(ir<0?-ir:ir)%d,D[b+_]=D[q+ir],D[q+ir]=_,T[_]=ir)}for(D[M+U]=Cr,c=Math.max(c,Cr),B=m(B+c,c,D,I,d),er=yr;er<br;er++)if(_=y[er],!(D[F+_]>=0))for(ir=T[_],_=D[q+ir],D[q+ir]=-1;_!==-1&&D[b+_]!==-1;_=D[b+_],B++){for($=D[A+_],nr=D[S+_],fr=x[_]+1;fr<=x[_]+$-1;fr++)D[I+y[fr]]=B;var xe=_;for(z=D[b+_];z!==-1;){var Ce=D[A+z]===$&&D[S+z]===nr;for(fr=x[z]+1;Ce&&fr<=x[z]+$-1;fr++)D[I+y[fr]]!==B&&(Ce=0);Ce?(x[z]=De(_),D[F+_]+=D[F+z],D[F+z]=0,D[S+z]=-1,z=D[b+z],D[b+xe]=z):(xe=z,z=D[b+z])}}for(fr=yr,er=yr;er<br;er++)_=y[er],!((W=-D[F+_])<=0)&&(D[F+_]=W,or=D[M+_]+Cr-W,or=Math.min(or,d-Q-W),D[w+or]!==-1&&(T[D[w+or]]=_),D[b+_]=D[w+or],T[_]=-1,D[w+or]=_,Z=Math.min(Z,or),D[M+_]=or,y[fr++]=_);D[F+U]=Ar,(D[A+U]=fr-yr)===0&&(x[U]=-1,D[I+U]=0),xr!==0&&(E=fr)}for(_=0;_<d;_++)x[_]=De(x[_]);for(z=0;z<=d;z++)D[w+z]=-1;for(z=d;z>=0;z--)D[F+z]>0||(D[b+z]=D[w+x[z]],D[w+x[z]]=z);for(R=d;R>=0;R--)D[F+R]<=0||x[R]!==-1&&(D[b+R]=D[w+x[R]],D[w+x[R]]=R);for(U=0,_=0;_<=d;_++)x[_]===-1&&(U=fn(_,U,D,w,b,C,I));return C.splice(C.length-1,1),C};function n(u,i,s,l,v){var d=a(i);if(u===1&&l===s)return e(i,d);if(u===2){for(var c=d._index,h=d._ptr,g=0,y=0;y<s;y++){var x=h[y];if(h[y]=g,!(h[y+1]-x>v))for(var E=h[y+1];x<E;x++)c[g++]=c[x]}return h[s]=g,i=a(d),t(d,i)}return t(d,i)}function o(u,i,s,l,v,d,c,h,g,y,x,E){for(var C=0;C<u;C++)s[l+C]=i[C+1]-i[C];s[l+u]=0;for(var D=0;D<=u;D++)s[v+D]=-1,d[D]=-1,s[c+D]=-1,s[h+D]=-1,s[g+D]=1,s[y+D]=1,s[x+D]=0,s[E+D]=s[l+D];var A=m(0,0,s,y,u);return s[x+u]=-2,i[u]=-1,s[y+u]=0,A}function p(u,i,s,l,v,d,c,h,g,y,x){for(var E=0,C=0;C<u;C++){var D=s[l+C];if(D===0)s[v+C]=-2,E++,i[C]=-1,s[d+C]=0;else if(D>c)s[h+C]=0,s[v+C]=-1,E++,i[C]=De(u),s[h+u]++;else{var A=s[g+D];A!==-1&&(y[A]=C),s[x+C]=s[g+D],s[g+D]=C}}return E}function m(u,i,s,l,v){if(u<2||u+i<0){for(var d=0;d<v;d++)s[l+d]!==0&&(s[l+d]=1);u=2}return u}function f(u,i){return u!==i}});function Qu(r,e,t,a,n,o,p){var m,f,u=0,i;if(r<=e||t[a+e]<=t[n+r])return-1;t[n+r]=t[a+e];var s=t[o+r];if(t[o+r]=e,s===-1)u=1,i=r;else{for(u=2,i=s;i!==t[p+i];i=t[p+i]);for(m=s;m!==i;m=f)f=t[p+m],t[p+m]=i}return{jleaf:u,q:i}}var Tp="csCounts",Ip=["transpose"],Gu=P(Tp,Ip,r=>{var{transpose:e}=r;return function(t,a,n,o){if(!t||!a||!n)return null;var p=t._size,m=p[0],f=p[1],u,i,s,l,v,d,c,h=4*f+(o?f+m+1:0),g=[],y=0,x=f,E=2*f,C=3*f,D=4*f,A=5*f+1;for(s=0;s<h;s++)g[s]=-1;var F=[],b=e(t),w=b._index,S=b._ptr;for(s=0;s<f;s++)for(i=n[s],F[i]=g[C+i]===-1?1:0;i!==-1&&g[C+i]===-1;i=a[i])g[C+i]=s;if(o){for(s=0;s<f;s++)g[n[s]]=s;for(u=0;u<m;u++){for(s=f,d=S[u],c=S[u+1],v=d;v<c;v++)s=Math.min(s,g[w[v]]);g[A+u]=g[D+s],g[D+s]=u}}for(u=0;u<f;u++)g[y+u]=u;for(s=0;s<f;s++){for(i=n[s],a[i]!==-1&&F[a[i]]--,l=o?g[D+s]:i;l!==-1;l=o?g[A+l]:-1)for(v=S[l];v<S[l+1];v++){u=w[v];var M=Qu(u,i,g,C,x,E,y);M.jleaf>=1&&F[i]++,M.jleaf===2&&F[M.q]--}a[i]!==-1&&(g[y+i]=a[i])}for(i=0;i<f;i++)a[i]!==-1&&(F[a[i]]+=F[i]);return F}});var Op="csSqr",Pp=["add","multiply","transpose"],Xu=P(Op,Pp,r=>{var{add:e,multiply:t,transpose:a}=r,n=Vu({add:e,multiply:t,transpose:a}),o=Gu({transpose:a});return function(f,u,i){var s=u._ptr,l=u._size,v=l[1],d,c={};if(c.q=n(f,u),f&&!c.q)return null;if(i){var h=f?Ru(u,null,c.q,0):u;c.parent=Lu(h,1);var g=Uu(c.parent,v);if(c.cp=o(h,c.parent,g,1),h&&c.parent&&c.cp&&p(h,c))for(c.unz=0,d=0;d<v;d++)c.unz+=c.cp[d]}else c.unz=4*s[v]+v,c.lnz=c.unz;return c};function p(m,f){var u=m._ptr,i=m._index,s=m._size,l=s[0],v=s[1];f.pinv=[],f.leftmost=[];var d=f.parent,c=f.pinv,h=f.leftmost,g=[],y=0,x=l,E=l+v,C=l+2*v,D,A,F,b,w;for(A=0;A<v;A++)g[x+A]=-1,g[E+A]=-1,g[C+A]=0;for(D=0;D<l;D++)h[D]=-1;for(A=v-1;A>=0;A--)for(b=u[A],w=u[A+1],F=b;F<w;F++)h[i[F]]=A;for(D=l-1;D>=0;D--)c[D]=-1,A=h[D],A!==-1&&(g[C+A]++===0&&(g[E+A]=D),g[y+D]=g[x+A],g[x+A]=D);for(f.lnz=0,f.m2=l,A=0;A<v;A++)if(D=g[x+A],f.lnz++,D<0&&(D=f.m2++),c[D]=A,!(--C[A]<=0)){f.lnz+=g[C+A];var S=d[A];S!==-1&&(g[C+S]===0&&(g[E+S]=g[E+A]),g[y+g[E+A]]=g[x+S],g[x+S]=g[y+D],g[C+S]+=g[C+A])}for(D=0;D<l;D++)c[D]<0&&(c[D]=A++);return!0}});function yt(r,e){return r[e]<0}function cn(r,e){r[e]=De(r[e])}function ni(r){return r<0?De(r):r}function $u(r,e,t,a,n){var o=e._index,p=e._ptr,m=e._size,f=m[1],u,i,s,l=0;for(a[0]=r;l>=0;){r=a[l];var v=n?n[r]:r;yt(p,r)||(cn(p,r),a[f+l]=v<0?0:ni(p[v]));var d=1;for(i=a[f+l],s=v<0?0:ni(p[v+1]);i<s;i++)if(u=o[i],!yt(p,u)){a[f+l]=i,a[++l]=u,d=0;break}d&&(l--,a[--t]=r)}return t}function Yu(r,e,t,a,n){var o=r._ptr,p=r._size,m=e._index,f=e._ptr,u=p[1],i,s,l,v=u;for(s=f[t],l=f[t+1],i=s;i<l;i++){var d=m[i];yt(o,d)||(v=$u(d,r,v,a,n))}for(i=v;i<u;i++)cn(o,a[i]);return v}var qp="csSpsolve",Rp=["divideScalar","multiply","subtract"],Ju=P(qp,Rp,r=>{var{divideScalar:e,multiply:t,subtract:a}=r;return function(o,p,m,f,u,i,s){var l=o._values,v=o._index,d=o._ptr,c=o._size,h=c[1],g=p._values,y=p._index,x=p._ptr,E,C,D,A,F=Yu(o,p,m,f,i);for(E=F;E<h;E++)u[f[E]]=0;for(C=x[m],D=x[m+1],E=C;E<D;E++)u[y[E]]=g[E];for(var b=F;b<h;b++){var w=f[b],S=i?i[w]:w;if(!(S<0))for(C=d[S],D=d[S+1],u[w]=e(u[w],l[s?C:D-1]),E=s?C+1:C,A=s?D:D-1;E<A;E++){var M=v[E];u[M]=a(u[M],t(l[E],u[w]))}}return F}});var Up="csLu",Lp=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Ku=P(Up,Lp,r=>{var{abs:e,divideScalar:t,multiply:a,subtract:n,larger:o,largerEq:p,SparseMatrix:m}=r,f=Ju({divideScalar:t,multiply:a,subtract:n});return function(i,s,l){if(!i)return null;var v=i._size,d=v[1],c,h=100,g=100;s&&(c=s.q,h=s.lnz||h,g=s.unz||g);var y=[],x=[],E=[],C=new m({values:y,index:x,ptr:E,size:[d,d]}),D=[],A=[],F=[],b=new m({values:D,index:A,ptr:F,size:[d,d]}),w=[],S,M,I=[],q=[];for(S=0;S<d;S++)I[S]=0,w[S]=-1,E[S+1]=0;h=0,g=0;for(var T=0;T<d;T++){E[T]=h,F[T]=g;var B=c?c[T]:T,Q=f(C,i,B,q,I,w,1),Z=-1,_=-1;for(M=Q;M<d;M++)if(S=q[M],w[S]<0){var z=e(I[S]);o(z,_)&&(_=z,Z=S)}else A[g]=w[S],D[g++]=I[S];if(Z===-1||_<=0)return null;w[B]<0&&p(e(I[B]),a(_,l))&&(Z=B);var U=I[Z];for(A[g]=T,D[g++]=U,w[Z]=T,x[h]=Z,y[h++]=1,M=Q;M<d;M++)S=q[M],w[S]<0&&(x[h]=S,y[h++]=t(I[S],U)),I[S]=0}for(E[d]=h,F[d]=g,M=0;M<h;M++)x[M]=w[x[M]];return y.splice(h,y.length-h),x.splice(h,x.length-h),D.splice(g,D.length-g),A.splice(g,A.length-g),{L:C,U:b,pinv:w}}});var Hu="slu",Zp=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],ai=P(Hu,Zp,r=>{var{typed:e,abs:t,add:a,multiply:n,transpose:o,divideScalar:p,subtract:m,larger:f,largerEq:u,SparseMatrix:i}=r,s=Xu({add:a,multiply:n,transpose:o}),l=Ku({abs:t,divideScalar:p,multiply:n,subtract:m,larger:f,largerEq:u,SparseMatrix:i});return e(Hu,{"SparseMatrix, number, number":function(d,c,h){if(!mr(c)||c<0||c>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(h<0||h>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=s(c,d,!1),y=l(d,g,h);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ii(r,e){var t,a=e.length,n=[];if(r)for(t=0;t<a;t++)n[r[t]]=e[t];else for(t=0;t<a;t++)n[t]=e[t];return n}var Wu="lusolve",Vp=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],oi=P(Wu,Vp,r=>{var{typed:e,matrix:t,lup:a,slu:n,usolve:o,lsolve:p,DenseMatrix:m}=r,f=Ue({DenseMatrix:m});return e(Wu,{"Array, Array | Matrix":function(l,v){l=t(l);var d=a(l),c=i(d.L,d.U,d.p,null,v);return c.valueOf()},"DenseMatrix, Array | Matrix":function(l,v){var d=a(l);return i(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix":function(l,v){var d=a(l);return i(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix, number, number":function(l,v,d,c){var h=n(l,d,c);return i(h.L,h.U,h.p,h.q,v)},"Object, Array | Matrix":function(l,v){return i(l.L,l.U,l.p,l.q,v)}});function u(s){if(wr(s))return s;if(Fr(s))return t(s);throw new TypeError("Invalid Matrix LU decomposition")}function i(s,l,v,d,c){s=u(s),l=u(l),v&&(c=f(s,c,!0),c._data=ii(v,c._data));var h=p(s,c),g=o(l,h);return d&&(g._data=ii(d,g._data)),g}});var ku="det",Qp=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],ui=P(ku,Qp,r=>{var{typed:e,matrix:t,subtract:a,multiply:n,divideScalar:o,isZero:p,unaryMinus:m}=r;return e(ku,{any:function(i){return pr(i)},"Array | Matrix":function(i){var s;switch(wr(i)?s=i.size():Array.isArray(i)?(i=t(i),s=i.size()):s=[],s.length){case 0:return pr(i);case 1:if(s[0]===1)return pr(i.valueOf()[0]);if(s[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Mr(s)+")");case 2:{var l=s[0],v=s[1];if(l===v)return f(i.clone().valueOf(),l,v);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+Mr(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Mr(s)+")")}}});function f(u,i,s){if(i===1)return pr(u[0][0]);if(i===2)return a(n(u[0][0],u[1][1]),n(u[1][0],u[0][1]));for(var l=!1,v=new Array(i).fill(0).map((A,F)=>F),d=0;d<i;d++){var c=v[d];if(p(u[c][d])){var h=void 0;for(h=d+1;h<i;h++)if(!p(u[v[h]][d])){c=v[h],v[h]=v[d],v[d]=c,l=!l;break}if(h===i)return u[c][d]}for(var g=u[c][d],y=d===0?1:u[v[d-1]][d-1],x=d+1;x<i;x++)for(var E=v[x],C=d+1;C<i;C++)u[E][C]=o(a(n(u[E][C],g),n(u[E][d],u[c][C])),y)}var D=u[v[i-1]][i-1];return l?m(D):D}});var ju="inv",Gp=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],si=P(ju,Gp,r=>{var{typed:e,matrix:t,divideScalar:a,addScalar:n,multiply:o,unaryMinus:p,det:m,identity:f,abs:u}=r;return e(ju,{"Array | Matrix":function(l){var v=wr(l)?l.size():zr(l);switch(v.length){case 1:if(v[0]===1)return wr(l)?t([a(1,l.valueOf()[0])]):[a(1,l[0])];throw new RangeError("Matrix must be square (size: "+Mr(v)+")");case 2:{var d=v[0],c=v[1];if(d===c)return wr(l)?t(i(l.valueOf(),d,c),l.storage()):i(l,d,c);throw new RangeError("Matrix must be square (size: "+Mr(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Mr(v)+")")}},any:function(l){return a(1,l)}});function i(s,l,v){var d,c,h,g,y;if(l===1){if(g=s[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,g)]]}else if(l===2){var x=m(s);if(x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(s[1][1],x),a(p(s[0][1]),x)],[a(p(s[1][0]),x),a(s[0][0],x)]]}else{var E=s.concat();for(d=0;d<l;d++)E[d]=E[d].concat();for(var C=f(l).valueOf(),D=0;D<v;D++){var A=u(E[D][D]),F=D;for(d=D+1;d<l;)u(E[d][D])>A&&(A=u(E[d][D]),F=d),d++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");d=F,d!==D&&(y=E[D],E[D]=E[d],E[d]=y,y=C[D],C[D]=C[d],C[d]=y);var b=E[D],w=C[D];for(d=0;d<l;d++){var S=E[d],M=C[d];if(d!==D){if(S[D]!==0){for(h=a(p(S[D]),b[D]),c=D;c<v;c++)S[c]=n(S[c],o(h,b[c]));for(c=0;c<v;c++)M[c]=n(M[c],o(h,w[c]))}}else{for(h=b[D],c=D;c<v;c++)S[c]=a(S[c],h);for(c=0;c<v;c++)M[c]=a(M[c],h)}}}return C}}});function rs(r){var{addScalar:e,subtract:t,flatten:a,multiply:n,multiplyScalar:o,divideScalar:p,sqrt:m,abs:f,bignumber:u,diag:i,inv:s,qr:l,usolve:v,usolveAll:d,equal:c,complex:h,larger:g,smaller:y,matrixFromColumns:x,dot:E}=r;function C(z,U,H,V,R){R===void 0&&(R=!0);var G=D(z,U,H,V,R);A(z,U,H,V,R,G);var{values:$,C:W}=F(z,U,H,V,R),er;return R&&(er=b(z,U,W,G,$,H,V),er=x(...er)),{values:$,vectors:er}}function D(z,U,H,V,R){var G=V==="BigNumber",$=V==="Complex",W=G?u(0):0,er=G?u(1):$?h(1):1,nr=G?u(1):1,X=G?u(10):2,gr=o(X,X),cr;R&&(cr=Array(U).fill(er));for(var ir=!1;!ir;){ir=!0;for(var or=0;or<U;or++){for(var xr=W,Ar=W,Cr=0;Cr<U;Cr++)if(or!==Cr){var fr=f(z[or][Cr]);xr=e(xr,fr),Ar=e(Ar,fr)}if(!c(xr,0)&&!c(Ar,0)){for(var yr=nr,br=xr,Ir=p(Ar,X),Or=o(Ar,X);y(br,Ir);)br=o(br,gr),yr=o(yr,X);for(;g(br,Or);)br=p(br,gr),yr=p(yr,X);var kr=y(p(e(br,Ar),yr),o(e(xr,Ar),.95));if(kr){ir=!1;for(var le=p(1,yr),Xr=0;Xr<U;Xr++)or!==Xr&&(z[or][Xr]=o(z[or][Xr],yr),z[Xr][or]=o(z[Xr][or],le));R&&(cr[or]=o(cr[or],yr))}}}}return i(cr)}function A(z,U,H,V,R,G){var $=V==="BigNumber",W=V==="Complex",er=$?u(0):W?h(0):0;$&&(H=u(H));for(var nr=0;nr<U-2;nr++){for(var X=0,gr=er,cr=nr+1;cr<U;cr++){var ir=z[cr][nr];y(f(gr),f(ir))&&(gr=ir,X=cr)}if(!y(f(gr),H)){if(X!==nr+1){var or=z[X];z[X]=z[nr+1],z[nr+1]=or;for(var xr=0;xr<U;xr++){var Ar=z[xr][X];z[xr][X]=z[xr][nr+1],z[xr][nr+1]=Ar}if(R){var Cr=G[X];G[X]=G[nr+1],G[nr+1]=Cr}}for(var fr=nr+2;fr<U;fr++){var yr=p(z[fr][nr],gr);if(yr!==0){for(var br=0;br<U;br++)z[fr][br]=t(z[fr][br],o(yr,z[nr+1][br]));for(var Ir=0;Ir<U;Ir++)z[Ir][nr+1]=e(z[Ir][nr+1],o(yr,z[Ir][fr]));if(R)for(var Or=0;Or<U;Or++)G[fr][Or]=t(G[fr][Or],o(yr,G[nr+1][Or]))}}}}return G}function F(z,U,H,V,R){var G=V==="BigNumber",$=V==="Complex",W=G?u(1):$?h(1):1;G&&(H=u(H));for(var er=pr(z),nr=[],X=U,gr=[],cr=R?i(Array(U).fill(W)):void 0,ir=R?i(Array(X).fill(W)):void 0,or=0;or<=100;){or+=1;for(var xr=0,Ar=0;Ar<X;Ar++)er[Ar][Ar]=t(er[Ar][Ar],xr);var{Q:Cr,R:fr}=l(er);er=n(fr,Cr);for(var yr=0;yr<X;yr++)er[yr][yr]=e(er[yr][yr],xr);if(R&&(ir=n(ir,Cr)),X===1||y(f(er[X-1][X-2]),H)){or=0,nr.push(er[X-1][X-1]),R&&(gr.unshift([[1]]),M(ir,U),cr=n(cr,ir),X>1&&(ir=i(Array(X-1).fill(W)))),X-=1,er.pop();for(var br=0;br<X;br++)er[br].pop()}else if(X===2||y(f(er[X-2][X-3]),H)){or=0;var Ir=w(er[X-2][X-2],er[X-2][X-1],er[X-1][X-2],er[X-1][X-1]);nr.push(...Ir),R&&(gr.unshift(S(er[X-2][X-2],er[X-2][X-1],er[X-1][X-2],er[X-1][X-1],Ir[0],Ir[1],H,V)),M(ir,U),cr=n(cr,ir),X>2&&(ir=i(Array(X-2).fill(W)))),X-=2,er.pop(),er.pop();for(var Or=0;Or<X;Or++)er[Or].pop(),er[Or].pop()}if(X===0)break}if(nr.sort((Xr,xe)=>+t(f(Xr),f(xe))),or>100){var kr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+nr.join(", "));throw kr.values=nr,kr.vectors=[],kr}var le=R?n(cr,I(gr,U)):void 0;return{values:nr,C:le}}function b(z,U,H,V,R,G,$){var W=s(H),er=n(W,z,H),nr=$==="BigNumber",X=$==="Complex",gr=nr?u(0):X?h(0):0,cr=nr?u(1):X?h(1):1,ir=[],or=[];for(var xr of R){var Ar=q(ir,xr,c);Ar===-1?(ir.push(xr),or.push(1)):or[Ar]+=1}for(var Cr=[],fr=ir.length,yr=Array(U).fill(gr),br=i(Array(U).fill(cr)),Ir=[],Or=function(){var xe=ir[kr],Ce=t(er,n(xe,br)),ye=d(Ce,yr);for(ye.shift();ye.length<or[kr];){var Ft=T(Ce,U,ye,G,$);if(Ft==null){Ir.push(xe);break}ye.push(Ft)}var gn=n(s(V),H);ye=ye.map(ft=>n(gn,ft)),Cr.push(...ye.map(ft=>a(ft)))},kr=0;kr<fr;kr++)Or();if(Ir.length!==0){var le=new Error("Failed to find eigenvectors for the following eigenvalues: "+Ir.join(", "));throw le.values=R,le.vectors=Cr,le}return Cr}function w(z,U,H,V){var R=e(z,V),G=t(o(z,V),o(U,H)),$=o(R,.5),W=o(m(t(o(R,R),o(4,G))),.5);return[e($,W),t($,W)]}function S(z,U,H,V,R,G,$,W){var er=W==="BigNumber",nr=W==="Complex",X=er?u(0):nr?h(0):0,gr=er?u(1):nr?h(1):1;if(y(f(H),$))return[[gr,X],[X,gr]];if(g(f(t(R,G)),$))return[[t(R,V),t(G,V)],[H,H]];var cr=t(z,R),ir=t(U,R),or=t(H,R),xr=t(V,R);return y(f(ir),$)?[[cr,gr],[or,X]]:[[ir,X],[xr,gr]]}function M(z,U){for(var H=0;H<z.length;H++)z[H].push(...Array(U-z[H].length).fill(0));for(var V=z.length;V<U;V++)z.push(Array(U).fill(0)),z[V][V]=1;return z}function I(z,U){for(var H=[],V=0;V<U;V++)H[V]=Array(U).fill(0);var R=0;for(var G of z){for(var $=G.length,W=0;W<$;W++)for(var er=0;er<$;er++)H[R+W][R+er]=G[W][er];R+=$}return H}function q(z,U,H){for(var V=0;V<z.length;V++)if(H(z[V],U))return V;return-1}function T(z,U,H,V,R){for(var G=R==="BigNumber"?u(1e3):1e3,$,W=0;$=B(U,H,R),$=v(z,$),!g(Z($),G);)if(++W>=5)return null;for(W=0;;){var er=v(z,$);if(y(Z(Q($,[er])),V))break;if(++W>=10)return null;$=_(er)}return $}function B(z,U,H){var V=H==="BigNumber",R=H==="Complex",G=Array(z).fill(0).map($=>2*Math.random()-1);return V&&(G=G.map($=>u($))),R&&(G=G.map($=>h($))),G=Q(G,U),_(G,H)}function Q(z,U){for(var H of U)z=t(z,n(p(E(H,z),E(H,H)),H));return z}function Z(z){return f(m(E(z,z)))}function _(z,U){var H=U==="BigNumber",V=U==="Complex",R=H?u(1):V?h(1):1;return n(p(R,Z(z)),z)}return C}function es(r){var{config:e,addScalar:t,subtract:a,abs:n,atan:o,cos:p,sin:m,multiplyScalar:f,inv:u,bignumber:i,multiply:s,add:l}=r;function v(w,S){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,I=arguments.length>3?arguments[3]:void 0;if(I==="number")return d(w,M);if(I==="BigNumber")return c(w,M);throw TypeError("Unsupported data type: "+I)}function d(w,S){for(var M=w.length,I=Math.abs(S/M),q,T=new Array(M),B=0;B<M;B++)T[B]=b(M,0),T[B][B]=1;for(var Q=D(w);Math.abs(Q[1])>=Math.abs(I);){var Z=Q[0][0],_=Q[0][1];q=h(w[Z][Z],w[_][_],w[Z][_]),w=C(w,q,Z,_),T=y(T,q,Z,_),Q=D(w)}for(var z=b(M,0),U=0;U<M;U++)z[U]=w[U][U];return F(pr(z),pr(T))}function c(w,S){for(var M=w.length,I=n(S/M),q,T=new Array(M),B=0;B<M;B++)T[B]=b(M,0),T[B][B]=1;for(var Q=A(w);n(Q[1])>=n(I);){var Z=Q[0][0],_=Q[0][1];q=g(w[Z][Z],w[_][_],w[Z][_]),w=E(w,q,Z,_),T=x(T,q,Z,_),Q=A(w)}for(var z=b(M,0),U=0;U<M;U++)z[U]=w[U][U];return F(pr(z),pr(T))}function h(w,S,M){var I=S-w;return Math.abs(I)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(S-w))}function g(w,S,M){var I=a(S,w);return n(I)<=e.epsilon?i(-1).acos().div(4):f(.5,o(s(2,M,u(I))))}function y(w,S,M,I){for(var q=w.length,T=Math.cos(S),B=Math.sin(S),Q=b(q,0),Z=b(q,0),_=0;_<q;_++)Q[_]=T*w[_][M]-B*w[_][I],Z[_]=B*w[_][M]+T*w[_][I];for(var z=0;z<q;z++)w[z][M]=Q[z],w[z][I]=Z[z];return w}function x(w,S,M,I){for(var q=w.length,T=p(S),B=m(S),Q=b(q,i(0)),Z=b(q,i(0)),_=0;_<q;_++)Q[_]=a(f(T,w[_][M]),f(B,w[_][I])),Z[_]=t(f(B,w[_][M]),f(T,w[_][I]));for(var z=0;z<q;z++)w[z][M]=Q[z],w[z][I]=Z[z];return w}function E(w,S,M,I){for(var q=w.length,T=i(p(S)),B=i(m(S)),Q=f(T,T),Z=f(B,B),_=b(q,i(0)),z=b(q,i(0)),U=s(i(2),T,B,w[M][I]),H=t(a(f(Q,w[M][M]),U),f(Z,w[I][I])),V=l(f(Z,w[M][M]),U,f(Q,w[I][I])),R=0;R<q;R++)_[R]=a(f(T,w[M][R]),f(B,w[I][R])),z[R]=t(f(B,w[M][R]),f(T,w[I][R]));w[M][M]=H,w[I][I]=V,w[M][I]=i(0),w[I][M]=i(0);for(var G=0;G<q;G++)G!==M&&G!==I&&(w[M][G]=_[G],w[G][M]=_[G],w[I][G]=z[G],w[G][I]=z[G]);return w}function C(w,S,M,I){for(var q=w.length,T=Math.cos(S),B=Math.sin(S),Q=T*T,Z=B*B,_=b(q,0),z=b(q,0),U=Q*w[M][M]-2*T*B*w[M][I]+Z*w[I][I],H=Z*w[M][M]+2*T*B*w[M][I]+Q*w[I][I],V=0;V<q;V++)_[V]=T*w[M][V]-B*w[I][V],z[V]=B*w[M][V]+T*w[I][V];w[M][M]=U,w[I][I]=H,w[M][I]=0,w[I][M]=0;for(var R=0;R<q;R++)R!==M&&R!==I&&(w[M][R]=_[R],w[R][M]=_[R],w[I][R]=z[R],w[R][I]=z[R]);return w}function D(w){for(var S=w.length,M=0,I=[0,1],q=0;q<S;q++)for(var T=q+1;T<S;T++)Math.abs(M)<Math.abs(w[q][T])&&(M=Math.abs(w[q][T]),I=[q,T]);return[I,M]}function A(w){for(var S=w.length,M=0,I=[0,1],q=0;q<S;q++)for(var T=q+1;T<S;T++)n(M)<n(w[q][T])&&(M=n(w[q][T]),I=[q,T]);return[I,M]}function F(w,S){for(var M=w.length,I=Array(M),q=Array(M),T=0;T<M;T++)q[T]=Array(M);for(var B=0;B<M;B++){for(var Q=0,Z=w[0],_=0;_<w.length;_++)n(w[_])<n(Z)&&(Q=_,Z=w[Q]);I[B]=w.splice(Q,1)[0];for(var z=0;z<M;z++)q[z][B]=S[z][Q],S[z].splice(Q,1)}return{values:I,vectors:q}}function b(w,S){for(var M=new Array(w),I=0;I<w;I++)M[I]=S;return M}return v}var Xp="eigs",$p=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],fi=P(Xp,$p,r=>{var{config:e,typed:t,matrix:a,addScalar:n,subtract:o,equal:p,abs:m,atan:f,cos:u,sin:i,multiplyScalar:s,divideScalar:l,inv:v,bignumber:d,multiply:c,add:h,larger:g,column:y,flatten:x,number:E,complex:C,sqrt:D,diag:A,qr:F,usolve:b,usolveAll:w,im:S,re:M,smaller:I,matrixFromColumns:q,dot:T}=r,B=es({config:e,addScalar:n,subtract:o,column:y,flatten:x,equal:p,abs:m,atan:f,cos:u,sin:i,multiplyScalar:s,inv:v,bignumber:d,complex:C,multiply:c,add:h}),Q=rs({config:e,addScalar:n,subtract:o,multiply:c,multiplyScalar:s,flatten:x,divideScalar:l,sqrt:D,abs:m,bignumber:d,diag:A,qr:F,inv:v,usolve:b,usolveAll:w,equal:p,complex:C,larger:g,smaller:I,matrixFromColumns:q,dot:T});return t("eigs",{Array:function(R){var G=a(R);return Z(G)},"Array, number|BigNumber":function(R,G){var $=a(R);return Z($,G)},Matrix:function(R){var{values:G,vectors:$}=Z(R);return{values:a(G),vectors:a($)}},"Matrix, number|BigNumber":function(R,G){var{values:$,vectors:W}=Z(R,G);return{values:a($),vectors:a(W)}}});function Z(V,R){R===void 0&&(R=e.epsilon);var G=V.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: "+Mr(G)+")");var $=V.toArray(),W=G[0];if(z($,W,R)&&(U($,W),_($,W,R))){var er=H(V,$,W);return B($,W,R,er)}var nr=H(V,$,W);return Q($,W,R,nr)}function _(V,R,G){for(var $=0;$<R;$++)for(var W=$;W<R;W++)if(g(d(m(o(V[$][W],V[W][$]))),G))return!1;return!0}function z(V,R,G){for(var $=0;$<R;$++)for(var W=0;W<R;W++)if(g(d(m(S(V[$][W]))),G))return!1;return!0}function U(V,R){for(var G=0;G<R;G++)for(var $=0;$<R;$++)V[G][$]=M(V[G][$])}function H(V,R,G){var $=V.datatype();if($==="number"||$==="BigNumber"||$==="Complex")return $;for(var W=!1,er=!1,nr=!1,X=0;X<G;X++)for(var gr=0;gr<G;gr++){var cr=R[X][gr];if(Sr(cr)||mt(cr))W=!0;else if(Br(cr))er=!0;else if(vt(cr))nr=!0;else throw TypeError("Unsupported type in Matrix: "+Qr(cr))}if(er&&nr&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),nr){for(var ir=0;ir<G;ir++)for(var or=0;or<G;or++)R[ir][or]=C(R[ir][or]);return"Complex"}if(er){for(var xr=0;xr<G;xr++)for(var Ar=0;Ar<G;Ar++)R[xr][Ar]=d(R[xr][Ar]);return"BigNumber"}if(W){for(var Cr=0;Cr<G;Cr++)for(var fr=0;fr<G;fr++)R[Cr][fr]=E(R[Cr][fr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var nt=Un({config:Jr}),ln=Zn({});var pn=Qn({});var ci=Gn({});var Rr=Xn({Matrix:ci});var ur=_n({BigNumber:nt,Complex:ln,DenseMatrix:Rr,Fraction:pn});var wt=fa({typed:ur});var Ne=ca({typed:ur});var Yp=Ya({typed:ur});var li=na({BigNumber:nt,typed:ur});var pi=aa({Complex:ln,typed:ur}),vn=da({typed:ur});var he=ra({config:Jr,typed:ur});var Jp=ga({typed:ur}),Kp=$n({typed:ur});var ts=jn({typed:ur});var Le=la({typed:ur});var vi=ta({typed:ur});var Hp=Da({typed:ur});var Wp=va({BigNumber:nt,Fraction:pn,complex:pi,typed:ur}),kp=Ka({typed:ur}),at=ea({Matrix:ci,equalScalar:he,typed:ur});var jp=Ja({typed:ur});var mi=ma({Complex:ln,config:Jr,typed:ur});var At=sa({typed:ur});var ns=ia({Fraction:pn,typed:ur});var Dr=oa({DenseMatrix:Rr,Matrix:ci,SparseMatrix:at,typed:ur});var r0=Ba({bignumber:li,fraction:ns,number:vi});var hi=Fa({matrix:Dr,config:Jr,typed:ur});var Be=ba({matrix:Dr,typed:ur}),mn=Ma({matrix:Dr,typed:ur});var hn=Na({BigNumber:nt,config:Jr,matrix:Dr,typed:ur});var Ze=xa({isInteger:Kp,matrix:Dr,typed:ur});var e0=Sa({conj:vn,transpose:mn,typed:ur}),t0=wa({DenseMatrix:Rr,SparseMatrix:at,matrix:Dr,typed:ur}),_e=_a({numeric:r0,typed:ur});var as=Ra({DenseMatrix:Rr,concat:Ze,equalScalar:he,matrix:Dr,typed:ur}),dn=Aa({matrix:Dr,typed:ur});var di=Ea({BigNumber:nt,DenseMatrix:Rr,SparseMatrix:at,config:Jr,matrix:Dr,typed:ur});var is=Va({DenseMatrix:Rr,concat:Ze,config:Jr,matrix:Dr,typed:ur});var n0=ua({flatten:dn,matrix:Dr,size:hi,typed:ur});var Et=Ua({DenseMatrix:Rr,concat:Ze,config:Jr,matrix:Dr,typed:ur});var it=Wa({DenseMatrix:Rr,SparseMatrix:at,addScalar:Ne,concat:Ze,equalScalar:he,matrix:Dr,typed:ur});var a0=Pa({BigNumber:nt,DenseMatrix:Rr,Fraction:pn,concat:Ze,config:Jr,equalScalar:he,matrix:Dr,typed:ur});var ot=ja({addScalar:Ne,conj:vn,multiplyScalar:Le,size:hi,typed:ur});var i0=Qa({DenseMatrix:Rr,smaller:Et}),gi=Ga({ImmutableDenseMatrix:i0});var ut=Za({DenseMatrix:Rr,concat:Ze,config:Jr,matrix:Dr,typed:ur});var te=pa({addScalar:Ne,dot:ot,equalScalar:he,matrix:Dr,multiplyScalar:Le,typed:ur});var o0=La({DenseMatrix:Rr,concat:Ze,config:Jr,matrix:Dr,typed:ur}),ce=ha({DenseMatrix:Rr,addScalar:Ne,concat:Ze,equalScalar:he,matrix:Dr,typed:ur,unaryMinus:At});var os=Ia({DenseMatrix:Rr,divideScalar:_e,equalScalar:he,matrix:Dr,multiplyScalar:Le,subtract:ce,typed:ur});var u0=qa({compare:a0,typed:ur});var s0=ui({divideScalar:_e,isZero:ts,matrix:Dr,multiply:te,subtract:ce,typed:ur,unaryMinus:At});var f0=Xa({larger:ut,smaller:Et});var st=ri({Index:gi,typed:ur});var c0=Ta({DenseMatrix:Rr,divideScalar:_e,equalScalar:he,matrix:Dr,multiplyScalar:Le,subtract:ce,typed:ur});var l0=ti({addScalar:Ne,complex:pi,conj:vn,divideScalar:_e,equal:as,identity:di,isZero:ts,matrix:Dr,multiplyScalar:Le,sign:Wp,sqrt:mi,subtract:ce,typed:ur,unaryMinus:At,zeros:hn}),Di=Ca({bignumber:li,matrix:Dr,config:Jr,larger:ut,largerEq:is,smaller:Et,smallerEq:o0,typed:ur});var p0=ai({SparseMatrix:at,abs:wt,add:it,divideScalar:_e,larger:ut,largerEq:is,multiply:te,subtract:ce,transpose:mn,typed:ur}),v0=$a({FibonacciHeap:f0,addScalar:Ne,equalScalar:he});var m0=Oa({DenseMatrix:Rr,divideScalar:_e,equalScalar:he,matrix:Dr,multiplyScalar:Le,subtract:ce,typed:ur});var h0=ya({Index:gi,matrix:Dr,range:Di,typed:ur});var us=Ha({DenseMatrix:Rr,Index:gi,compareNatural:u0,size:hi,subset:Be,typed:ur});var ss=si({abs:wt,addScalar:Ne,det:s0,divideScalar:_e,identity:di,matrix:Dr,multiply:te,typed:ur,unaryMinus:At}),d0=ei({DenseMatrix:Rr,Spa:v0,SparseMatrix:at,abs:wt,addScalar:Ne,divideScalar:_e,equalScalar:he,larger:ut,matrix:Dr,multiplyScalar:Le,subtract:ce,typed:ur,unaryMinus:At});var g0=za({Complex:ln,config:Jr,fraction:ns,identity:di,inv:ss,matrix:Dr,multiply:te,number:vi,typed:ur});var fs=oi({DenseMatrix:Rr,lsolve:c0,lup:d0,matrix:Dr,slu:p0,typed:ur,usolve:os});var D0=fi({abs:wt,add:it,addScalar:Ne,atan:Yp,bignumber:li,column:h0,complex:pi,config:Jr,cos:jp,diag:t0,divideScalar:_e,dot:ot,equal:as,flatten:dn,im:Jp,inv:ss,larger:ut,matrix:Dr,matrixFromColumns:n0,multiply:te,multiplyScalar:Le,number:vi,qr:l0,re:Hp,sin:kp,smaller:Et,sqrt:mi,subtract:ce,typed:ur,usolve:os,usolveAll:m0});var Ct=ka({abs:wt,add:it,conj:vn,ctranspose:e0,eigs:D0,equalScalar:he,larger:ut,matrix:Dr,multiply:te,pow:g0,smaller:Et,sqrt:mi,typed:ur});var xi=(r,e,t)=>{let a=hn(r.length*3,r.length*3);e.forEach((v,d)=>{let c=Dr(r[v[0]]),h=Dr(r[v[1]]),g=Ct(ce(h,c)),{area:y,elasticity:x}=A0(d,t),E=Dr([[1,-1],[-1,1]]);E=te(E,y*x/g);let C=yi(c,h),D=te(mn(C),te(E,C)),A=[v[0]*3,v[0]*3+1,v[0]*3+2],F=[v[1]*3,v[1]*3+1,v[1]*3+2],b=[...A,...F],w=st(b,b),S=Be(a,w),M=it(S,D);a=Be(a,w,M)});let n=Dr(r.flat()),o=w0(t),p=us(Di(0,n.size()[0]),o),m=y0(r,e,t),f=Be(m,st(p)),u=Be(a,st(p,p)),i=fs(u,f),s=Be(te(n,0),st(p),dn(i)),l=te(a,s);return{dx:s.toArray(),f:l.toArray()}};function y0(r,e,t){let a=hn([r.length*3]);return t.forEach(n=>{if("load"in n){let o=st([n.node*3,n.node*3+1,n.node*3+2]),p=Be(a,o),m=it(p,n.load);a=Be(a,o,m)}}),a}function w0(r){let e=[];return r==null||r.forEach(t=>{"support"in t&&(t.support[0]&&e.push(t.node*3),t.support[1]&&e.push(t.node*3+1),t.support[2]&&e.push(t.node*3+2))}),e}function A0(r,e){let t={area:1,elasticity:1};return e==null||e.forEach(a=>{a.element==r&&"area"in a&&"elasticity"in a&&(t={area:a.area,elasticity:a.elasticity})}),t}function yi(r,e){let t=ce(e,r),a=Ct(t),n=ot(t,Dr([1,0,0]))/a,o=ot(t,Dr([0,1,0]))/a,p=ot(t,Dr([0,0,1]))/a;return Dr([[n,o,p,0,0,0],[0,0,0,n,o,p]])}var E0=(r,e,t)=>{if(e.length>20&&self.$k!=="er")throw Error("er");let{dx:a,f:n}=xi(r,e,t),o=[],p=new Map,m=[];return t==null||t.forEach(f=>{"area"in f&&"elasticity"in f&&p.set(f.element,{area:f.area,elasticity:f.elasticity}),"support"in f&&"node"in f&&m.push(f.node)}),e.forEach((f,u)=>{let i=Dr(r[f[0]]),s=Dr(r[f[1]]),l=Ct(ce(i,s)),{area:v,elasticity:d}=p.get(u)||{elasticity:0,area:0},c=yi(i,s),h=[a[f[0]*3],a[f[0]*3+1],a[f[0]*3+2],a[f[1]*3],a[f[1]*3+1],a[f[1]*3+2]],g=Dr([-1/l,1/l]),y=te(g,c),x=te(y,Dr(h));o.push({element:u,force:Ke(x*d*v)})}),r.forEach((f,u)=>{o.push({node:u,displacement:[Ke(a[u*3]),Ke(a[u*3+1]),Ke(a[u*3+2])]}),m.includes(u)&&o.push({node:u,reaction:[Ke(n[u*3]),Ke(n[u*3+1]),Ke(n[u*3+2])]})}),o},Ke=r=>Math.round(r*1e3)/1e3;export{E0 as analyzing,xi as deforming};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
